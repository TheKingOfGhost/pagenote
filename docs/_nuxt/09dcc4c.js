(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{311:function(t,e,n){"use strict";n(5);var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.requestExtension=void 0;var c=r(n(312)),o=function(){var element=document.getElementById("messenger"),t=new c.default(element,"page","extension");return element&&(o=function(){return t}),t};e.requestExtension=function(t){var data=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise((function(e,n){o().sendMessage(t,data,(function(t){e(t.data)}),t+Math.random())}))}},312:function(t,e,n){"use strict";n.r(e);e.default=function(element){var t=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"extension";element||((element=document.getElementById("messenger")||document.createElement("div")).id="messenger",element.style.display="none",document.documentElement.appendChild(element));var r={};this.sendMessage=function(t,data,c){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",d=arguments.length>4?arguments[4]:void 0;"function"==typeof c&&(r[o?t+"_"+o:t]=c),element.innerText=JSON.stringify({data:data,type:t,funId:o,startClient:d||e});var l=document.createEvent("Event");l.initEvent("send_to_"+n,!0,!0),element.dispatchEvent(l)},this.addListener=function(t,e){return r[t]=e,this},element.addEventListener("send_to_"+e,(function(n){var c=element.innerText,o={type:"",data:{},funId:"",startClient:""};try{o=JSON.parse(c)}catch(n){}var d=o.startClient===e&&o.funId,l=o.type;d&&(l=o.type+"_"+o.funId);r[l]&&r[l](o,e,(function(data){t.sendMessage(o.type,data,null,o.funId,o.startClient)})),d&&delete r[l],element.innerText=""}))}},401:function(t,e,n){"use strict";n.r(e);var r=n(311),c={layout:"default",data:function(){return{account:null,webdavStatus:{state:0},currentTask:{}}},methods:{getWebdavInfo:function(){var t=this;Object(r.requestExtension)("getWebdavAccount").then((function(e){null!=e&&e.success&&(t.account=e.data)}))},getWebdavStatus:function(){var t=this;Object(r.requestExtension)("getWebdavStatus").then((function(e){null!=e&&e.success&&(t.webdavStatus=e.data)}))},getCurrentSyncTask:function(){var t=this;Object(r.requestExtension)("getCurrentSyncTask").then((function(e){null!=e&&e.success&&(t.currentTask=e.data)}))}},computed:{accountName:function(){var t;return null===(t=this.account)||void 0===t?void 0:t.accountName}},mounted:function(){this.getWebdavInfo(),this.getWebdavStatus(),this.getCurrentSyncTask()}},o=n(76),component=Object(o.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"text-xl"},[t._v("\n    账号信息: "+t._s(t.accountName||"未绑定云盘信息")+"\n  ")]),t._v(" "),n("div",[t._v("\n    当前 webdav 状态： "+t._s(t.webdavStatus)+"\n  ")]),t._v(" "),n("div",[t._v("\n    当前任务 :"+t._s(t.currentTask)+"\n  ")])])}),[],!1,null,null,null);e.default=component.exports}}]);