import { h, render,Component } from 'preact';
import PageNote from "../src/pagenote";
import Demo from './Demo'
import en from '../src/locale/en.json';

// new 对象
window.pagenote = new PageNote('dev',{
  saveInLocal: true,
  enableMarkImg:true,
  functionColors:[[
    {
      icon:'<svg t="1604927420311" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3896" width="256" height="256"><path d="M641.5 649.2H381.4c-13.9-30.1-30.5-60.2-47-89.7-36.4-65.1-73.9-132.4-73.9-189 0-138.3 112.5-250.8 250.8-250.8s250.8 112.5 250.8 250.8c0 56.2-37.6 123.9-74 189.4-16.2 29.3-32.8 59.4-46.6 89.3z" fill="#EDF5F9" p-id="3897"></path><path d="M511.3 63.9c-169.3 0-306.6 137.2-306.6 306.6 0 112.4 102.8 231.4 140.2 336 55.8 156 49.6 249.3 166.3 249.3 118.4 0 110.5-92.9 166.3-248.6C715.2 602.3 817.9 482 817.9 370.5c0-169.3-137.2-306.6-306.6-306.6z m72.3 757.4l-138.2 17.3c-4.9-14.3-10.2-31-16.6-52.8l-0.3-0.9L601 763.4c-2.4 8.2-5.1 16.9-7.3 24.6-3.7 12.6-7 23.4-10.1 33.3z m-163.2-63.2c-5.1-16.8-10.8-34.5-17.2-53.2h216.4c-3.4 10-6.8 20-9.8 29.5l-189.4 23.7zM511.3 900c-28.2 0-41.2-3.2-55.7-34.8l118.1-14.8c-17 46.1-29.5 49.6-62.4 49.6z m130.2-250.8H381.4c-13.9-30.1-30.5-60.2-47-89.7-36.4-65.1-73.9-132.4-73.9-189 0-138.3 112.5-250.8 250.8-250.8s250.8 112.5 250.8 250.8c0 56.2-37.6 123.9-74 189.4-16.2 29.3-32.8 59.4-46.6 89.3z" fill="#144A8A" p-id="3898"></path><path d="M495.3 203.3c-92.2 0-167.2 75-167.2 167.2 0 7.7 6.2 13.9 13.9 13.9s13.9-6.2 13.9-13.9c0-76.8 62.5-139.4 139.4-139.4 7.7 0 13.9-6.2 13.9-13.9s-6.2-13.9-13.9-13.9zM583.6 821.3l-138.2 17.3c-4.9-14.3-10.2-31-16.6-52.8l-0.3-0.9L601 763.4c-2.4 8.2-5.1 16.9-7.3 24.6-3.7 12.6-7 23.4-10.1 33.3zM420.4 758.1c-5.1-16.8-10.8-34.5-17.2-53.2h216.4c-3.4 10-6.8 20-9.8 29.5l-189.4 23.7zM511.3 900c-28.2 0-41.2-3.2-55.7-34.8l118.1-14.8c-17 46.1-29.5 49.6-62.4 49.6z" fill="#9FC8E2" p-id="3899"></path></svg>',
      name:'自定义扩展1',
      shortcut: 'h',
      onclick: function (e,target) {
       alert('点击了')
      },
      onmouseover: function (e) {
        console.log('鼠标经过了',e)
      }
    }
  ],[{
    icon:'<svg t="1603375965274" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3171" width="48" height="48"><path d="M832.19 128H432.84c-35.43 0-64.14 28.72-64.14 64.14V320h64V192.14v-0.06c0.02-0.03 0.06-0.06 0.09-0.09h399.47c0.03 0.02 0.06 0.06 0.09 0.09v399.48c-0.02 0.03-0.06 0.06-0.09 0.09H703.33v64h128.86c35.43 0 64.14-28.72 64.14-64.14V192.14c0-35.42-28.72-64.14-64.14-64.14z" fill="#FFEB76" p-id="3172"></path><path d="M592.19 368H192.84c-35.43 0-64.14 28.72-64.14 64.14V831.5c0 35.43 28.72 64.14 64.14 64.14h399.35c35.43 0 64.14-28.72 64.14-64.14V432.14c0-35.42-28.72-64.14-64.14-64.14zM512 724H271.99v-64H512v64z m0-120H271.99v-64H512v64z" fill="#FFEB76" p-id="3173"></path><path d="M592.19 432h0.06c0.03 0.02 0.06 0.06 0.09 0.09v399.47c-0.02 0.03-0.06 0.06-0.09 0.09H192.78c-0.03-0.02-0.06-0.06-0.09-0.09V432.14v-0.06c0.02-0.03 0.06-0.06 0.09-0.09h399.41m0-63.99H192.84c-35.43 0-64.14 28.72-64.14 64.14V831.5c0 35.43 28.72 64.14 64.14 64.14h399.35c35.43 0 64.14-28.72 64.14-64.14V432.14c0-35.42-28.72-64.14-64.14-64.14z" fill="#333333" p-id="3174"></path><path d="M512 540H271.99v64H512v-64zM512 660H271.99v64H512v-64zM832.19 128H432.84c-35.43 0-64.14 28.72-64.14 64.14V320h64V192.14v-0.06c0.02-0.03 0.06-0.06 0.09-0.09h399.47c0.03 0.02 0.06 0.06 0.09 0.09v399.48c-0.02 0.03-0.06 0.06-0.09 0.09H703.33v64h128.86c35.43 0 64.14-28.72 64.14-64.14V192.14c0-35.42-28.72-64.14-64.14-64.14z" fill="#333333" p-id="3175"></path></svg>',
    name:'copy',
    shortcut: 'a',
    ondbclick: function (e,target) {
      alert('dbclick target');
      console.log(e,target)
    },
  },{
    icon:'https://avatars3.githubusercontent.com/u/10696733?s=64&v=4',
    name:'子扩展',
    onclick: function (e,target) {
      console.log(e,target)
    },
  }],[
    {
      type:'link',
      icon:'<svg t="1609077315684" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="14615" width="16" height="16"><path d="M797.866667 298.666667h-51.2c-4.266667 0-8.533333 0-8.533334-4.266667l-196.266666-196.266667c-8.533333-8.533333-17.066667-12.8-25.6-12.8L213.333333 89.6c-72.533333 0-128 55.466667-128 128V797.866667C85.333333 874.666667 149.333333 938.666667 226.133333 938.666667h571.733334c76.8 0 140.8-64 140.8-140.8v-358.4C938.666667 362.666667 874.666667 298.666667 797.866667 298.666667zM170.666667 217.6c0-25.6 17.066667-42.666667 42.666666-42.666667l273.066667 4.266667c8.533333 0 12.8 4.266667 17.066667 8.533333L622.933333 298.666667H170.666667V217.6zM853.333333 810.666667c0 25.6-17.066667 42.666667-42.666666 42.666666H213.333333c-25.6 0-42.666667-17.066667-42.666666-42.666666v-384c0-21.333333 17.066667-38.4 38.4-42.666667H810.666667c21.333333 0 38.4 21.333333 38.4 42.666667v384z" fill="" p-id="14616"></path><path d="M298.666667 512m-42.666667 0a42.666667 42.666667 0 1 0 85.333333 0 42.666667 42.666667 0 1 0-85.333333 0Z" fill="" p-id="14617"></path><path d="M298.666667 682.666667m-42.666667 0a42.666667 42.666667 0 1 0 85.333333 0 42.666667 42.666667 0 1 0-85.333333 0Z" fill="" p-id="14618"></path><path d="M725.333333 469.333333h-298.666666c-25.6 0-42.666667 17.066667-42.666667 42.666667s17.066667 42.666667 42.666667 42.666667h298.666666c25.6 0 42.666667-17.066667 42.666667-42.666667s-21.333333-42.666667-42.666667-42.666667zM725.333333 640h-298.666666c-25.6 0-42.666667 17.066667-42.666667 42.666667s17.066667 42.666667 42.666667 42.666666h298.666666c25.6 0 42.666667-17.066667 42.666667-42.666666s-21.333333-42.666667-42.666667-42.666667z" fill="" p-id="14619"></path></svg>',
      name:'素材抓取',
      onclick: function (e,target) {
        console.log(e,target)
      },
    }
  ]],
  showIconAnimation: false,
  sideBarActions:[
    {
      icon:'<svg t="1619246468782" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9075" width="16" height="16"><path d="M972.800377 836.271474h-34.140686V153.604808a34.140686 34.140686 0 0 0-34.129374-34.129374H153.59359V34.13503a34.129374 34.129374 0 0 0-68.270061 0v85.329091H51.194155a34.129374 34.129374 0 1 0 0 68.270061h34.140687v682.666666a34.140686 34.140686 0 0 0 34.129374 34.140687h750.936727V989.836689a34.129374 34.129374 0 0 0 68.27006 0v-85.295154h34.129374a34.129374 34.129374 0 1 0 0-68.270061z m-819.195475 0V187.790744h716.796041v648.537292H153.59359z" fill="#ffffff" p-id="9076"></path><path d="M273.063367 358.403677a68.27006 68.27006 0 1 0 68.270061-68.270061 68.27006 68.27006 0 0 0-68.270061 68.270061zM818.183114 726.258825L716.847041 455.599428a18.292077 18.292077 0 0 0-15.599738-11.934534 18.540949 18.540949 0 0 0-17.87352 8.348517L568.745693 627.038163a18.959506 18.959506 0 0 1-24.197126 6.549853l-196.359852-95.385775a18.925569 18.925569 0 0 0-24.185815 6.538541L207.406461 722.729371a17.556774 17.556774 0 0 0-0.644804 18.699322 18.405201 18.405201 0 0 0 16.504725 9.502378h577.314708a18.326015 18.326015 0 0 0 15.37349-7.82815 17.500213 17.500213 0 0 0 2.262471-16.798846z" fill="#ffffff" p-id="9077"></path></svg>',
      name:'截图',
      onclick: function (e) {
        pagenote.capture();
      },
    },
    {
      icon:'<svg t="1619247023676" class="icon" viewBox="0 0 1813 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="24477" width="18" height="18"><path d="M1070.341416 779.34091c-5.972887 23.360626-35.837324 74.461996-83.22223 142.951105 13.007621 3.318271 25.61705 6.503811 38.093748 8.760235 22.829703 4.380117 46.190329 7.565657 69.020032 11.414851 7.565657 1.59277 11.414851-1.59277 15.264045-7.034734 46.190329-69.020032 83.753154-142.420181 114.679438-219.138601 12.476698-29.864437 22.829703-60.923451 34.244554-90.787888 1.061847-3.318271 2.123693-5.972887 3.849194-9.822082 24.953396 8.760235 48.977676 16.856815 74.461996 25.617051-4.380117 13.007621-8.760235 26.147974-13.007621 38.093748-38.093748 105.52101-85.345924 206.529172-148.393069 300.104408-5.441964 7.565657-11.414851 15.264045-16.325892 22.829702-11.945775 17.918662-28.271667 23.360626-49.5086 21.236933-80.434883-7.565657-158.21515-26.147974-233.738992-54.41964-136.978217-51.632293-255.506849-130.474406-349.082084-244.622921-11.414851-13.538545-14.733122-28.80259-7.034734-44.597559 7.034734-15.264045 20.70601-22.29878 37.031902-22.829702C627.816828 655.901238 696.83686 641.83177 763.202275 616.745643c60.392528-22.829703 114.679437-54.41964 157.153303-103.795509 11.945775-14.733122 22.29878-30.926283 33.713631-46.721253 21.767856 12.476698 44.066636 24.953396 68.489109 38.624672-12.476698 18.449585-23.891549 37.031902-37.562825 53.755986-32.651784 41.279288-73.931073 72.869226-119.590479 97.822622-69.020032 38.093748-142.951104 60.392528-220.731371 72.869226-1.59277 0-3.318271 0.530923-6.50381 1.061847 10.883928 10.353005 20.70601 19.511432 30.39536 27.740744 18.980509 15.794969 38.624672 30.926283 58.667027 45.128482 3.849194 2.787347 10.883928 3.849194 15.264045 2.787347 39.686518-9.291158 76.054766-24.953396 106.582857-53.225063-2.654617 14.069468-27.740744 48.977676-63.047144 88.664195 22.29878 10.883928 44.597559 20.70601 65.303568 33.182708 27.20982 15.794969 52.69414 11.414851 79.373037 0 44.597559-19.511432 83.222231-48.446753 119.590478-79.90396 7.565657-3.981925 13.007621-9.423889 20.042355-15.396777zM1360.756473 575.466355c-125.563366-56.01241-250.064885-111.493898-375.62825-167.506308 10.353005-23.891549 26.678897-42.341135 48.977677-55.481487 37.031902-21.767856 74.992919-23.891549 114.148514-7.034734 50.039523 21.767856 100.609969 44.066636 150.118569 66.896338 58.136104 27.20982 85.876847 88.133271 67.958185 148.393069-1.858232 4.380117-3.981925 9.291158-5.574695 14.733122zM1304.744063 356.327754c-39.686518-17.387739-78.842113-34.775478-117.466785-52.163217-1.061847-0.530923-1.59277-1.061847-2.654617-2.123693 1.59277-2.787347 2.654617-5.972887 4.380118-8.760235 48.977676-91.849735 97.822622-183.168546 146.800298-275.151011C1343.899658 2.865552 1353.721739-2.045488 1371.109478 0.741859c16.325892 2.123693 29.864437 9.291158 40.217442 21.767856 7.034734 8.096581 8.760235 17.387739 4.911041 28.271667-36.368248 100.609969-72.869226 201.219939-109.237474 301.166254l-2.256424 4.380118z" fill="#ffffff" p-id="24478"></path></svg>',
      name:'删除所有',
      onclick: function (e) {
        pagenote.recordedSteps.forEach((step)=>{
          step.delete()
        });
      },
    },
    {
      icon:'<svg t="1619246514003" class="icon" viewBox="0 0 1083 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9881" width="16" height="16"><path d="M520.471966 553.340078l-85.119981 85.18018a300.990034 300.990034 0 0 1 0-425.660106L520.471966 127.619774a300.990034 300.990034 0 1 1 425.720304 425.660106l-85.180179 85.18018-85.119982-85.18018 85.119982-85.119981a180.59402 180.59402 0 1 0-255.359945-255.359945L520.471966 297.980133a180.59402 180.59402 0 0 0 0 255.359945z m42.620189-42.559991l85.119982-85.119981a300.990034 300.990034 0 0 1 0 425.660106l-85.119982 85.119981a300.990034 300.990034 0 0 1-425.720304-425.599908L222.552031 425.599908 307.611815 510.780087 222.552031 595.960267a180.59402 180.59402 0 0 0 255.359945 255.420143l85.180179-85.119982a180.59402 180.59402 0 0 0 0-255.420143z" fill="#ffffff" p-id="9882"></path></svg>',
      name:'在pagenote.cn中查看',
      onclick:function (){
        window.open(`https://pagenote.cn/me`,'me')
      }
    }
  ],
  categories:[{
    label:'候选项1'
  },{
    label:'候选项2'
  }],
  brushes:[
    {
      bg:'rgb(225,192,63)',
      shortcut:'p',
      label:'一级画笔',
      level:1,
    },
    {
      bg:'rgb(246,227,154)',
      shortcut:'p',
      label:'一级画笔',
      level:1,
    },
    {
      bg:'rgb(48,217,212)',
      shortcut:'p',
      label:'一级画笔',
      level:1,
    },
    {
      bg:'rgba(114,208,255)',
      shortcut:'a',
      label:'二级画笔',
      level:2,
    }
  ],
  showBarTimeout: 0,
  debug: false,
});

pagenote.i18n.setLang('en',en);
pagenote.i18n.setLangType('en');

class Foo extends Component{
  constructor(props){
    super(props);
    // 初始化
    pagenote.init();
    console.log(pagenote)
  }

  render(){
    return(
      <Demo />
    )
  }
};

const root = document.getElementById('guide');

render(<Foo />, root);
