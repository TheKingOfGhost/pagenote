{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///./node_modules/preact/dist/preact.module.js","webpack:///./node_modules/preact/compat/dist/compat.module.js","webpack:///./node_modules/preact/hooks/dist/hooks.module.js","webpack:///./src/component/light/light-node.scss","webpack:///./node_modules/classnames/index.js","webpack:///./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/typeof.js","webpack:///./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack:///./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/createClass.js","webpack:///./node_modules/@babel/runtime/helpers/inherits.js","webpack:///./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:///./node_modules/shortid/lib/alphabet.js","webpack:///./node_modules/whats-element/pure.js","webpack:///./node_modules/blueimp-md5/js/md5.js","webpack:///./node_modules/lodash/debounce.js","webpack:///./node_modules/@babel/runtime/regenerator/index.js","webpack:///./node_modules/modali/dist/index.js","webpack:///./node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack:///./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack:///./node_modules/lodash/isObject.js","webpack:///./node_modules/lodash/_root.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/lodash/_Symbol.js","webpack:///./node_modules/prop-types/index.js","webpack:///./node_modules/html2canvas/dist/html2canvas.js","webpack:///./node_modules/@babel/runtime/helpers/defineProperty.js","webpack:///./node_modules/bigpicture/index.js","webpack:///./node_modules/@babel/runtime/helpers/extends.js","webpack:///./node_modules/@babel/runtime/helpers/objectWithoutProperties.js","webpack:///./node_modules/react-is/index.js","webpack:///./node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js","webpack:///./src/component/aside/aside.scss","webpack:///./node_modules/react-contenteditable/lib/react-contenteditable.js","webpack:///./node_modules/react-draggable-tags/lib/bundle.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:///./node_modules/lodash/now.js","webpack:///./node_modules/lodash/_freeGlobal.js","webpack:///./node_modules/lodash/toNumber.js","webpack:///./node_modules/lodash/_baseTrim.js","webpack:///./node_modules/lodash/_trimmedEndIndex.js","webpack:///./node_modules/lodash/isSymbol.js","webpack:///./node_modules/lodash/_baseGetTag.js","webpack:///./node_modules/lodash/_getRawTag.js","webpack:///./node_modules/lodash/_objectToString.js","webpack:///./node_modules/lodash/isObjectLike.js","webpack:///./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js","webpack:///./node_modules/react-is/cjs/react-is.production.min.js","webpack:///./node_modules/regenerator-runtime/runtime.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack:///./src/component/aside/lightIcon.scss","webpack:///./node_modules/fast-deep-equal/index.js","webpack:///./node_modules/prop-types/factoryWithThrowingShims.js","webpack:///./node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack:///./node_modules/shortid/index.js","webpack:///./node_modules/shortid/lib/index.js","webpack:///./node_modules/shortid/lib/random/random-from-seed.js","webpack:///./node_modules/shortid/lib/build.js","webpack:///./node_modules/shortid/lib/generate.js","webpack:///./node_modules/shortid/lib/random/random-byte-browser.js","webpack:///./node_modules/nanoid/format.browser.js","webpack:///./node_modules/shortid/lib/is-valid.js","webpack:///./node_modules/shortid/lib/util/cluster-worker-id-browser.js","webpack:///./node_modules/immutable/dist/immutable.js","webpack:///./src/component/action/action-bar.scss","webpack:///./src/utils/index.js","webpack:///./src/utils/canvas2image.js","webpack:///./src/utils/document.js","webpack:///./src/locale/i18n.js","webpack:///./src/const.js","webpack:///./src/utils/highlight.js","webpack:///./src/pagenote-step.tsx","webpack:///./src/pagenote-core.js","webpack:///./src/assets/images/remove.svg","webpack:///./src/assets/images/toggle.svg","webpack:///./src/assets/images/expand.svg","webpack:///./node_modules/@babel/runtime/helpers/esm/extends.js","webpack:///./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/esm/objectSpread2.js","webpack:///./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","webpack:///./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack:///./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack:///./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/esm/inherits.js","webpack:///./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/esm/createSuper.js","webpack:///./node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","webpack:///./node_modules/rc-util/es/raf.js","webpack:///./node_modules/rc-util/es/Dom/contains.js","webpack:///./node_modules/rc-util/es/Dom/findDOMNode.js","webpack:///./node_modules/rc-util/es/ref.js","webpack:///./node_modules/rc-util/es/Dom/addEventListener.js","webpack:///./node_modules/rc-util/es/Dom/canUseDom.js","webpack:///./node_modules/rc-util/es/Portal.js","webpack:///./node_modules/rc-trigger/es/utils/alignUtil.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack:///./node_modules/rc-motion/es/util/motion.js","webpack:///./node_modules/rc-motion/es/hooks/useState.js","webpack:///./node_modules/rc-motion/es/hooks/useIsomorphicLayoutEffect.js","webpack:///./node_modules/rc-motion/es/hooks/useStepQueue.js","webpack:///./node_modules/rc-motion/es/interface.js","webpack:///./node_modules/rc-motion/es/hooks/useNextFrame.js","webpack:///./node_modules/rc-motion/es/hooks/useStatus.js","webpack:///./node_modules/rc-motion/es/hooks/useDomMotionEvents.js","webpack:///./node_modules/rc-motion/es/DomWrapper.js","webpack:///./node_modules/rc-motion/es/CSSMotion.js","webpack:///./node_modules/rc-motion/es/util/diff.js","webpack:///./node_modules/rc-motion/es/CSSMotionList.js","webpack:///./node_modules/rc-motion/es/index.js","webpack:///./node_modules/rc-trigger/es/utils/legacyUtil.js","webpack:///./node_modules/rc-trigger/es/Popup/Mask.js","webpack:///./node_modules/rc-util/es/Dom/isVisible.js","webpack:///./node_modules/dom-align/dist-web/index.js","webpack:///./node_modules/rc-align/es/util.js","webpack:///./node_modules/rc-align/es/Align.js","webpack:///./node_modules/rc-align/es/hooks/useBuffer.js","webpack:///./node_modules/rc-align/es/index.js","webpack:///./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack:///./node_modules/rc-trigger/es/Popup/useVisibleStatus.js","webpack:///./node_modules/rc-trigger/es/Popup/PopupInner.js","webpack:///./node_modules/rc-trigger/es/Popup/useStretchStyle.js","webpack:///./node_modules/rc-trigger/es/Popup/MobilePopupInner.js","webpack:///./node_modules/rc-trigger/es/Popup/index.js","webpack:///./node_modules/rc-util/es/isMobile.js","webpack:///./node_modules/rc-trigger/es/context.js","webpack:///./node_modules/rc-trigger/es/index.js","webpack:///./node_modules/rc-tooltip/es/placements.js","webpack:///./node_modules/rc-tooltip/es/Content.js","webpack:///./node_modules/rc-tooltip/es/Tooltip.js","webpack:///./node_modules/rc-tooltip/es/index.js","webpack:///./src/component/tip/Popover.js","webpack:///./src/assets/images/image.svg","webpack:///./src/component/tip/Tip.js","webpack:///./src/component/aside/LightRefAnotation.js","webpack:///./src/component/aside/ScrollProgress.js","webpack:///./src/component/aside/LightIcon.js","webpack:///./src/assets/images/copy.svg","webpack:///./src/assets/images/delete.svg","webpack:///./src/assets/images/pin.svg","webpack:///./src/assets/images/color.svg","webpack:///./src/assets/images/comment.svg","webpack:///./src/assets/images/more.svg","webpack:///./src/component/light/LightNode.js","webpack:///./src/component/LightActionBar.js","webpack:///./src/component/aside/Tags.js","webpack:///./src/component/aside/AsideBar.js","webpack:///./src/assets/images/highlight.svg","webpack:///./src/component/action/ActionBars.js","webpack:///./src/component/light/LightActionBar.js","webpack:///./src/pagenote.js","webpack:///./node_modules/whats-element/src/helper.js","webpack:///./node_modules/whats-element/src/whatsElementPure.js"],"names":["root","factory","exports","module","define","amd","a","i","window","installedModules","__webpack_require__","moduleId","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","u","f","e","parentNode","removeChild","arguments","length","push","children","defaultProps","v","type","props","ref","__k","__","__b","__e","__d","__c","__h","constructor","__v","vnode","h","current","y","this","context","indexOf","_","base","k","b","__r","debounceRendering","sort","some","__P","I","__n","ownerSVGElement","T","w","A","P","Array","isArray","g","x","L","z","appendChild","nextSibling","insertBefore","setProperty","test","C","style","cssText","replace","toLowerCase","slice","addEventListener","H","$","removeEventListener","setAttribute","removeAttribute","event","contextType","__E","render","M","sub","state","__s","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","forEach","componentWillUpdate","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","j","diffed","localName","nodeType","document","createTextNode","createElementNS","createElement","is","data","childNodes","dangerouslySetInnerHTML","attributes","__html","innerHTML","firstChild","checked","unmount","componentWillUnmount","N","O","S","q","Consumer","Provider","splice","getDerivedStateFromError","setState","componentDidCatch","forceUpdate","Promise","then","resolve","setTimeout","E","displayName","isReactComponent","__f","isPureReactComponent","R","for","$$typeof","map","count","only","toArray","__u","U","D","default","F","__R","__O","pop","__H","fallback","delete","revealOrder","size","Map","reverse","set","W","V","textContent","B","configurable","writable","Z","Y","cancelBubble","defaultPrevented","persist","isPropagationStopped","isDefaultPrevented","nativeEvent","G","class","J","multiple","selected","defaultValue","className","K","Q","ReactCurrentDispatcher","readContext","X","nn","tn","en","rn","un","on","performance","now","Date","ln","fn","cn","an","apply","sn","hn","pn","vn","useState","useReducer","useEffect","useLayoutEffect","useRef","useImperativeHandle","useMemo","useCallback","useContext","useDebugValue","version","Children","hydrate","unmountComponentAtNode","createPortal","createContext","createFactory","cloneElement","createRef","Fragment","isValidElement","findDOMNode","Component","PureComponent","memo","forwardRef","unstable_batchedUpdates","StrictMode","Suspense","SuspenseList","lazy","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","concat","requestAnimationFrame","clearTimeout","cancelAnimationFrame","filter","hasOwn","classNames","classes","arg","argType","inner","toString","join","_getPrototypeOf","setPrototypeOf","getPrototypeOf","__proto__","_typeof","obj","iterator","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","arr","self","ReferenceError","instance","Constructor","TypeError","_defineProperties","target","descriptor","protoProps","staticProps","subClass","superClass","assertThisInitialized","arrayWithoutHoles","iterableToArray","nonIterableSpread","alphabet","previousSeed","shuffled","randomFromSeed","ORIGINAL","reset","setCharacters","_alphabet_","Error","unique","split","item","ind","lastIndexOf","getShuffled","characterIndex","sourceArray","targetArray","nextValue","Math","floor","shuffle","characters","seed","lookup","index","whatsElement","safeAdd","lsw","md5cmn","num","cnt","md5ff","md5gg","md5hh","md5ii","binlMD5","len","olda","oldb","oldc","oldd","binl2rstr","input","output","length32","String","fromCharCode","rstr2binl","undefined","length8","charCodeAt","rstr2hex","charAt","str2rstrUTF8","unescape","encodeURIComponent","rawMD5","rstrMD5","rawHMACMD5","hash","bkey","ipad","opad","rstrHMACMD5","md5","string","raw","isObject","toNumber","nativeMax","max","nativeMin","min","func","wait","options","lastArgs","lastThis","maxWait","result","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","invokeFunc","time","args","thisArg","leadingEdge","timerExpired","shouldInvoke","timeSinceLastCall","trailingEdge","timeWaiting","remainingWait","debounced","isInvoking","cancel","flush","useModali","_slicedToArray","_arr","_n","_d","_e","_s","_i","next","done","err","sliceIterator","_react","_react2","_interopRequireDefault","_reactDom2","_propTypes2","_classnames2","_shortid2","Button","_ref","onClick","label","isStyleDefault","isStyleCancel","isStyleDestructive","buttonClass","propTypes","isRequired","bool","Modali","Modal","_ref2","isModalVisible","hide","buttons","modaliWrapperClass","centered","modaliClass","modali","large","animated","tabIndex","role","overlayClose","onOverlayClicked","closeButton","title","message","button","generate","body","_useState","_useState2","hasToggledBefore","setHasToggledBefore","_useState3","_useState4","setIsModalVisible","_useState5","_useState6","isShown","setIsShown","isModalVisibleRef","timeoutHack","toggle","handleKeyDown","keyCode","keyboardClose","onEscapeKeyDown","onShow","classList","add","onHide","remove","arr2","arrayLikeToArray","minLen","from","freeGlobal","freeSelf","Function","extendStatics","__extends","__assign","assign","__awaiter","_arguments","generator","reject","fulfilled","step","rejected","__generator","sent","trys","ops","verb","op","Bounds","left","top","width","height","fromClientRect","clientRect","parseBounds","node","getBoundingClientRect","toCodePoints","str","codePoints","extra","fromCodePoint","codeUnits","codePoint","chars","Uint8Array","TokenType","slice16","view","start","end","Uint16Array","Trie","initialValue","errorValue","highStart","highValueIndex","ix","UTRIE2_DATA_BLOCK_LENGTH","UTRIE2_INDEX_1_OFFSET","UTRIE2_INDEX_2_BLOCK_LENGTH","SP","BA","HY","CL","CP","EX","IN","NS","OP","IS","NU","PO","PR","SY","AL","EB","EM","H2","H3","ID","JL","JV","JT","SA","UnicodeTrie","base64","buffer","encoded1","encoded2","encoded3","encoded4","bufferLength","ArrayBuffer","bytes","decode","view32","polyUint32Array","Uint32Array","view16","polyUint16Array","headerLength","ceil","createTrieFromBase64","ALPHABETICS","HARD_LINE_BREAKS","SPACE","PREFIX_POSTFIX","LINE_BREAKS","KOREAN_SYLLABLE_BLOCK","HYPHEN","isAdjacentWithSpaceIgnored","currentIndex","classTypes","prev","previousNonSpaceClassType","_lineBreakAtIndex","indicies","forbiddenBreaks","beforeIndex","afterIndex","before","prevIndex","cssFormattedClasses","lineBreak","wordBreak","_a","types","categories","classType","codePointsToCharacterClasses","isLetterNumber","letterNumber","Break","required","isDigit","isHex","isWhiteSpace","isNameStartCodePoint","isLowerCaseLetter","isUpperCaseLetter","isLetter","isNonASCIICodePoint","isNameCodePoint","isNonPrintableCodePoint","isValidEscape","c1","c2","isIdentifierStart","c3","isNumberStart","stringToNumber","sign","integers","int","parseInt","fraction","fracd","frac","expsign","exponent","exp","pow","LEFT_PARENTHESIS_TOKEN","RIGHT_PARENTHESIS_TOKEN","COMMA_TOKEN","SUFFIX_MATCH_TOKEN","PREFIX_MATCH_TOKEN","COLUMN_TOKEN","DASH_MATCH_TOKEN","INCLUDE_MATCH_TOKEN","LEFT_CURLY_BRACKET_TOKEN","RIGHT_CURLY_BRACKET_TOKEN","SUBSTRING_MATCH_TOKEN","BAD_URL_TOKEN","BAD_STRING_TOKEN","CDO_TOKEN","CDC_TOKEN","COLON_TOKEN","SEMICOLON_TOKEN","LEFT_SQUARE_BRACKET_TOKEN","RIGHT_SQUARE_BRACKET_TOKEN","WHITESPACE_TOKEN","EOF_TOKEN","Tokenizer","_value","write","chunk","read","tokens","token","consumeToken","consumeCodePoint","consumeStringToken","peekCodePoint","flags","consumeName","HASH_TOKEN","reconsumeCodePoint","consumeNumericToken","e1","e2","e3","consumeIdentLikeToken","a1","a2","a3","AT_KEYWORD_TOKEN","u1","u2","consumeUnicodeRangeToken","consumeWhiteSpace","DELIM_TOKEN","shift","unshift","delta","digits","questionMarks","start_1","digit","UNICODE_RANGE_TOKEN","endDigits","consumeUrlToken","FUNCTION_TOKEN","IDENT_TOKEN","URL_TOKEN","stringToken","STRING_TOKEN","consumeBadUrlRemnants","consumeEscapedCodePoint","consumeStringSlice","amount","endingCodePoint","consumeNumber","repr","number","unit","DIMENSION_TOKEN","PERCENTAGE_TOKEN","NUMBER_TOKEN","hex","hexCodePoint","isSurrogateCodePoint","Parser","_tokens","tokenizer","parseValue","parseComponentValue","parseValues","parseComponentValues","SyntaxError","reconsumeToken","consumeComponentValue","values","consumeSimpleBlock","consumeFunction","block","isEndingTokenFor","functionToken","cssFunction","FUNCTION","isDimensionToken","isNumberToken","isIdentToken","isStringToken","isIdentWithValue","nonWhiteSpace","nonFunctionArgSeparator","parseFunctionArgs","isLength","isLengthPercentage","parseLengthPercentageTuple","ZERO_LENGTH","FIFTY_PERCENT","HUNDRED_PERCENT","getAbsoluteValueForTuple","tuple","getAbsoluteValue","parent","angle","PI","isAngle","parseNamedSide","ident","deg","color","colorFunction","SUPPORTED_COLOR_FUNCTIONS","substring","pack","namedColor","COLORS","toUpperCase","TRANSPARENT","isTransparent","asString","alpha","blue","green","red","round","getTokenColorValue","rgb","_b","hue2rgb","t1","t2","hue","PropertyDescriptorParsingType","BACKGROUND_CLIP","hsl","saturation","lightness","hsla","rgba","ALICEBLUE","ANTIQUEWHITE","AQUA","AQUAMARINE","AZURE","BEIGE","BISQUE","BLACK","BLANCHEDALMOND","BLUE","BLUEVIOLET","BROWN","BURLYWOOD","CADETBLUE","CHARTREUSE","CHOCOLATE","CORAL","CORNFLOWERBLUE","CORNSILK","CRIMSON","CYAN","DARKBLUE","DARKCYAN","DARKGOLDENROD","DARKGRAY","DARKGREEN","DARKGREY","DARKKHAKI","DARKMAGENTA","DARKOLIVEGREEN","DARKORANGE","DARKORCHID","DARKRED","DARKSALMON","DARKSEAGREEN","DARKSLATEBLUE","DARKSLATEGRAY","DARKSLATEGREY","DARKTURQUOISE","DARKVIOLET","DEEPPINK","DEEPSKYBLUE","DIMGRAY","DIMGREY","DODGERBLUE","FIREBRICK","FLORALWHITE","FORESTGREEN","FUCHSIA","GAINSBORO","GHOSTWHITE","GOLD","GOLDENROD","GRAY","GREEN","GREENYELLOW","GREY","HONEYDEW","HOTPINK","INDIANRED","INDIGO","IVORY","KHAKI","LAVENDER","LAVENDERBLUSH","LAWNGREEN","LEMONCHIFFON","LIGHTBLUE","LIGHTCORAL","LIGHTCYAN","LIGHTGOLDENRODYELLOW","LIGHTGRAY","LIGHTGREEN","LIGHTGREY","LIGHTPINK","LIGHTSALMON","LIGHTSEAGREEN","LIGHTSKYBLUE","LIGHTSLATEGRAY","LIGHTSLATEGREY","LIGHTSTEELBLUE","LIGHTYELLOW","LIME","LIMEGREEN","LINEN","MAGENTA","MAROON","MEDIUMAQUAMARINE","MEDIUMBLUE","MEDIUMORCHID","MEDIUMPURPLE","MEDIUMSEAGREEN","MEDIUMSLATEBLUE","MEDIUMSPRINGGREEN","MEDIUMTURQUOISE","MEDIUMVIOLETRED","MIDNIGHTBLUE","MINTCREAM","MISTYROSE","MOCCASIN","NAVAJOWHITE","NAVY","OLDLACE","OLIVE","OLIVEDRAB","ORANGE","ORANGERED","ORCHID","PALEGOLDENROD","PALEGREEN","PALETURQUOISE","PALEVIOLETRED","PAPAYAWHIP","PEACHPUFF","PERU","PINK","PLUM","POWDERBLUE","PURPLE","REBECCAPURPLE","RED","ROSYBROWN","ROYALBLUE","SADDLEBROWN","SALMON","SANDYBROWN","SEAGREEN","SEASHELL","SIENNA","SILVER","SKYBLUE","SLATEBLUE","SLATEGRAY","SLATEGREY","SNOW","SPRINGGREEN","STEELBLUE","TAN","TEAL","THISTLE","TOMATO","TURQUOISE","VIOLET","WHEAT","WHITE","WHITESMOKE","YELLOW","YELLOWGREEN","CSSImageType","CSSRadialShape","CSSRadialExtent","backgroundClip","prefix","LIST","parse","PADDING_BOX","CONTENT_BOX","BORDER_BOX","backgroundColor","TYPE_VALUE","format","parseColorStop","color$1","stop","processColorStops","stops","lineLength","first","last","processStops","previous","stop_1","absoluteValue","gapBegin","stop_2","gapLength","gapValue","calculateGradientDirection","radian","corner","centerX","centerY","atan2","getAngleFromCorner","abs","sin","cos","halfWidth","halfHeight","halfLineLength","yDiff","xDiff","distance","sqrt","findCorner","closest","reduce","stat","cx","cy","optimumDistance","optimumCorner","Infinity","prefixLinearGradient","angle$1","firstToken","colorStop","LINEAR_GRADIENT","isGreenPixel","createForeignObjectSVG","xmlns","svg","foreignObject","setAttributeNS","loadSerializedSVG","img","Image","onload","onerror","src","XMLSerializer","serializeToString","FEATURES","createRange","range","testElement","TEST_HEIGHT","display","selectNode","rangeBounds","rangeHeight","testRangeBounds","canvas","ctx","getContext","drawImage","toDataURL","testSVG","fetch","fillStyle","fillRect","greenImageSrc","getImageData","backgroundImage","catch","testForeignObject","crossOrigin","XMLHttpRequest","responseType","Logger","id","enabled","debug","console","getTime","info","instances","destroy","getInstance","error","CacheStorage","_caches","Cache","open","cache","getOrigin","url","link","_link","href","protocol","hostname","port","isSameOrigin","_origin","setContext","location","_current","attachInstance","detachInstance","_options","_cache","addImage","has","isBlobImage","isRenderable","loadImage","match","useCORS","useProxy","_this","isInlineImage","SUPPORT_CORS_IMAGES","proxy","SUPPORT_CORS_XHR","allowTaint","isInlineBase64Image","complete","imageTimeout","keys","SUPPORT_RESPONSE_TYPE","xhr","status","response","reader_1","FileReader","readAsDataURL","timeout_1","timeout","ontimeout","send","INLINE_SVG","INLINE_BASE64","INLINE_IMG","SUPPORT_SVG_DRAWING","isSVG","substr","prefixRadialGradient","shape","CIRCLE","FARTHEST_CORNER","position","isColorStop","acc","ELLIPSE","CLOSEST_SIDE","FARTHEST_SIDE","CLOSEST_CORNER","RADIAL_GRADIENT","BACKGROUND_REPEAT","image","image_1","URL","imageFunction","SUPPORTED_IMAGE_FUNCTIONS","isAtPosition_1","isSupportedImage","backgroundOrigin","backgroundPosition","BACKGROUND_SIZE","backgroundRepeat","parseBackgroundRepeat","NO_REPEAT","REPEAT_X","REPEAT_Y","REPEAT","BORDER_STYLE","backgroundSize","isBackgroundSizeInfoToken","borderColorForSide","side","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","borderRadiusForSide","borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius","FLOAT","borderStyleForSide","IDENT_VALUE","NONE","SOLID","borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle","borderWidthForSide","VALUE","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","bit","parseDisplayValue","LINE_BREAK","float","LEFT","RIGHT","INLINE_START","INLINE_END","letterSpacing","LIST_STYLE_POSITION","STRICT","NORMAL","lineHeight","TOKEN_VALUE","listStyleImage","LIST_STYLE_TYPE","listStylePosition","INSIDE","OUTSIDE","OVERFLOW","listStyleType","DISC","SQUARE","DECIMAL","CJK_DECIMAL","DECIMAL_LEADING_ZERO","LOWER_ROMAN","UPPER_ROMAN","LOWER_GREEK","LOWER_ALPHA","UPPER_ALPHA","ARABIC_INDIC","ARMENIAN","BENGALI","CAMBODIAN","CJK_EARTHLY_BRANCH","CJK_HEAVENLY_STEM","CJK_IDEOGRAPHIC","DEVANAGARI","ETHIOPIC_NUMERIC","GEORGIAN","GUJARATI","GURMUKHI","HEBREW","HIRAGANA","HIRAGANA_IROHA","JAPANESE_FORMAL","JAPANESE_INFORMAL","KANNADA","KATAKANA","KATAKANA_IROHA","KHMER","KOREAN_HANGUL_FORMAL","KOREAN_HANJA_FORMAL","KOREAN_HANJA_INFORMAL","LAO","LOWER_ARMENIAN","MALAYALAM","MONGOLIAN","MYANMAR","ORIYA","PERSIAN","SIMP_CHINESE_FORMAL","SIMP_CHINESE_INFORMAL","TAMIL","TELUGU","THAI","TIBETAN","TRAD_CHINESE_FORMAL","TRAD_CHINESE_INFORMAL","UPPER_ARMENIAN","DISCLOSURE_OPEN","DISCLOSURE_CLOSED","marginForSide","marginTop","marginRight","marginBottom","marginLeft","OVERFLOW_WRAP","overflow","HIDDEN","SCROLL","AUTO","VISIBLE","TEXT_ALIGN","overflowWrap","BREAK_WORD","paddingForSide","paddingTop","paddingRight","paddingBottom","paddingLeft","POSITION","textAlign","CENTER","TEXT_TRANSFORM","RELATIVE","ABSOLUTE","FIXED","STICKY","STATIC","textShadow","shadow","offsetX","offsetY","blur","VISIBILITY","textTransform","UPPERCASE","LOWERCASE","CAPITALIZE","transform","transformFunction","SUPPORTED_TRANSFORM_FUNCTIONS","matrix","matrix3d","b1","b2","a4","b4","DEFAULT_VALUE","DEFAULT","transformOrigin","origins","WORD_BREAK","visibility","COLLAPSE","FONT_STYLE","BREAK_ALL","KEEP_ALL","zIndex","auto","order","opacity","textDecorationColor","textDecorationLine","line","fontFamily","accumulator","results","fontSize","fontWeight","fontVariant","PseudoElementType","fontStyle","OBLIQUE","ITALIC","contains","content","counterIncrement","increments","filtered","counter","increment","counterReset","resets","quotes","open_1","close_1","close","getQuote","depth","quote","boxShadow","spread","inset","CSSParsedDeclaration","declaration","cssFloat","overflowTuple","overflowX","overflowY","isVisible","isTransformed","isPositioned","isPositionedWithZIndex","isFloating","isInlineLevel","CSSParsedPseudoDeclaration","CSSParsedCounterDeclaration","parser","length_1","value_1","ElementContainer","element","styles","getComputedStyle","textNodes","elements","isHTMLElementNode","bounds","TextBounds","text","getWrapperBounds","ownerDocument","wrapper","cloneNode","replaceChild","getRangeBounds","offset","setStart","setEnd","breakText","breakWords","bk","breaker","forbiddenBreakpoints","lastEnd","nextIndex","LineBreaker","words","TextContainer","transform$1","textBounds","textList","trim","SUPPORT_RANGE_BOUNDS","replacementNode","splitText","parseTextBounds","capitalize","p1","p2","ImageElementContainer","_super","currentSrc","intrinsicWidth","naturalWidth","intrinsicHeight","naturalHeight","CanvasElementContainer","SVGElementContainer","baseVal","LIElementContainer","OLElementContainer","reversed","CHECKBOX_BORDER_RADIUS","RADIO_BORDER_RADIUS","PASSWORD","InputElementContainer","placeholder","SelectElementContainer","option","selectedIndex","TextareaElementContainer","parseColor","IFrameElementContainer","iframe","contentWindow","documentElement","tree","parseTree","documentBackgroundColor","bodyBackgroundColor","LIST_OWNERS","parseNodeTree","childNode","nextNode","isTextNode","isElementNode","container","createContainer","createsRealStackingContext","createsStackingContext","tagName","isTextareaElement","isSVGElement","isSelectElement","isImageElement","isCanvasElement","isLIElement","isOLElement","isInputElement","isIFrameElement","isBodyElement","Node","TEXT_NODE","ELEMENT_NODE","isSVGElementNode","isStyleElement","isScriptElement","CounterState","counters","getCounterValue","getCounterValues","canReset","entry","counterNames","ROMAN_UPPER","createAdditiveCounter","symbols","suffix","createCounterText","integer","createCounterStyleWithSymbolResolver","codePointRangeLength","isNumeric","resolver","createCounterStyleFromRange","codePointRangeStart","codePointRangeEnd","createCounterStyleFromSymbols","createCJKCounter","numbers","multipliers","negativeSign","tmp","coefficient","appendSuffix","defaultSuffix","cjkSuffix","koreanSuffix","spaceSuffix","CJK_TEN_COEFFICIENTS","CJK_ZEROS","DocumentCloner","scrolledElements","referenceElement","quoteDepth","toIFrame","windowSize","createIFrameContainer","scrollX","defaultView","pageXOffset","scrollY","pageYOffset","cloneWindow","documentClone","iframeLoad","iframeLoader","onclone","restoreNodeScroll","scrollTo","navigator","userAgent","clonedReferenceElement","nodeName","fonts","ready","serializeDoctype","doctype","restoreOwnerScroll","adoptNode","createElementClone","createCanvasClone","createStyleClone","clone","loading","sheet","cssRules","css","rule","inlineImages","clonedCanvas","clonedCtx","putImageData","styleBefore","styleAfter","createPseudoHideStyles","resolvePseudoContent","BEFORE","child","hasAttribute","ignoreElements","copyStyles","after","AFTER","copyCSSStyles","scrollTop","scrollLeft","pseudoElt","anonymousReplacedElement","attr","getAttribute","counterStyle","counterState","counterType","delim","counterStates","counterType_1","separator","PSEUDO_HIDE_ELEMENT_CLASS_BEFORE","PSEUDO_HIDE_ELEMENT_CLASS_AFTER","newClassName","baseValue","PathType","cloneIframeContainer","border","scrolling","onreadystatechange","interval","setInterval","readyState","clearInterval","getPropertyValue","internalSubset","publicId","systemId","createStyles","CORNER","equalPath","Vector","VECTOR","deltaX","deltaY","lerp","BezierCurve","startControl","endControl","BEZIER_CURVE","subdivide","firstHalf","ab","bc","cd","abbc","bccd","dest","isBezierCurve","path","BoundCurves","tlh","tlv","trh","trv","_c","brh","brv","blh","blv","factors","maxFactor","topWidth","rightHeight","bottomWidth","leftHeight","topLeftBorderBox","getCurvePoints","TOP_LEFT","topRightBorderBox","TOP_RIGHT","bottomRightBorderBox","BOTTOM_RIGHT","bottomLeftBorderBox","BOTTOM_LEFT","topLeftPaddingBox","topRightPaddingBox","bottomRightPaddingBox","bottomLeftPaddingBox","topLeftContentBox","topRightContentBox","bottomRightContentBox","bottomLeftContentBox","r1","r2","kappa","ox","oy","xm","ym","calculateBorderBoxPath","curves","calculatePaddingBoxPath","TransformEffect","ClipEffect","StackingContext","inlineLevel","nonInlineLevel","negativeZIndex","zeroOrAutoZIndexOrTransformedOrOpacity","positiveZIndex","nonPositionedFloats","nonPositionedInlineLevel","ElementPaint","parentStack","effects","borderBox","paddingBox","getParentEffects","parseStackTree","stackingContext","realStackingContext","listItems","treatAsRealStackingContext","paintContainer","listOwnerItems","stack","order_1","index_1","index_2","processListItems","owner","numbering","listValue","createPathFromCurves","outer1","inner1","outer2","inner2","contentBox","calculateBackgroundRendering","intrinsicSize","backgroundPositioningArea","calculateBackgroundPositioningArea","getBackgroundValueForIndex","backgroundPaintingArea","calculateBackgroundPaintingArea","backgroundImageSize","calculateBackgroundSize","sizeWidth","sizeHeight","calculateBackgroundRepeatPath","isAuto","hasIntrinsicValue","intrinsicProportion","second","hasIntrinsicProportion","CONTAIN","COVER","hasIntrinsicWidth","hasIntrinsicHeight","hasIntrinsicDimensions","width_3","height_3","repeat","FontMetrics","_data","_document","parseMetrics","span","margin","padding","verticalAlign","baseline","offsetTop","middle","getMetrics","CanvasRenderer","_activeEffects","scale","fontMetrics","translate","textBaseline","applyEffects","popEffect","effect","applyEffect","save","isTransformEffect","isClipEffect","clip","restore","renderStack","globalAlpha","renderStackContent","renderNode","paint","renderNodeBackgroundAndBorders","renderNodeContent","renderTextWithLetterSpacing","fillText","letter","measureText","createFontStyle","variant","renderTextNode","font","textShadows","shadowColor","shadowOffsetX","shadowOffsetY","shadowBlur","renderReplacedElement","box","windowWidth","windowHeight","fill","beginPath","arc","isTextInputElement","canvasTextAlign","computeLineHeight","_f","_g","_h","_j","_k","_l","_m","_o","_p","mask","paths","moveTo","lineTo","formatPath","closePath","point","bezierCurveTo","renderRepeat","pattern","resizeImage","renderBackgroundImage","_loop_1","this_1","x0","x1","y0","y1","gradient_1","top_1","rx","ry","radialGradient_1","midX","midY","invF","createPattern","createLinearGradient","addColorStop","background","isRadialGradient","gradient","calculateRadius","createRadialGradient","renderBorder","curvePoints","borderSide","parsePathForBorder","hasBackground","borders","borders_1","calculateBackgroundCurvedPaintingArea","deltaW","deltaH","borderBoxArea","maskOffset","shadowPaintingArea","calculateContentBoxPath","ForeignObjectRenderer","loadSerializedSVG$1","parseColor$1","renderElement","opts","instanceName","resourceOptions","defaultOptions","windowBounds","documentCloner","clonedElement","bgColor","defaultBackgroundColor","renderOptions","random","scrollWidth","offsetWidth","clientWidth","scrollHeight","offsetHeight","clientHeight","parseDocumentSize","logging","removeContainer","foreignObjectRendering","devicePixelRatio","innerWidth","innerHeight","el","initialized","displayElement","displayImage","displayVideo","displayAudio","iframeContainer","iframeSiteVid","imgSrc","siteVidID","isLoading","checkMediaTimeout","loadingIcon","caption","captionText","captionContent","captionHideButton","isOpen","galleryOpen","isClosing","remoteImage","animationStart","animationEnd","onChangeImage","rightArrowBtn","leftArrowBtn","galleryPosition","galleryEls","galleryCounter","supportsTouch","imgCache","preloadedImages","appendEl","createEl","removeEl","getRect","updateGallery","movement","galleryLength","loop","changeCSS","addToImgCache","changeGalleryImage","activeEl","alert","oldimg","querySelector","toggleCaption","updateIframeDimensions","windowAspect","dimensions","dimensionWidth","dimensionHeight","iframeAspect","checkMedia","errMsg","play","toggleLoadingIcon","noLoader","parentElement","onError","clickEls","images","querySelectorAll","onClose","newStyle","source","startX","createCloseButton","createArrowSymbol","direction","onclick","stopPropagation","head","ontouchstart","changedTouches","pageX","ontouchmove","preventDefault","ontouchend","distX","controls","allow","focus","initialize","ytSrc","vimeoSrc","gallery","galleryAttribute","elIndex","makeGallery","iframeSrc","ytNoCookie","createIframe","audio","vidSrc","_extends","objectWithoutPropertiesLoose","excluded","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","MapShim","getIndex","class_1","__entries__","entries","clear","callback","isBrowser","global$1","global","requestAnimationFrame$1","transitionKeys","mutationObserverSupported","MutationObserver","ResizeObserverController","connected_","mutationEventsAdded_","mutationsObserver_","observers_","onTransitionEnd_","refresh","delay","leadingCall","trailingCall","resolvePending","timeoutCallback","timeStamp","throttle","addObserver","observer","connect_","removeObserver","observers","disconnect_","updateObservers_","activeObservers","gatherActive","hasActive","broadcastActive","observe","childList","characterData","subtree","disconnect","propertyName","instance_","defineConfigurable","getWindowOf","emptyRect","createRectInit","toFloat","parseFloat","getBordersSize","positions","getHTMLElementContentRect","paddings","positions_1","getPaddings","horizPad","right","vertPad","bottom","boxSizing","isDocumentElement","vertScrollbar","horizScrollbar","isSVGGraphicsElement","SVGGraphicsElement","SVGElement","getBBox","getContentRect","bbox","getSVGContentRect","ResizeObservation","broadcastWidth","broadcastHeight","contentRect_","isActive","rect","broadcastRect","ResizeObserverEntry","rectInit","Constr","contentRect","DOMRectReadOnly","ResizeObserverSPI","controller","callbackCtx","activeObservations_","observations_","callback_","controller_","callbackCtx_","Element","observations","unobserve","clearActive","observation","WeakMap","ResizeObserver","method","__createBinding","k2","__setModuleDefault","__importStar","mod","__rest","__importDefault","React","fast_deep_equal_1","PropTypes","normalizeHtml","ContentEditable","lastHtml","html","innerRef","getEl","emitChange","originalEvt","onChange","evt","onInput","onBlur","onKeyUp","onKeyDown","contentEditable","disabled","nextProps","isTargetFocused","activeElement","nodeValue","sel","getSelection","collapse","removeAllRanges","addRange","HTMLElement","replaceCaret","oneOfType","hmr","insertInto","locals","btoa","JSON","stringify","sources","sourceRoot","all","atob","HTMLIFrameElement","contentDocument","refs","parts","media","sourceMap","insertAt","attrs","singleton","createObjectURL","revokeObjectURL","Blob","rel","DEBUG","Boolean","styleSheet","convertToAbsoluteUrls","host","pathname","getOwnPropertyDescriptor","getOwnPropertyDescriptors","defineProperties","Reflect","construct","sham","Proxy","orientation","isInAnotherArea","passAddFunc","tags","List","draggableTagEles","tagEles","dragStart","tagChanged","tagsElesWhichBindedDrag","WeakSet","initialTags","setTags","addTag","getAddTagFunc","forbitSetTagsState","isList","withHotspot","dragMouseDown","clientX","touches","clientY","parentDragTag","offsetLeft","isIn","toJS","buildOnChangeObj","toArea","tag","undraggable","dragElement","fromAreaId","fromArea","build","tagMargin","tagStyle","deleteThis","buildDeleteTagFunc","Hotspot","ExcludedInHotspot","isInAreas","areaId","iter","baseTrim","isSymbol","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","other","valueOf","isBinary","trimmedEndIndex","reTrimStart","reWhitespace","baseGetTag","isObjectLike","getRawTag","objectToString","symToStringTag","objectProto","nativeObjectToString","isOwn","unmasked","_setPrototypeOf","sourceKeys","AsyncMode","ConcurrentMode","ContextConsumer","ContextProvider","ForwardRef","Lazy","Memo","Portal","Profiler","isAsyncMode","isConcurrentMode","isContextConsumer","isContextProvider","isElement","isForwardRef","isFragment","isLazy","isMemo","isPortal","isProfiler","isStrictMode","isSuspense","isValidElementType","typeOf","runtime","Op","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","Context","_invoke","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","_sent","dispatchException","abrupt","record","tryCatch","makeInvokeMethod","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","previousPromise","callInvokeWithMethodAndArg","invoke","__await","unwrapped","resultName","nextLoc","pushTryEntry","locs","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","iterable","iteratorMethod","isNaN","isGeneratorFunction","genFun","ctor","mark","awrap","async","skipTempReset","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","keyList","hasProp","equal","arrA","arrB","dateA","dateB","regexpA","RegExp","regexpB","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","propName","componentName","propFullName","secret","getShim","ReactPropTypes","array","symbol","any","arrayOf","elementType","instanceOf","objectOf","oneOf","exact","checkPropTypes","isValid","clusterWorkerId","seedValue","worker","workerId","newCharacters","_seed_","previousSeconds","seconds","loopCounter","randomByte","crypto","msCrypto","getRandomValues","log","LN2","SLICE$0","createClass","Iterable","isIterable","Seq","KeyedIterable","isKeyed","KeyedSeq","IndexedIterable","isIndexed","IndexedSeq","SetIterable","isAssociative","SetSeq","maybeIterable","IS_ITERABLE_SENTINEL","maybeKeyed","IS_KEYED_SENTINEL","maybeIndexed","IS_INDEXED_SENTINEL","maybeAssociative","isOrdered","maybeOrdered","IS_ORDERED_SENTINEL","Keyed","Indexed","Set","NOT_SET","CHANGE_LENGTH","DID_ALTER","MakeRef","SetRef","OwnerID","arrCopy","newArr","ii","ensureSize","__iterate","returnTrue","wrapIndex","uint32Index","NaN","wholeSlice","begin","resolveBegin","resolveIndex","resolveEnd","defaultIndex","EMPTY_SEQ","EMPTY_REPEAT","EMPTY_RANGE","REAL_ITERATOR_SYMBOL","ITERATOR_SYMBOL","Iterator","iteratorValue","iteratorResult","iteratorDone","hasIterator","getIteratorFn","isIterator","maybeIterator","getIterator","iteratorFn","isArrayLike","emptySequence","toSeq","seq","maybeIndexedSeqFromValue","ObjectSeq","seqFromValue","toKeyedSeq","fromEntrySeq","keyedSeqFromValue","entrySeq","toIndexedSeq","indexedSeqFromValue","toSetSeq","ArraySeq","_array","_object","_keys","IterableSeq","_iterable","IteratorSeq","_iterator","_iteratorCache","isSeq","maybeSeq","seqIterate","useKeys","maxIndex","__iterateUncached","seqIterator","__iteratorUncached","fromJS","json","converter","fromJSWith","parentJSON","isPlainObj","fromJSDefault","toList","toMap","valueA","valueB","equals","deepEqual","__hash","notAssociative","every","flipped","cacheResult","allEqual","bSize","Repeat","times","invariant","condition","Range","_start","_end","_step","Collection","KeyedCollection","IndexedCollection","SetCollection","KEYS","VALUES","ENTRIES","inspect","toSource","of","__toString","__iterator","notSetValue","iterations","val","includes","searchValue","this$0","possibleIndex","offsetValue","imul","smi","i32","STRING_HASH_CACHE_MIN_STRLEN","stringHashCache","hashString","STRING_HASH_CACHE_SIZE","STRING_HASH_CACHE_MAX_SIZE","cachedHashString","hashCode","usingWeakMap","weakMap","UID_HASH_KEY","canDefineProperty","uniqueID","getIENodeHash","objHashUID","isExtensible","hashJSObj","assertNotInfinite","emptyMap","isMap","withMutations","maybeMap","IS_MAP_SENTINEL","keyValues","_root","updateMap","setIn","keyPath","updateIn","deleteIn","update","updater","updatedValue","updateInDeepMap","existing","keyPathIter","isNotSet","existingValue","newValue","nextExisting","nextUpdated","forceIterator","__ownerID","__altered","merge","mergeIntoMapWith","mergeWith","merger","iters","mergeIn","mergeDeep","deepMerger","mergeDeepWith","deepMergerWith","mergeDeepIn","comparator","OrderedMap","sortFactory","sortBy","mapper","mutable","asMutable","wasAltered","__ensureOwner","asImmutable","MapIterator","iterate","ownerID","makeMap","EMPTY_MAP","MapPrototype","ArrayMapNode","BitmapIndexedNode","bitmap","nodes","HashArrayMapNode","HashCollisionNode","keyHash","ValueNode","_type","_reverse","_stack","mapIteratorFrame","mapIteratorValue","__prev","newRoot","newSize","didChangeSize","didAlter","updateNode","isLeafNode","mergeIntoNode","newNode","idx1","SIZE","idx2","iterables","mergeIntoCollectionWith","collection","mergeIntoMap","popCount","idx","canEdit","newArray","removeIn","removed","exists","MAX_ARRAY_MAP_SIZE","createNodes","isEditable","newEntries","keyHashFrag","MAX_BITMAP_INDEXED_SIZE","including","expandedNodes","expandNodes","newBitmap","newNodes","newLen","spliceOut","spliceIn","newCount","MIN_HASH_ARRAY_MAP_SIZE","excluding","packedII","packedNodes","packNodes","keyMatch","subNode","empty","emptyList","makeList","VNode","list","setSize","maybeList","IS_LIST_SENTINEL","listNodeFor","setListBounds","newTail","_tail","getTailOffset","_capacity","updateVNode","_level","updateList","insert","oldSize","mergeIntoListWith","iterateList","DONE","ListPrototype","removeBefore","level","originIndex","newChild","removingFirst","oldChild","editable","editableVNode","removeAfter","sizeIndex","EMPTY_LIST","EMPTY_ORDERED_MAP","tailPos","tail","iterateNodeOrLeaf","to","iterateLeaf","iterateNode","origin","capacity","nodeHas","lowerNode","newLowerNode","rawIndex","oldOrigin","oldCapacity","newOrigin","newCapacity","newLevel","offsetShift","oldTailOffset","newTailOffset","oldTail","beginIndex","maxSize","emptyOrderedMap","isOrderedMap","maybeOrderedMap","makeOrderedMap","omap","_map","_list","updateOrderedMap","newMap","newList","flip","ToKeyedSequence","indexed","_iter","_useKeys","ToIndexedSequence","ToSetSequence","FromEntriesSequence","flipFactory","flipSequence","makeSequence","reversedSequence","cacheResultThrough","mapFactory","mappedSequence","reverseFactory","filterFactory","predicate","filterSequence","sliceFactory","originalSize","resolvedBegin","resolvedEnd","sliceSize","resolvedSize","sliceSeq","skipped","isSkipping","skipWhileFactory","skipSequence","skipping","concatFactory","isKeyedIterable","concatSeq","flatten","sum","flattenFactory","flatSequence","stopped","flatDeep","currentDepth","defaultComparator","maxFactory","maxCompare","comp","zipWithFactory","keyIter","zipper","zipSequence","iterators","isDone","steps","reify","validateEntry","resolveSize","iterableClass","Record","defaultValues","hasInitialized","RecordType","names","setProp","setProps","RecordTypePrototype","_name","_defaultValues","RecordPrototype","valueSeq","indexedIterable","recordName","defaultVal","_empty","makeRecord","likeRecord","emptySet","isSet","maybeSet","IS_SET_SENTINEL","fromKeys","keySeq","updateSet","union","intersect","originalSet","subtract","OrderedSet","__make","EMPTY_SET","SetPrototype","__empty","makeSet","emptyOrderedSet","isOrderedSet","maybeOrderedSet","EMPTY_ORDERED_SET","OrderedSetPrototype","makeOrderedSet","Stack","emptyStack","isStack","unshiftAll","maybeStack","IS_STACK_SENTINEL","_head","peek","makeStack","pushAll","EMPTY_STACK","StackPrototype","mixin","methods","keyCopier","__toJS","toJSON","toObject","toOrderedMap","toOrderedSet","toSet","toStack","__toStringMapper","returnValue","find","findEntry","sideEffect","joined","isFirst","reducer","initialReduction","reduction","useFirst","reduceRight","not","butLast","isEmpty","countBy","grouper","groups","countByFactory","entriesSequence","entryMapper","filterNot","found","findKey","findLast","findLastEntry","findLastKey","flatMap","coerce","flatMapFactory","searchKey","getIn","searchKeyPath","nested","groupBy","isKeyedIter","groupByFactory","hasIn","isSubset","isSuperset","keyOf","keyMapper","lastKeyOf","maxBy","neg","defaultNegComparator","minBy","rest","skip","skipLast","skipWhile","skipUntil","take","takeLast","takeWhile","takeSequence","iterating","takeWhileFactory","takeUntil","ordered","keyed","murmurHashOfSize","hashMerge","hashIterable","IterablePrototype","quoteString","chain","mapEntries","mapKeys","KeyedIterablePrototype","defaultZipper","findIndex","removeNum","numArgs","spliced","findLastIndex","interpose","interposedSequence","interposeFactory","interleave","zipped","interleaved","zip","zipWith","whats","whatsPure","isMobile","prepareSelectionTarget","blackNodes","enableMarkImg","selection","rangeCount","range0","getRangeAt","anchorNode","commonAncestorContainer","isBlackNode","focusNode","canHighlight","markImages","selectedElementContent","cloneContents","containsNode","imgId","getUniqueId","wid","imgUrl","alt","pre","previousSibling","selectedText","startContainer","startOffset","endContainer","endOffset","preElement","nextElement","selectionRects","getClientRects","relativeRect","startPosition","endPosition","offsetRelative","eOffsetX","eOffsetY","whatsEl","tip","bg","parentW","selectionElements","getParams","paramStr","paramObj","paramKeys","tempArr","encryptData","encodeURI","decryptedData","decodeURI","canRun","debounce","convertColor","rate","textColor","Canvas2Image","$support","imageData","dataURL","scaleCanvas","retCanvas","retCtx","getDataURL","saveFile","strData","genImage","fixType","encodeData","makeURI","genBitmapImage","oData","biWidth","biHeight","biSizeImage","bfSize","BITMAPFILEHEADER","BITMAPINFOHEADER","iPadding","aImgData","strPixelData","biWidth4","iOffsetY","strPixelRow","iOffsetX","saveAsImage","getElementById","convertToImage","saveAsPNG","saveAsJPEG","saveAsGIF","saveAsBMP","convertToPNG","convertToJPEG","convertToGIF","convertToBMP","lock","gotoPosition","targetX","targetY","onFinished","scrollIntoView","behavior","timer","getScroll","beforeScrollLeft","beforeScrollTop","documentTarget","afterScrollLeft","getWebIcon","iconEle","moveable","childMove","cursor","canMove","downEvent","capture","upEvent","userSelect","moveEvent","writeTextToClipboard","clipboard","writeText","textarea","select","execCommand","captureElementImage","html2canvas","isPagenote","unVisiable","showCamera","snapshot","camera","innerText","destoryCa","language","i18nObject","defaultLangeObject","setLang","lang","langObject","setLangType","getLangType","BAR_STATUS","wrapMatchesAcrossElements","dict","regex","ignoreGroups","warpTagFun","eachCb","endCb","checkMatch","matchIdx","tempMatch","exec","sibl","startStr","endStr","startNode","replaced","wrapRangeInTextNode","wrapRangeInMappedTextNode","lastIndex","getTextNodes","tempNote","acceptNode","NodeFilter","FILTER_ACCEPT","FILTER_REJECT","createNodeIterator","SHOW_TEXT","formatKeyword","keyword","removeElementHighlight","query","dataset","outerHTML","pagenote","CONSTANT","STORE_KEYS_VERSION_2_VALIDATE","lightBg","darkBg","lightId","isFocus","relatedNode","isInview","recordedSteps","Steps","isLight","goto","light","compute","visible","replay","highlight","isActiveLight","runStep","active","warpFun","bottomColor","note","_light","targetEl","findElement","getTarget","highlightElement","imageElement","lightedImg","missParent","keywords","lightsElement","handler","kw","formatKw","formatPre","formatSuffix","term","isBlack","black","hasLighted","highlightKeywordInElement","warn","gotoView","changeColor","makelink","checkInSign","triggerListener","PagenoteCore","initType","dura","saveInURL","saveInLocal","maxMarkNumber","blacklist","autoLight","brushes","shortcut","barInfo","actionBarOffset","showIconAnimation","onShare","functionColors","sideBarActions","showBarTimeout","keyupTimeout","UN_INIT","snapshots","score","runindex","nextTimer","runningTimer","runBarInfo","runningSetting","lastEvent","plainData","lastaction","DIS_LIGHT","modal","CALLBACKFUN","NULL","constant","OPTIONS","emptyString","isMoble","hasListened","init","initData","sync","localStorage","getItem","simpleStep","setting","dataObject","category","newStep","Step","queryId","blockElement","upListen","that","lastActionTime","showBarTimer","isPressingMouse","lastPosition","loopCheckStartTime","checkShow","currentTime","timeGap","computeResult","showActionBar","hideActionBar","selectionChange","onMouseMove","handleKey","keyCheckTimer","lastKeydownTime","doHighlight","brush","colorItem","extensionActions","actionGroup","groupIndex","action","itemIndex","eventid","HASHCHANGED","URLCHANGED","originPush","history","pushState","originReplace","replaceState","READY","WAITING","PAUSE","DESTROY","realive","RE_ALIVE","toggleAllLight","lightAll","addListener","fun","maxNn","i18n","RECORDING","RECORDFAIL","RECORDED","stepIndex","REMOVEDALL","REMOVED","autoNext","REPLAYING","LIGHT","START_SYNC","store","openModal","activeTab","show","changeTab","_syncModal","generateMD","refer","notification","duration","ele","setTimer","imageSrc","simpleSteps","tempStep","differentSetting","diffSettingCount","getElementsByTagName","storeImages","tempImg","titleEle","descriptionEle","storeInfo","lastModified","icon","description","storeData","setItem","searchString","appendInfo","SYNCED","SYNCED_ERROR","originStatus","decodeData","FINNISHED","PLAYANDWAIT","SHARE_CONFIRM","SHARE_ING","SHARE_ERROR","SHARE_SUCCESS","STORE_KEYS_VERSION_1","_defineProperty","ownKeys","enumerableOnly","sym","_objectSpread2","_objectWithoutProperties","_classCallCheck","_createClass","_assertThisInitialized","_inherits","_possibleConstructorReturn","_createSuper","Derived","hasNativeReflectConstruct","Super","NewTarget","raf","caf","rafUUID","rafIds","cleanup","wrapperRaf","callRef","leftTimes","realId","fillRef","composeRef","_len","_key","addEventListenerWrap","eventType","cb","canUseDom","didUpdate","getContainer","containerRef","initRef","_containerRef$current","_containerRef$current2","isPointsEq","isAlignPoint","makePrefixMap","styleProp","eventName","prefixes","domSupport","win","vendorPrefixes","animationend","transitionend","animation","transition","_document$createEleme","prefixedEventNames","getVendorPrefixedEventName","prefixMap","stylePropList","internalAnimationEndName","internalTransitionEndName","supportTransition","animationEndName","transitionEndName","getTransitionName","transitionName","transitionType","useMountStatus","destroyRef","setVal","STEP_QUEUE","_React$useState2","setStep","_useNextFrame2","nextFrameRef","cancelNextFrame","nextFrame","nextFrameId","isCanceled","useNextFrame","nextStep","doNext","useStatus","supportMotion","getElement","_ref$motionEnter","motionEnter","_ref$motionAppear","motionAppear","_ref$motionLeave","motionLeave","motionDeadline","motionLeaveImmediately","onAppearPrepare","onEnterPrepare","onLeavePrepare","onAppearStart","onEnterStart","onLeaveStart","onAppearActive","onEnterActive","onLeaveActive","onAppearEnd","onEnterEnd","onLeaveEnd","onVisibleChanged","asyncVisible","setAsyncVisible","setStatus","setStyle","mountedRef","deadlineRef","destroyedRef","cacheElementRef","getDomElement","activeRef","onInternalMotionEnd","canEnd","deadline","patchMotionEvents","callbackRef","removeMotionEvents","useDomMotionEvents","eventHandlers","_ref3","_ref4","_useStepQueue2","useStepQueue","onPrepare","_eventHandlers$step","startStep","nextStatus","isMounted","mergedStyle","_React$Component","DomWrapper","config","transitionSupport","isSupportTransition","motionName","CSSMotion","_props$visible","_props$removeOnLeave","removeOnLeave","forceRender","leavedClassName","eventProps","nodeRef","wrapperNodeRef","_useStatus2","statusStep","statusStyle","mergedVisible","renderedRef","originRef","motionChildren","setNodeRef","mergedProps","_classNames","statusSuffix","wrapKeyToObject","keyObj","parseKeys","diffKeys","prevKeys","currentKeys","currentLen","prevKeyObjects","currentKeyObjects","hit","currentKeyObj","duplicatedKeys","matchKey","MOTION_PROP_NAMES","CSSMotionList","keyEntities","removeKey","entity","_this2","_this$props","component","_onVisibleChanged","restProps","motionProps","prop","changedVisible","parsedKeyObjects","prevEntity","_ref5","getMotion","prefixCls","motion","Mask","maskMotion","maskAnimation","maskTransitionName","vendorPrefix","jsCssMap","Webkit","Moz","ms","getVendorPrefix","getTransformName","setTransitionProperty","transitionProperty","setTransform","getComputedStyleX","matrix2d","forceRelayout","elem","originalStyle","ret","getScrollLeft","getScrollTop","getOffset","pos","doc","docElem","clientLeft","clientTop","getClientPosition","parentWindow","isWindow","_RE_NUM_NO_PX","RE_POS","getOffsetDirection","dir","useCssRight","useCssBottom","oppositeOffsetDirection","setLeftTop","presetH","presetV","horizontalProperty","verticalProperty","oppositeHorizontalProperty","oppositeVerticalProperty","originalTransition","originalOffset","old","preset","off","_dir","_off","setTransform$1","originalXY","getTransformXY","resultXY","xy","match2d","setTransformXY","each","isBorderBoxFn","cs","computedStyle","rsLeft","pixelLeft","BOX_MODELS","swap","getPBMWidth","which","cssProp","domUtils","getParent","getWH","ex","viewportWidth","viewportHeight","docWidth","docHeight","borderBoxValue","isBorderBox","cssBoxValue","Number","borderBoxValueOrIsBorderBox","refWin","documentElementProp","compatMode","cssShow","getWHIgnoreDisplay","_key2","mix","includeMargin","utils","getWindow","getDocument","ignoreShake","oriOffset","oLeft","toFixed","oTop","tLeft","tTop","useCssTransform","setOffset","getWindowScrollLeft","getWindowScrollTop","getOffsetParent","positionStyle","getParent$1","getVisibleRectForElement","alwaysByViewport","visibleRect","originalPosition","documentWidth","documentHeight","bodyStyle","isAncestorFixed","maxVisibleWidth","maxVisibleHeight","getRegion","outerWidth","outerHeight","getAlignOffset","region","align","getElFuturePos","elRegion","refNodeRegion","points","targetOffset","diff","isFailX","elFuturePos","isFailY","reg","flipOffset","convertOffset","offsetLen","normalizeOffset","doAlign","tgtRegion","isTgtRegionVisible","newOverflowCfg","fail","newElRegion","adjustX","adjustY","newPoints","newOffset","newTargetOffset","isCompleteFailX","_newPoints","_newOffset","_newTargetOffset","isCompleteFailY","isStillFailX","isStillFailY","_newPoints2","resizeWidth","resizeHeight","adjustForViewport","alignElement","refNode","targetRegion","isOutOfVisibleRect","__getOffsetParent","__getVisibleRectForElement","monitorResize","prevWidth","prevHeight","resizeObserver","_target$getBoundingCl","fixedWidth","fixedHeight","getPoint","RefAlign","onAlign","monitorWindowResize","_ref$monitorBufferTim","monitorBufferTime","cacheRef","forceAlignPropsRef","_useBuffer2","calledRef","timeoutRef","cancelTrigger","trigger","force","useBuffer","_forceAlignPropsRef$c","latestDisabled","latestTarget","latestOnAlign","offsetParent","_box","tgtPoint","pageY","pointInView","restoreFocus","_forceAlign","cancelForceAlign","resizeMonitor","sourceResizeMonitor","winResizeRef","forceAlign","asyncGeneratorStep","gen","_next","_throw","_asyncToGenerator","StatusQueue","PopupInner","stretch","destroyPopupOnHide","getRootDomNode","getClassNameFromAlign","onMouseEnter","onMouseLeave","onMouseDown","onTouchStart","alignRef","elementRef","alignedClassName","setAlignedClassName","_useStretchStyle","targetSize","setTargetSize","sizeStyle","minHeight","minWidth","useStretchStyle","_useStretchStyle2","stretchStyle","measureStretchStyle","_useVisibleStatus","setInternalStatus","rafRef","cancelRaf","doMeasure","_callee","_context","useVisibleStatus","_useVisibleStatus2","goNextStatus","prepareResolveRef","_alignRef$current","onInternalAlign","popupDomNode","matchAlign","nextAlignedClassName","_prepareResolveRef$cu","onShowPrepare","originHandler","pointerEvents","alignDisabled","motionRef","motionClassName","motionStyle","mergedClassName","onMouseDownCapture","onTouchStartCapture","MobilePopupInner","_props$mobile","mobile","popupClassName","popupStyle","_props$mobile$popupMo","popupMotion","popupRender","Popup","innerVisible","serInnerVisible","inMobile","setInMobile","cloneProps","agent","vendor","opera","popupNode","noop","returnEmptyString","returnDocument","ALL_HANDLERS","PortalComponent","Trigger","popupVisible","popupRef","triggerRef","mouseEnterDelay","fireEvents","delaySetPopupVisible","setPoint","mouseLeaveDelay","onPopupMouseEnter","clearDelayTimer","onPopupMouseLeave","_this$popupRef$curren","relatedTarget","onFocus","isFocusToShow","focusTime","focusDelay","preClickTime","preTouchTime","isBlurToHide","blurDelay","onContextMenu","setPopupVisible","onContextMenuClose","isContextMenuToShow","preTime","isClickToShow","isClickToHide","nextVisible","onPopupMouseDown","_this$context","hasPopupMouseDown","mouseDownTimeout","onDocumentClick","maskClosable","getPopupDomNode","isContextMenuOnly","getTriggerDOMNode","domNode","getPopupClassNameFromAlign","popupPlacement","builtinPlacements","alignPoint","placements","placement","getAlignPopupClassName","getComponent","_this$props2","onPopupAlign","popupAnimation","popupTransitionName","popup","_this$state","getPopupAlign","mouseProps","isMouseEnterToShow","isMouseLeaveToHide","attachParent","popupContainer","attachId","mountNode","_this$props3","getPopupContainer","handlePortalUpdate","prevPopupVisible","afterPopupVisibleChange","triggerContextValue","defaultPopupVisible","currentDocument","clickOutsideHandler","touchOutsideHandler","contextMenuOutsideHandler1","contextMenuOutsideHandler2","clearOutsideHandler","_this$popupRef$curren2","popupAlign","placementStr","getAlignFromPlacement","onPopupVisibleChange","delayS","delayTimer","childPros","_this$props4","showAction","_this$props5","_this$props6","hideAction","_this$props7","_this$props8","_this$props9","_this$props10","_this$popupRef$curren3","childCallback","_this$props11","autoDestroy","newChildProps","createTwoChains","childrenClassName","nodeOrComponent","_type$prototype","_nodeOrComponent$prot","portal","prevState","newState","autoAdjustOverflow","topLeft","leftTop","topRight","rightTop","bottomRight","rightBottom","bottomLeft","leftBottom","overlay","overlayInnerStyle","overlayClassName","_props$trigger","_props$mouseEnterDela","_props$mouseLeaveDela","overlayStyle","_props$prefixCls","onVisibleChange","afterVisibleChange","_props$placement","_props$align","_props$destroyTooltip","destroyTooltipOnHide","defaultVisible","getTooltipContainer","domRef","extraProps","destroyTooltip","keepParent","_props$arrowContent","arrowContent","Popover","Tip","LightRefAnotation","showTarget","imgs","hasRelated","onDblClick","data-founded","data-insign","data-active","ScrollProgress","useDot","percent","setPercent","handleScroll","currentY","totalY","LightIcon","colors","run","data-run","viewBox","p-id","LightNode","deleteLight","doEditor","showNote","modifyTip","saveTip","setRef","dom","setDragAble","relativeNode","relatedNodePosition","_position","saveTimer","setValue","copyHightlight","copyAll","onChangeColor","pinLight","isPin","toggleShowMore","showMore","hasTip","showNoteEditor","showIcons","hasPin","isShow","lightAction","actions","borderColor","pinIcon","pin","actionIcon","selectColor","deleteIcon","moreIcon","moreInfo","toLocaleString","Colors","colorOptions","setColor","currentColor","LightActionBar","copied","setCopy","DraggableArea1","DraggableAreasGroup","addArea","App","allTags","initTagSets","onchange","inputRef","recommendTags","setRecommend","meta","replaceAll","exampleModal","toggleExampleModal","currentArray","optionTags","displayRecommendTags","leftTags","newSet","lastTop","StepSign","containerHeight","running","dot","lastFocusId","data-level","data-dot","data-running","data-focus","data-switch","AsideBar","setCategories","removeSnapshot","capturing","setLastFocus","lastFocus","toggleAutoLight","toggleSideBar","highlightAll","refreshStatus","writing","newStatus","sideEl","BigPicture","isExpand","showBar","colorSet","targets","inViewTargets","data-status","data-action","toggleHideSideBar","currentTarget","Tags","sideStyle","removeIcon","bigPicture","ActionBars","recordButtonX","recordButtonY","showButton","showAnimation","radio","hudu","computePosition","data-pagenotecolor","recordNew","animationDelay","data-eventid","onMouseOver","onmouseover","onDblclick","ondbclick","lights","actionRoot","lastFocusLight","isChild","parentTarget","PageNote","pagenoteCore","rootElement","sidebar","actionBar","stepBar","getCoords","docEl","simpleFyId","newQuery","fround","whatsElementPure","argument","draw","simpleId","lastClick","focusedElement","clean","regExp","getElementsByName","queryString","parentQueryResult","parentQueryString","targetQuery","uinque","viewPosition","inView","viewLeft","viewTop"],"mappings":"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AAG,GAC9DoG,OAAQ,CAAC,IAAK,KAAM,IAAK,KAAM,IAAK,KAAM,IAAK,KAAM,IAAK,KAAM,IAAK,KAAM,MAE3Eqd,GAAW,CACXzjB,SAAU,CACN,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GAEJoG,OAAQ,CACJ,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,MAGJge,GAAS,CACTpkB,SAAU,CACN,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GAEJoG,OAAQ,CACJ,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,KACA,KACA,KACA,KACA,KACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,MAGJ6d,GAAW,CACXjkB,SAAU,CACN,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GAEJoG,OAAQ,CACJ,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,I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","file":"pagenote.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 81);\n","var n,l,u,i,t,o,r={},f=[],e=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function c(n,l){for(var u in l)n[u]=l[u];return n}function s(n){var l=n.parentNode;l&&l.removeChild(n)}function a(n,l,u){var i,t,o,r=arguments,f={};for(o in l)\"key\"==o?i=l[o]:\"ref\"==o?t=l[o]:f[o]=l[o];if(arguments.length>3)for(u=[u],o=3;o<arguments.length;o++)u.push(r[o]);if(null!=u&&(f.children=u),\"function\"==typeof n&&null!=n.defaultProps)for(o in n.defaultProps)void 0===f[o]&&(f[o]=n.defaultProps[o]);return v(n,f,i,t,null)}function v(l,u,i,t,o){var r={type:l,props:u,key:i,ref:t,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++n.__v:o};return null!=n.vnode&&n.vnode(r),r}function h(){return{current:null}}function y(n){return n.children}function p(n,l){this.props=n,this.context=l}function d(n,l){if(null==l)return n.__?d(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?d(n):null}function _(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return _(n)}}function k(l){(!l.__d&&(l.__d=!0)&&u.push(l)&&!b.__r++||t!==n.debounceRendering)&&((t=n.debounceRendering)||i)(b)}function b(){for(var n;b.__r=u.length;)n=u.sort(function(n,l){return n.__v.__b-l.__v.__b}),u=[],n.some(function(n){var l,u,i,t,o,r;n.__d&&(o=(t=(l=n).__v).__e,(r=l.__P)&&(u=[],(i=c({},t)).__v=t.__v+1,I(r,t,i,l.__n,void 0!==r.ownerSVGElement,null!=t.__h?[o]:null,u,null==o?d(t):o,t.__h),T(u,t),t.__e!=o&&_(t)))})}function m(n,l,u,i,t,o,e,c,s,a){var h,p,_,k,b,m,w,A=i&&i.__k||f,P=A.length;for(u.__k=[],h=0;h<l.length;h++)if(null!=(k=u.__k[h]=null==(k=l[h])||\"boolean\"==typeof k?null:\"string\"==typeof k||\"number\"==typeof k||\"bigint\"==typeof k?v(null,k,null,null,k):Array.isArray(k)?v(y,{children:k},null,null,null):k.__b>0?v(k.type,k.props,k.key,null,k.__v):k)){if(k.__=u,k.__b=u.__b+1,null===(_=A[h])||_&&k.key==_.key&&k.type===_.type)A[h]=void 0;else for(p=0;p<P;p++){if((_=A[p])&&k.key==_.key&&k.type===_.type){A[p]=void 0;break}_=null}I(n,k,_=_||r,t,o,e,c,s,a),b=k.__e,(p=k.ref)&&_.ref!=p&&(w||(w=[]),_.ref&&w.push(_.ref,null,k),w.push(p,k.__c||b,k)),null!=b?(null==m&&(m=b),\"function\"==typeof k.type&&null!=k.__k&&k.__k===_.__k?k.__d=s=g(k,s,n):s=x(n,k,_,A,b,s),a||\"option\"!==u.type?\"function\"==typeof u.type&&(u.__d=s):n.value=\"\"):s&&_.__e==s&&s.parentNode!=n&&(s=d(_))}for(u.__e=m,h=P;h--;)null!=A[h]&&(\"function\"==typeof u.type&&null!=A[h].__e&&A[h].__e==u.__d&&(u.__d=d(i,h+1)),L(A[h],A[h]));if(w)for(h=0;h<w.length;h++)z(w[h],w[++h],w[++h])}function g(n,l,u){var i,t;for(i=0;i<n.__k.length;i++)(t=n.__k[i])&&(t.__=n,l=\"function\"==typeof t.type?g(t,l,u):x(u,t,t,n.__k,t.__e,l));return l}function w(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(Array.isArray(n)?n.some(function(n){w(n,l)}):l.push(n)),l}function x(n,l,u,i,t,o){var r,f,e;if(void 0!==l.__d)r=l.__d,l.__d=void 0;else if(null==u||t!=o||null==t.parentNode)n:if(null==o||o.parentNode!==n)n.appendChild(t),r=null;else{for(f=o,e=0;(f=f.nextSibling)&&e<i.length;e+=2)if(f==t)break n;n.insertBefore(t,o),r=o}return void 0!==r?r:t.nextSibling}function A(n,l,u,i,t){var o;for(o in u)\"children\"===o||\"key\"===o||o in l||C(n,o,null,u[o],i);for(o in l)t&&\"function\"!=typeof l[o]||\"children\"===o||\"key\"===o||\"value\"===o||\"checked\"===o||u[o]===l[o]||C(n,o,l[o],u[o],i)}function P(n,l,u){\"-\"===l[0]?n.setProperty(l,u):n[l]=null==u?\"\":\"number\"!=typeof u||e.test(l)?u:u+\"px\"}function C(n,l,u,i,t){var o;n:if(\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof i&&(n.style.cssText=i=\"\"),i)for(l in i)u&&l in u||P(n.style,l,\"\");if(u)for(l in u)i&&u[l]===i[l]||P(n.style,l,u[l])}else if(\"o\"===l[0]&&\"n\"===l[1])o=l!==(l=l.replace(/Capture$/,\"\")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+o]=u,u?i||n.addEventListener(l,o?H:$,o):n.removeEventListener(l,o?H:$,o);else if(\"dangerouslySetInnerHTML\"!==l){if(t)l=l.replace(/xlink[H:h]/,\"h\").replace(/sName$/,\"s\");else if(\"href\"!==l&&\"list\"!==l&&\"form\"!==l&&\"tabIndex\"!==l&&\"download\"!==l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null!=u&&(!1!==u||\"a\"===l[0]&&\"r\"===l[1])?n.setAttribute(l,u):n.removeAttribute(l))}}function $(l){this.l[l.type+!1](n.event?n.event(l):l)}function H(l){this.l[l.type+!0](n.event?n.event(l):l)}function I(l,u,i,t,o,r,f,e,s){var a,v,h,d,_,k,b,g,w,x,A,P=u.type;if(void 0!==u.constructor)return null;null!=i.__h&&(s=i.__h,e=u.__e=i.__e,u.__h=null,r=[e]),(a=n.__b)&&a(u);try{n:if(\"function\"==typeof P){if(g=u.props,w=(a=P.contextType)&&t[a.__c],x=a?w?w.props.value:a.__:t,i.__c?b=(v=u.__c=i.__c).__=v.__E:(\"prototype\"in P&&P.prototype.render?u.__c=v=new P(g,x):(u.__c=v=new p(g,x),v.constructor=P,v.render=M),w&&w.sub(v),v.props=g,v.state||(v.state={}),v.context=x,v.__n=t,h=v.__d=!0,v.__h=[]),null==v.__s&&(v.__s=v.state),null!=P.getDerivedStateFromProps&&(v.__s==v.state&&(v.__s=c({},v.__s)),c(v.__s,P.getDerivedStateFromProps(g,v.__s))),d=v.props,_=v.state,h)null==P.getDerivedStateFromProps&&null!=v.componentWillMount&&v.componentWillMount(),null!=v.componentDidMount&&v.__h.push(v.componentDidMount);else{if(null==P.getDerivedStateFromProps&&g!==d&&null!=v.componentWillReceiveProps&&v.componentWillReceiveProps(g,x),!v.__e&&null!=v.shouldComponentUpdate&&!1===v.shouldComponentUpdate(g,v.__s,x)||u.__v===i.__v){v.props=g,v.state=v.__s,u.__v!==i.__v&&(v.__d=!1),v.__v=u,u.__e=i.__e,u.__k=i.__k,u.__k.forEach(function(n){n&&(n.__=u)}),v.__h.length&&f.push(v);break n}null!=v.componentWillUpdate&&v.componentWillUpdate(g,v.__s,x),null!=v.componentDidUpdate&&v.__h.push(function(){v.componentDidUpdate(d,_,k)})}v.context=x,v.props=g,v.state=v.__s,(a=n.__r)&&a(u),v.__d=!1,v.__v=u,v.__P=l,a=v.render(v.props,v.state,v.context),v.state=v.__s,null!=v.getChildContext&&(t=c(c({},t),v.getChildContext())),h||null==v.getSnapshotBeforeUpdate||(k=v.getSnapshotBeforeUpdate(d,_)),A=null!=a&&a.type===y&&null==a.key?a.props.children:a,m(l,Array.isArray(A)?A:[A],u,i,t,o,r,f,e,s),v.base=u.__e,u.__h=null,v.__h.length&&f.push(v),b&&(v.__E=v.__=null),v.__e=!1}else null==r&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=j(i.__e,u,i,t,o,r,f,s);(a=n.diffed)&&a(u)}catch(l){u.__v=null,(s||null!=r)&&(u.__e=e,u.__h=!!s,r[r.indexOf(e)]=null),n.__e(l,u,i)}}function T(l,u){n.__c&&n.__c(u,l),l.some(function(u){try{l=u.__h,u.__h=[],l.some(function(n){n.call(u)})}catch(l){n.__e(l,u.__v)}})}function j(n,l,u,i,t,o,e,c){var a,v,h,y,p=u.props,d=l.props,_=l.type,k=0;if(\"svg\"===_&&(t=!0),null!=o)for(;k<o.length;k++)if((a=o[k])&&(a===n||(_?a.localName==_:3==a.nodeType))){n=a,o[k]=null;break}if(null==n){if(null===_)return document.createTextNode(d);n=t?document.createElementNS(\"http://www.w3.org/2000/svg\",_):document.createElement(_,d.is&&d),o=null,c=!1}if(null===_)p===d||c&&n.data===d||(n.data=d);else{if(o=o&&f.slice.call(n.childNodes),v=(p=u.props||r).dangerouslySetInnerHTML,h=d.dangerouslySetInnerHTML,!c){if(null!=o)for(p={},y=0;y<n.attributes.length;y++)p[n.attributes[y].name]=n.attributes[y].value;(h||v)&&(h&&(v&&h.__html==v.__html||h.__html===n.innerHTML)||(n.innerHTML=h&&h.__html||\"\"))}if(A(n,d,p,t,c),h)l.__k=[];else if(k=l.props.children,m(n,Array.isArray(k)?k:[k],l,u,i,t&&\"foreignObject\"!==_,o,e,n.firstChild,c),null!=o)for(k=o.length;k--;)null!=o[k]&&s(o[k]);c||(\"value\"in d&&void 0!==(k=d.value)&&(k!==n.value||\"progress\"===_&&!k)&&C(n,\"value\",k,p.value,!1),\"checked\"in d&&void 0!==(k=d.checked)&&k!==n.checked&&C(n,\"checked\",k,p.checked,!1))}return n}function z(l,u,i){try{\"function\"==typeof l?l(u):l.current=u}catch(l){n.__e(l,i)}}function L(l,u,i){var t,o,r;if(n.unmount&&n.unmount(l),(t=l.ref)&&(t.current&&t.current!==l.__e||z(t,null,u)),i||\"function\"==typeof l.type||(i=null!=(o=l.__e)),l.__e=l.__d=void 0,null!=(t=l.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(l){n.__e(l,u)}t.base=t.__P=null}if(t=l.__k)for(r=0;r<t.length;r++)t[r]&&L(t[r],u,i);null!=o&&s(o)}function M(n,l,u){return this.constructor(n,u)}function N(l,u,i){var t,o,e;n.__&&n.__(l,u),o=(t=\"function\"==typeof i)?null:i&&i.__k||u.__k,e=[],I(u,l=(!t&&i||u).__k=a(y,null,[l]),o||r,r,void 0!==u.ownerSVGElement,!t&&i?[i]:o?null:u.firstChild?f.slice.call(u.childNodes):null,e,!t&&i?i:o?o.__e:u.firstChild,t),T(e,l)}function O(n,l){N(n,l,O)}function S(n,l,u){var i,t,o,r=arguments,f=c({},n.props);for(o in l)\"key\"==o?i=l[o]:\"ref\"==o?t=l[o]:f[o]=l[o];if(arguments.length>3)for(u=[u],o=3;o<arguments.length;o++)u.push(r[o]);return null!=u&&(f.children=u),v(n.type,f,i||n.key,t||n.ref,null)}function q(n,l){var u={__c:l=\"__cC\"+o++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,i;return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(k)},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n={__e:function(n,l){for(var u,i,t;l=l.__;)if((u=l.__c)&&!u.__)try{if((i=u.constructor)&&null!=i.getDerivedStateFromError&&(u.setState(i.getDerivedStateFromError(n)),t=u.__d),null!=u.componentDidCatch&&(u.componentDidCatch(n),t=u.__d),t)return u.__E=u}catch(l){n=l}throw n},__v:0},l=function(n){return null!=n&&void 0===n.constructor},p.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=c({},this.state),\"function\"==typeof n&&(n=n(c({},u),this.props)),n&&c(u,n),null!=n&&this.__v&&(l&&this.__h.push(l),k(this))},p.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),k(this))},p.prototype.render=y,u=[],i=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,b.__r=0,o=0;export{N as render,O as hydrate,a as createElement,a as h,y as Fragment,h as createRef,l as isValidElement,p as Component,S as cloneElement,q as createContext,w as toChildArray,n as options};\n//# sourceMappingURL=preact.module.js.map\n","import{useState as n,useReducer as t,useEffect as e,useLayoutEffect as r,useRef as u,useImperativeHandle as o,useMemo as i,useCallback as l,useContext as f,useDebugValue as c}from\"preact/hooks\";export*from\"preact/hooks\";import{Component as a,createElement as s,options as h,toChildArray as p,Fragment as v,render as d,hydrate as m,cloneElement as y,createRef as b,createContext as _}from\"preact\";export{createElement,createContext,createRef,Fragment,Component}from\"preact\";function C(n,t){for(var e in t)n[e]=t[e];return n}function S(n,t){for(var e in n)if(\"__source\"!==e&&!(e in t))return!0;for(var r in t)if(\"__source\"!==r&&n[r]!==t[r])return!0;return!1}function E(n){this.props=n}function g(n,t){function e(n){var e=this.props.ref,r=e==n.ref;return!r&&e&&(e.call?e(null):e.current=null),t?!t(this.props,n)||!r:S(this.props,n)}function r(t){return this.shouldComponentUpdate=e,s(n,t)}return r.displayName=\"Memo(\"+(n.displayName||n.name)+\")\",r.prototype.isReactComponent=!0,r.__f=!0,r}(E.prototype=new a).isPureReactComponent=!0,E.prototype.shouldComponentUpdate=function(n,t){return S(this.props,n)||S(this.state,t)};var w=h.__b;h.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),w&&w(n)};var R=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.forward_ref\")||3911;function x(n){function t(t,e){var r=C({},t);return delete r.ref,n(r,(e=t.ref||e)&&(\"object\"!=typeof e||\"current\"in e)?e:null)}return t.$$typeof=R,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName=\"ForwardRef(\"+(n.displayName||n.name)+\")\",t}var N=function(n,t){return null==n?null:p(p(n).map(t))},k={map:N,forEach:N,count:function(n){return n?p(n).length:0},only:function(n){var t=p(n);if(1!==t.length)throw\"Children.only\";return t[0]},toArray:p},A=h.__e;h.__e=function(n,t,e){if(n.then)for(var r,u=t;u=u.__;)if((r=u.__c)&&r.__c)return null==t.__e&&(t.__e=e.__e,t.__k=e.__k),r.__c(n,t);A(n,t,e)};var O=h.unmount;function L(){this.__u=0,this.t=null,this.__b=null}function U(n){var t=n.__.__c;return t&&t.__e&&t.__e(n)}function D(n){var t,e,r;function u(u){if(t||(t=n()).then(function(n){e=n.default||n},function(n){r=n}),r)throw r;if(!e)throw t;return s(e,u)}return u.displayName=\"Lazy\",u.__f=!0,u}function F(){this.u=null,this.o=null}h.unmount=function(n){var t=n.__c;t&&t.__R&&t.__R(),t&&!0===n.__h&&(n.type=null),O&&O(n)},(L.prototype=new a).__c=function(n,t){var e=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(e);var u=U(r.__v),o=!1,i=function(){o||(o=!0,e.__R=null,u?u(l):l())};e.__R=i;var l=function(){if(!--r.__u){if(r.state.__e){var n=r.state.__e;r.__v.__k[0]=function n(t,e,r){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(t){return n(t,e,r)}),t.__c&&t.__c.__P===e&&(t.__e&&r.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=r)),t}(n,n.__c.__P,n.__c.__O)}var t;for(r.setState({__e:r.__b=null});t=r.t.pop();)t.forceUpdate()}},f=!0===t.__h;r.__u++||f||r.setState({__e:r.__b=r.__v.__k[0]}),n.then(i,i)},L.prototype.componentWillUnmount=function(){this.t=[]},L.prototype.render=function(n,t){if(this.__b){if(this.__v.__k){var e=document.createElement(\"div\"),r=this.__v.__k[0].__c;this.__v.__k[0]=function n(t,e,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(n){\"function\"==typeof n.__c&&n.__c()}),t.__c.__H=null),null!=(t=C({},t)).__c&&(t.__c.__P===r&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(t){return n(t,e,r)})),t}(this.__b,e,r.__O=r.__P)}this.__b=null}var u=t.__e&&s(v,null,n.fallback);return u&&(u.__h=null),[s(v,null,t.__e?null:n.children),u]};var M=function(n,t,e){if(++e[1]===e[0]&&n.o.delete(t),n.props.revealOrder&&(\"t\"!==n.props.revealOrder[0]||!n.o.size))for(e=n.u;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;n.u=e=e[2]}};function T(n){return this.getChildContext=function(){return n.context},n.children}function j(n){var t=this,e=n.i;t.componentWillUnmount=function(){d(null,t.l),t.l=null,t.i=null},t.i&&t.i!==e&&t.componentWillUnmount(),n.__v?(t.l||(t.i=e,t.l={nodeType:1,parentNode:e,childNodes:[],appendChild:function(n){this.childNodes.push(n),t.i.appendChild(n)},insertBefore:function(n,e){this.childNodes.push(n),t.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),t.i.removeChild(n)}}),d(s(T,{context:t.context},n.__v),t.l)):t.l&&t.componentWillUnmount()}function I(n,t){return s(j,{__v:n,i:t})}(F.prototype=new a).__e=function(n){var t=this,e=U(t.__v),r=t.o.get(n);return r[0]++,function(u){var o=function(){t.props.revealOrder?(r.push(u),M(t,n,r)):u()};e?e(o):o()}},F.prototype.render=function(n){this.u=null,this.o=new Map;var t=p(n.children);n.revealOrder&&\"b\"===n.revealOrder[0]&&t.reverse();for(var e=t.length;e--;)this.o.set(t[e],this.u=[1,0,this.u]);return n.children},F.prototype.componentDidUpdate=F.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(t,e){M(n,e,t)})};var W=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103,P=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,V=function(n){return(\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(n)};function z(n,t,e){return null==t.__k&&(t.textContent=\"\"),d(n,t),\"function\"==typeof e&&e(),n?n.__c:null}function B(n,t,e){return m(n,t),\"function\"==typeof e&&e(),n?n.__c:null}a.prototype.isReactComponent={},[\"componentWillMount\",\"componentWillReceiveProps\",\"componentWillUpdate\"].forEach(function(n){Object.defineProperty(a.prototype,n,{configurable:!0,get:function(){return this[\"UNSAFE_\"+n]},set:function(t){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:t})}})});var H=h.event;function Z(){}function Y(){return this.cancelBubble}function $(){return this.defaultPrevented}h.event=function(n){return H&&(n=H(n)),n.persist=Z,n.isPropagationStopped=Y,n.isDefaultPrevented=$,n.nativeEvent=n};var q,G={configurable:!0,get:function(){return this.class}},J=h.vnode;h.vnode=function(n){var t=n.type,e=n.props,r=e;if(\"string\"==typeof t){for(var u in r={},e){var o=e[u];\"value\"===u&&\"defaultValue\"in e&&null==o||(\"defaultValue\"===u&&\"value\"in e&&null==e.value?u=\"value\":\"download\"===u&&!0===o?o=\"\":/ondoubleclick/i.test(u)?u=\"ondblclick\":/^onchange(textarea|input)/i.test(u+t)&&!V(e.type)?u=\"oninput\":/^on(Ani|Tra|Tou|BeforeInp)/.test(u)?u=u.toLowerCase():P.test(u)?u=u.replace(/[A-Z0-9]/,\"-$&\").toLowerCase():null===o&&(o=void 0),r[u]=o)}\"select\"==t&&r.multiple&&Array.isArray(r.value)&&(r.value=p(e.children).forEach(function(n){n.props.selected=-1!=r.value.indexOf(n.props.value)})),\"select\"==t&&null!=r.defaultValue&&(r.value=p(e.children).forEach(function(n){n.props.selected=r.multiple?-1!=r.defaultValue.indexOf(n.props.value):r.defaultValue==n.props.value})),n.props=r}t&&e.class!=e.className&&(G.enumerable=\"className\"in e,null!=e.className&&(r.class=e.className),Object.defineProperty(r,\"className\",G)),n.$$typeof=W,J&&J(n)};var K=h.__r;h.__r=function(n){K&&K(n),q=n.__c};var Q={ReactCurrentDispatcher:{current:{readContext:function(n){return q.__n[n.__c].props.value}}}},X=1,nn=2,tn=3,en=4,rn=5;function un(n,t){return t()}var on=\"object\"==typeof performance&&\"function\"==typeof performance.now?performance.now.bind(performance):function(){return Date.now()},ln=\"16.8.0\";function fn(n){return s.bind(null,n)}function cn(n){return!!n&&n.$$typeof===W}function an(n){return cn(n)?y.apply(null,arguments):n}function sn(n){return!!n.__k&&(d(null,n),!0)}function hn(n){return n&&(n.base||1===n.nodeType&&n)||null}var pn=function(n,t){return n(t)},vn=v;export default{useState:n,useReducer:t,useEffect:e,useLayoutEffect:r,useRef:u,useImperativeHandle:o,useMemo:i,useCallback:l,useContext:f,useDebugValue:c,version:\"16.8.0\",Children:k,render:z,hydrate:B,unmountComponentAtNode:sn,createPortal:I,createElement:s,createContext:_,createFactory:fn,cloneElement:an,createRef:b,Fragment:v,isValidElement:cn,findDOMNode:hn,Component:a,PureComponent:E,memo:g,forwardRef:x,unstable_batchedUpdates:pn,StrictMode:v,Suspense:L,SuspenseList:F,lazy:D,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Q};export{ln as version,k as Children,z as render,B as hydrate,sn as unmountComponentAtNode,I as createPortal,fn as createFactory,an as cloneElement,cn as isValidElement,hn as findDOMNode,E as PureComponent,g as memo,x as forwardRef,pn as unstable_batchedUpdates,vn as StrictMode,L as Suspense,F as SuspenseList,D as lazy,Q as __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,X as unstable_ImmediatePriority,nn as unstable_UserBlockingPriority,tn as unstable_NormalPriority,en as unstable_LowPriority,rn as unstable_IdlePriority,un as unstable_runWithPriority,on as unstable_now};\n//# sourceMappingURL=compat.module.js.map\n","import{options as n}from\"preact\";var t,u,r,o=0,i=[],c=n.__b,f=n.__r,e=n.diffed,a=n.__c,v=n.unmount;function m(t,r){n.__h&&n.__h(u,t,o||r),o=0;var i=u.__H||(u.__H={__:[],__h:[]});return t>=i.__.length&&i.__.push({}),i.__[t]}function l(n){return o=1,p(w,n)}function p(n,r,o){var i=m(t++,2);return i.t=n,i.__c||(i.__=[o?o(r):w(void 0,r),function(n){var t=i.t(i.__[0],n);i.__[0]!==t&&(i.__=[t,i.__[1]],i.__c.setState({}))}],i.__c=u),i.__}function y(r,o){var i=m(t++,3);!n.__s&&k(i.__H,o)&&(i.__=r,i.__H=o,u.__H.__h.push(i))}function h(r,o){var i=m(t++,4);!n.__s&&k(i.__H,o)&&(i.__=r,i.__H=o,u.__h.push(i))}function s(n){return o=5,d(function(){return{current:n}},[])}function _(n,t,u){o=6,h(function(){\"function\"==typeof n?n(t()):n&&(n.current=t())},null==u?u:u.concat(n))}function d(n,u){var r=m(t++,7);return k(r.__H,u)&&(r.__=n(),r.__H=u,r.__h=n),r.__}function A(n,t){return o=8,d(function(){return n},t)}function F(n){var r=u.context[n.__c],o=m(t++,9);return o.__c=n,r?(null==o.__&&(o.__=!0,r.sub(u)),r.props.value):n.__}function T(t,u){n.useDebugValue&&n.useDebugValue(u?u(t):t)}function q(n){var r=m(t++,10),o=l();return r.__=n,u.componentDidCatch||(u.componentDidCatch=function(n){r.__&&r.__(n),o[1](n)}),[o[0],function(){o[1](void 0)}]}function x(){i.forEach(function(t){if(t.__P)try{t.__H.__h.forEach(g),t.__H.__h.forEach(j),t.__H.__h=[]}catch(u){t.__H.__h=[],n.__e(u,t.__v)}}),i=[]}n.__b=function(n){u=null,c&&c(n)},n.__r=function(n){f&&f(n),t=0;var r=(u=n.__c).__H;r&&(r.__h.forEach(g),r.__h.forEach(j),r.__h=[])},n.diffed=function(t){e&&e(t);var o=t.__c;o&&o.__H&&o.__H.__h.length&&(1!==i.push(o)&&r===n.requestAnimationFrame||((r=n.requestAnimationFrame)||function(n){var t,u=function(){clearTimeout(r),b&&cancelAnimationFrame(t),setTimeout(n)},r=setTimeout(u,100);b&&(t=requestAnimationFrame(u))})(x)),u=void 0},n.__c=function(t,u){u.some(function(t){try{t.__h.forEach(g),t.__h=t.__h.filter(function(n){return!n.__||j(n)})}catch(r){u.some(function(n){n.__h&&(n.__h=[])}),u=[],n.__e(r,t.__v)}}),a&&a(t,u)},n.unmount=function(t){v&&v(t);var u=t.__c;if(u&&u.__H)try{u.__H.__.forEach(g)}catch(t){n.__e(t,u.__v)}};var b=\"function\"==typeof requestAnimationFrame;function g(n){var t=u;\"function\"==typeof n.__c&&n.__c(),u=t}function j(n){var t=u;n.__c=n.__(),u=t}function k(n,t){return!n||n.length!==t.length||t.some(function(t,u){return t!==n[u]})}function w(n,t){return\"function\"==typeof t?t(n):t}export{l as useState,p as useReducer,y as useEffect,h as useLayoutEffect,s as useRef,_ as useImperativeHandle,d as useMemo,A as useCallback,F as useContext,T as useDebugValue,q as useErrorBoundary};\n//# sourceMappingURL=hooks.module.js.map\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"lightAction\":\"_1cF\",\"fadeInScale\":\"_23E\",\"actions\":\"_1ys\",\"show\":\"_3kJ\",\"moreInfo\":\"_1ee\",\"actionIcon\":\"_3Wq\",\"deleteIcon\":\"_3Xg\",\"pinIcon\":\"_59\",\"pin\":\"oNP\",\"moreIcon\":\"Bnp\",\"dragIcon\":\"_197\",\"colors\":\"_340\",\"colorOptions\":\"_1K_\",\"colorItem\":\"_3Cw\",\"active\":\"_3EA\",\"currentColor\":\"_31i\",\"note\":\"_1-E\",\"showNote\":\"_2rf\"};","/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString === Object.prototype.toString) {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayWithHoles = require(\"./arrayWithHoles.js\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableRest = require(\"./nonIterableRest.js\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var setPrototypeOf = require(\"./setPrototypeOf.js\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var _typeof = require(\"@babel/runtime/helpers/typeof\")[\"default\"];\n\nvar assertThisInitialized = require(\"./assertThisInitialized.js\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayWithoutHoles = require(\"./arrayWithoutHoles.js\");\n\nvar iterableToArray = require(\"./iterableToArray.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread.js\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","'use strict';\n\nvar randomFromSeed = require('./random/random-from-seed');\n\nvar ORIGINAL = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-';\nvar alphabet;\nvar previousSeed;\n\nvar shuffled;\n\nfunction reset() {\n    shuffled = false;\n}\n\nfunction setCharacters(_alphabet_) {\n    if (!_alphabet_) {\n        if (alphabet !== ORIGINAL) {\n            alphabet = ORIGINAL;\n            reset();\n        }\n        return;\n    }\n\n    if (_alphabet_ === alphabet) {\n        return;\n    }\n\n    if (_alphabet_.length !== ORIGINAL.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. You submitted ' + _alphabet_.length + ' characters: ' + _alphabet_);\n    }\n\n    var unique = _alphabet_.split('').filter(function(item, ind, arr){\n       return ind !== arr.lastIndexOf(item);\n    });\n\n    if (unique.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. These characters were not unique: ' + unique.join(', '));\n    }\n\n    alphabet = _alphabet_;\n    reset();\n}\n\nfunction characters(_alphabet_) {\n    setCharacters(_alphabet_);\n    return alphabet;\n}\n\nfunction setSeed(seed) {\n    randomFromSeed.seed(seed);\n    if (previousSeed !== seed) {\n        reset();\n        previousSeed = seed;\n    }\n}\n\nfunction shuffle() {\n    if (!alphabet) {\n        setCharacters(ORIGINAL);\n    }\n\n    var sourceArray = alphabet.split('');\n    var targetArray = [];\n    var r = randomFromSeed.nextValue();\n    var characterIndex;\n\n    while (sourceArray.length > 0) {\n        r = randomFromSeed.nextValue();\n        characterIndex = Math.floor(r * sourceArray.length);\n        targetArray.push(sourceArray.splice(characterIndex, 1)[0]);\n    }\n    return targetArray.join('');\n}\n\nfunction getShuffled() {\n    if (shuffled) {\n        return shuffled;\n    }\n    shuffled = shuffle();\n    return shuffled;\n}\n\n/**\n * lookup shuffled letter\n * @param index\n * @returns {string}\n */\nfunction lookup(index) {\n    var alphabetShuffled = getShuffled();\n    return alphabetShuffled[index];\n}\n\nfunction get () {\n  return alphabet || ORIGINAL;\n}\n\nmodule.exports = {\n    get: get,\n    characters: characters,\n    seed: setSeed,\n    lookup: lookup,\n    shuffled: getShuffled\n};\n","/**\n * Created by rowthan on 2017/11/19.\n */\nvar whatsElement= require('./src/whatsElementPure')\nmodule.exports = whatsElement.default;","/*\n * JavaScript MD5\n * https://github.com/blueimp/JavaScript-MD5\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n *\n * Based on\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Digest Algorithm, as defined in RFC 1321.\n * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for more info.\n */\n\n/* global define */\n\n/* eslint-disable strict */\n\n;(function ($) {\n  'use strict'\n\n  /**\n   * Add integers, wrapping at 2^32.\n   * This uses 16-bit operations internally to work around bugs in interpreters.\n   *\n   * @param {number} x First integer\n   * @param {number} y Second integer\n   * @returns {number} Sum\n   */\n  function safeAdd(x, y) {\n    var lsw = (x & 0xffff) + (y & 0xffff)\n    var msw = (x >> 16) + (y >> 16) + (lsw >> 16)\n    return (msw << 16) | (lsw & 0xffff)\n  }\n\n  /**\n   * Bitwise rotate a 32-bit number to the left.\n   *\n   * @param {number} num 32-bit number\n   * @param {number} cnt Rotation count\n   * @returns {number} Rotated number\n   */\n  function bitRotateLeft(num, cnt) {\n    return (num << cnt) | (num >>> (32 - cnt))\n  }\n\n  /**\n   * Basic operation the algorithm uses.\n   *\n   * @param {number} q q\n   * @param {number} a a\n   * @param {number} b b\n   * @param {number} x x\n   * @param {number} s s\n   * @param {number} t t\n   * @returns {number} Result\n   */\n  function md5cmn(q, a, b, x, s, t) {\n    return safeAdd(bitRotateLeft(safeAdd(safeAdd(a, q), safeAdd(x, t)), s), b)\n  }\n  /**\n   * Basic operation the algorithm uses.\n   *\n   * @param {number} a a\n   * @param {number} b b\n   * @param {number} c c\n   * @param {number} d d\n   * @param {number} x x\n   * @param {number} s s\n   * @param {number} t t\n   * @returns {number} Result\n   */\n  function md5ff(a, b, c, d, x, s, t) {\n    return md5cmn((b & c) | (~b & d), a, b, x, s, t)\n  }\n  /**\n   * Basic operation the algorithm uses.\n   *\n   * @param {number} a a\n   * @param {number} b b\n   * @param {number} c c\n   * @param {number} d d\n   * @param {number} x x\n   * @param {number} s s\n   * @param {number} t t\n   * @returns {number} Result\n   */\n  function md5gg(a, b, c, d, x, s, t) {\n    return md5cmn((b & d) | (c & ~d), a, b, x, s, t)\n  }\n  /**\n   * Basic operation the algorithm uses.\n   *\n   * @param {number} a a\n   * @param {number} b b\n   * @param {number} c c\n   * @param {number} d d\n   * @param {number} x x\n   * @param {number} s s\n   * @param {number} t t\n   * @returns {number} Result\n   */\n  function md5hh(a, b, c, d, x, s, t) {\n    return md5cmn(b ^ c ^ d, a, b, x, s, t)\n  }\n  /**\n   * Basic operation the algorithm uses.\n   *\n   * @param {number} a a\n   * @param {number} b b\n   * @param {number} c c\n   * @param {number} d d\n   * @param {number} x x\n   * @param {number} s s\n   * @param {number} t t\n   * @returns {number} Result\n   */\n  function md5ii(a, b, c, d, x, s, t) {\n    return md5cmn(c ^ (b | ~d), a, b, x, s, t)\n  }\n\n  /**\n   * Calculate the MD5 of an array of little-endian words, and a bit length.\n   *\n   * @param {Array} x Array of little-endian words\n   * @param {number} len Bit length\n   * @returns {Array<number>} MD5 Array\n   */\n  function binlMD5(x, len) {\n    /* append padding */\n    x[len >> 5] |= 0x80 << len % 32\n    x[(((len + 64) >>> 9) << 4) + 14] = len\n\n    var i\n    var olda\n    var oldb\n    var oldc\n    var oldd\n    var a = 1732584193\n    var b = -271733879\n    var c = -1732584194\n    var d = 271733878\n\n    for (i = 0; i < x.length; i += 16) {\n      olda = a\n      oldb = b\n      oldc = c\n      oldd = d\n\n      a = md5ff(a, b, c, d, x[i], 7, -680876936)\n      d = md5ff(d, a, b, c, x[i + 1], 12, -389564586)\n      c = md5ff(c, d, a, b, x[i + 2], 17, 606105819)\n      b = md5ff(b, c, d, a, x[i + 3], 22, -1044525330)\n      a = md5ff(a, b, c, d, x[i + 4], 7, -176418897)\n      d = md5ff(d, a, b, c, x[i + 5], 12, 1200080426)\n      c = md5ff(c, d, a, b, x[i + 6], 17, -1473231341)\n      b = md5ff(b, c, d, a, x[i + 7], 22, -45705983)\n      a = md5ff(a, b, c, d, x[i + 8], 7, 1770035416)\n      d = md5ff(d, a, b, c, x[i + 9], 12, -1958414417)\n      c = md5ff(c, d, a, b, x[i + 10], 17, -42063)\n      b = md5ff(b, c, d, a, x[i + 11], 22, -1990404162)\n      a = md5ff(a, b, c, d, x[i + 12], 7, 1804603682)\n      d = md5ff(d, a, b, c, x[i + 13], 12, -40341101)\n      c = md5ff(c, d, a, b, x[i + 14], 17, -1502002290)\n      b = md5ff(b, c, d, a, x[i + 15], 22, 1236535329)\n\n      a = md5gg(a, b, c, d, x[i + 1], 5, -165796510)\n      d = md5gg(d, a, b, c, x[i + 6], 9, -1069501632)\n      c = md5gg(c, d, a, b, x[i + 11], 14, 643717713)\n      b = md5gg(b, c, d, a, x[i], 20, -373897302)\n      a = md5gg(a, b, c, d, x[i + 5], 5, -701558691)\n      d = md5gg(d, a, b, c, x[i + 10], 9, 38016083)\n      c = md5gg(c, d, a, b, x[i + 15], 14, -660478335)\n      b = md5gg(b, c, d, a, x[i + 4], 20, -405537848)\n      a = md5gg(a, b, c, d, x[i + 9], 5, 568446438)\n      d = md5gg(d, a, b, c, x[i + 14], 9, -1019803690)\n      c = md5gg(c, d, a, b, x[i + 3], 14, -187363961)\n      b = md5gg(b, c, d, a, x[i + 8], 20, 1163531501)\n      a = md5gg(a, b, c, d, x[i + 13], 5, -1444681467)\n      d = md5gg(d, a, b, c, x[i + 2], 9, -51403784)\n      c = md5gg(c, d, a, b, x[i + 7], 14, 1735328473)\n      b = md5gg(b, c, d, a, x[i + 12], 20, -1926607734)\n\n      a = md5hh(a, b, c, d, x[i + 5], 4, -378558)\n      d = md5hh(d, a, b, c, x[i + 8], 11, -2022574463)\n      c = md5hh(c, d, a, b, x[i + 11], 16, 1839030562)\n      b = md5hh(b, c, d, a, x[i + 14], 23, -35309556)\n      a = md5hh(a, b, c, d, x[i + 1], 4, -1530992060)\n      d = md5hh(d, a, b, c, x[i + 4], 11, 1272893353)\n      c = md5hh(c, d, a, b, x[i + 7], 16, -155497632)\n      b = md5hh(b, c, d, a, x[i + 10], 23, -1094730640)\n      a = md5hh(a, b, c, d, x[i + 13], 4, 681279174)\n      d = md5hh(d, a, b, c, x[i], 11, -358537222)\n      c = md5hh(c, d, a, b, x[i + 3], 16, -722521979)\n      b = md5hh(b, c, d, a, x[i + 6], 23, 76029189)\n      a = md5hh(a, b, c, d, x[i + 9], 4, -640364487)\n      d = md5hh(d, a, b, c, x[i + 12], 11, -421815835)\n      c = md5hh(c, d, a, b, x[i + 15], 16, 530742520)\n      b = md5hh(b, c, d, a, x[i + 2], 23, -995338651)\n\n      a = md5ii(a, b, c, d, x[i], 6, -198630844)\n      d = md5ii(d, a, b, c, x[i + 7], 10, 1126891415)\n      c = md5ii(c, d, a, b, x[i + 14], 15, -1416354905)\n      b = md5ii(b, c, d, a, x[i + 5], 21, -57434055)\n      a = md5ii(a, b, c, d, x[i + 12], 6, 1700485571)\n      d = md5ii(d, a, b, c, x[i + 3], 10, -1894986606)\n      c = md5ii(c, d, a, b, x[i + 10], 15, -1051523)\n      b = md5ii(b, c, d, a, x[i + 1], 21, -2054922799)\n      a = md5ii(a, b, c, d, x[i + 8], 6, 1873313359)\n      d = md5ii(d, a, b, c, x[i + 15], 10, -30611744)\n      c = md5ii(c, d, a, b, x[i + 6], 15, -1560198380)\n      b = md5ii(b, c, d, a, x[i + 13], 21, 1309151649)\n      a = md5ii(a, b, c, d, x[i + 4], 6, -145523070)\n      d = md5ii(d, a, b, c, x[i + 11], 10, -1120210379)\n      c = md5ii(c, d, a, b, x[i + 2], 15, 718787259)\n      b = md5ii(b, c, d, a, x[i + 9], 21, -343485551)\n\n      a = safeAdd(a, olda)\n      b = safeAdd(b, oldb)\n      c = safeAdd(c, oldc)\n      d = safeAdd(d, oldd)\n    }\n    return [a, b, c, d]\n  }\n\n  /**\n   * Convert an array of little-endian words to a string\n   *\n   * @param {Array<number>} input MD5 Array\n   * @returns {string} MD5 string\n   */\n  function binl2rstr(input) {\n    var i\n    var output = ''\n    var length32 = input.length * 32\n    for (i = 0; i < length32; i += 8) {\n      output += String.fromCharCode((input[i >> 5] >>> i % 32) & 0xff)\n    }\n    return output\n  }\n\n  /**\n   * Convert a raw string to an array of little-endian words\n   * Characters >255 have their high-byte silently ignored.\n   *\n   * @param {string} input Raw input string\n   * @returns {Array<number>} Array of little-endian words\n   */\n  function rstr2binl(input) {\n    var i\n    var output = []\n    output[(input.length >> 2) - 1] = undefined\n    for (i = 0; i < output.length; i += 1) {\n      output[i] = 0\n    }\n    var length8 = input.length * 8\n    for (i = 0; i < length8; i += 8) {\n      output[i >> 5] |= (input.charCodeAt(i / 8) & 0xff) << i % 32\n    }\n    return output\n  }\n\n  /**\n   * Calculate the MD5 of a raw string\n   *\n   * @param {string} s Input string\n   * @returns {string} Raw MD5 string\n   */\n  function rstrMD5(s) {\n    return binl2rstr(binlMD5(rstr2binl(s), s.length * 8))\n  }\n\n  /**\n   * Calculates the HMAC-MD5 of a key and some data (raw strings)\n   *\n   * @param {string} key HMAC key\n   * @param {string} data Raw input string\n   * @returns {string} Raw MD5 string\n   */\n  function rstrHMACMD5(key, data) {\n    var i\n    var bkey = rstr2binl(key)\n    var ipad = []\n    var opad = []\n    var hash\n    ipad[15] = opad[15] = undefined\n    if (bkey.length > 16) {\n      bkey = binlMD5(bkey, key.length * 8)\n    }\n    for (i = 0; i < 16; i += 1) {\n      ipad[i] = bkey[i] ^ 0x36363636\n      opad[i] = bkey[i] ^ 0x5c5c5c5c\n    }\n    hash = binlMD5(ipad.concat(rstr2binl(data)), 512 + data.length * 8)\n    return binl2rstr(binlMD5(opad.concat(hash), 512 + 128))\n  }\n\n  /**\n   * Convert a raw string to a hex string\n   *\n   * @param {string} input Raw input string\n   * @returns {string} Hex encoded string\n   */\n  function rstr2hex(input) {\n    var hexTab = '0123456789abcdef'\n    var output = ''\n    var x\n    var i\n    for (i = 0; i < input.length; i += 1) {\n      x = input.charCodeAt(i)\n      output += hexTab.charAt((x >>> 4) & 0x0f) + hexTab.charAt(x & 0x0f)\n    }\n    return output\n  }\n\n  /**\n   * Encode a string as UTF-8\n   *\n   * @param {string} input Input string\n   * @returns {string} UTF8 string\n   */\n  function str2rstrUTF8(input) {\n    return unescape(encodeURIComponent(input))\n  }\n\n  /**\n   * Encodes input string as raw MD5 string\n   *\n   * @param {string} s Input string\n   * @returns {string} Raw MD5 string\n   */\n  function rawMD5(s) {\n    return rstrMD5(str2rstrUTF8(s))\n  }\n  /**\n   * Encodes input string as Hex encoded string\n   *\n   * @param {string} s Input string\n   * @returns {string} Hex encoded string\n   */\n  function hexMD5(s) {\n    return rstr2hex(rawMD5(s))\n  }\n  /**\n   * Calculates the raw HMAC-MD5 for the given key and data\n   *\n   * @param {string} k HMAC key\n   * @param {string} d Input string\n   * @returns {string} Raw MD5 string\n   */\n  function rawHMACMD5(k, d) {\n    return rstrHMACMD5(str2rstrUTF8(k), str2rstrUTF8(d))\n  }\n  /**\n   * Calculates the Hex encoded HMAC-MD5 for the given key and data\n   *\n   * @param {string} k HMAC key\n   * @param {string} d Input string\n   * @returns {string} Raw MD5 string\n   */\n  function hexHMACMD5(k, d) {\n    return rstr2hex(rawHMACMD5(k, d))\n  }\n\n  /**\n   * Calculates MD5 value for a given string.\n   * If a key is provided, calculates the HMAC-MD5 value.\n   * Returns a Hex encoded string unless the raw argument is given.\n   *\n   * @param {string} string Input string\n   * @param {string} [key] HMAC key\n   * @param {boolean} [raw] Raw output switch\n   * @returns {string} MD5 output\n   */\n  function md5(string, key, raw) {\n    if (!key) {\n      if (!raw) {\n        return hexMD5(string)\n      }\n      return rawMD5(string)\n    }\n    if (!raw) {\n      return hexHMACMD5(key, string)\n    }\n    return rawHMACMD5(key, string)\n  }\n\n  if (typeof define === 'function' && define.amd) {\n    define(function () {\n      return md5\n    })\n  } else if (typeof module === 'object' && module.exports) {\n    module.exports = md5\n  } else {\n    $.md5 = md5\n  }\n})(this)\n","var isObject = require('./isObject'),\n    now = require('./now'),\n    toNumber = require('./toNumber');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nmodule.exports = debounce;\n","module.exports = require(\"regenerator-runtime\");\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useModali = undefined;\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _shortid = require('shortid');\n\nvar _shortid2 = _interopRequireDefault(_shortid);\n\nrequire('./modali.css');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Button = function Button(_ref) {\n  var onClick = _ref.onClick,\n      label = _ref.label,\n      isStyleDefault = _ref.isStyleDefault,\n      isStyleCancel = _ref.isStyleCancel,\n      isStyleDestructive = _ref.isStyleDestructive;\n\n  var buttonClass = (0, _classnames2.default)({\n    'modali-button': true,\n    'modali-button-cancel': isStyleCancel,\n    'modali-button-default': isStyleDefault,\n    'modali-button-destructive': isStyleDestructive\n  });\n  return _react2.default.createElement(\n    'button',\n    {\n      type: 'button',\n      className: buttonClass,\n      onClick: onClick\n    },\n    label\n  );\n};\n\nButton.defaultProps = {\n  isStyleDefault: false,\n  isStyleCancel: false,\n  isStyleDestructive: false\n};\n\nButton.propTypes = {\n  onClick: _propTypes2.default.func.isRequired,\n  label: _propTypes2.default.string.isRequired,\n  isStyleDefault: _propTypes2.default.bool,\n  isStyleCancel: _propTypes2.default.bool,\n  isStyleDestructive: _propTypes2.default.bool\n};\n\nvar Modal = function Modal(_ref2) {\n  var isModalVisible = _ref2.isModalVisible,\n      hide = _ref2.hide,\n      options = _ref2.options,\n      children = _ref2.children;\n\n  function handleOverlayClicked(e) {\n    if (e.target.className !== 'modali-wrapper') {\n      return;\n    }\n    if (options === undefined) {\n      hide();\n    } else {\n      if (options.overlayClose !== false) {\n        hide();\n      }\n      if (options.onOverlayClicked) {\n        options.onOverlayClicked();\n      }\n    }\n  }\n\n  function renderBody() {\n    if (children) {\n      return children;\n    }if (options && options.message) {\n      return _react2.default.createElement(\n        'div',\n        { className: 'modali-body-style' },\n        options.message\n      );\n    }\n    return false;\n  }\n\n  function renderFooter() {\n    var buttons = options.buttons;\n\n    return _react2.default.createElement(\n      'div',\n      { className: 'modali-footer' },\n      buttons.map(function (button) {\n        return _react2.default.createElement(\n          _react2.default.Fragment,\n          {\n            key: _shortid2.default.generate()\n          },\n          button\n        );\n      })\n    );\n  }\n\n  var modaliWrapperClass = (0, _classnames2.default)({\n    'modali-wrapper': true,\n    'modali-wrapper-centered': options && options.centered\n  });\n\n  var modaliClass = (0, _classnames2.default)({\n    modali: true,\n    'modali-size-large': options && options.large,\n    'modali-size-regular': !options || options && !options.large,\n    'modali-animated modali-animation-fade-in': options && options.animated\n  });\n\n  return isModalVisible ? _reactDom2.default.createPortal(_react2.default.createElement(\n    _react2.default.Fragment,\n    null,\n    _react2.default.createElement('div', { className: 'modali-overlay' }),\n    _react2.default.createElement(\n      'div',\n      { className: modaliWrapperClass, 'aria-modal': true, 'aria-hidden': true, tabIndex: -1, role: 'dialog', onClick: handleOverlayClicked },\n      _react2.default.createElement(\n        'div',\n        { className: modaliClass },\n        _react2.default.createElement(\n          'div',\n          { className: 'modali-content' },\n          options !== undefined && options.closeButton === false ? null : _react2.default.createElement(\n            'div',\n            { className: 'modali-header' },\n            options !== undefined && options.title !== undefined && _react2.default.createElement(\n              'div',\n              { className: 'modali-title' },\n              options.title\n            ),\n            _react2.default.createElement(\n              'button',\n              { type: 'button', className: 'modali-close-button', 'data-dismiss': 'modal', 'aria-label': 'Close', onClick: hide },\n              _react2.default.createElement(\n                'span',\n                { 'aria-hidden': 'true' },\n                '\\xD7'\n              )\n            )\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'modali-body' },\n            renderBody()\n          ),\n          options && options.buttons && options.buttons.length > 0 && renderFooter()\n        )\n      )\n    )\n  ), document.body) : null;\n};\n\nvar Modali = function Modali() {};\nModali.Button = Button;\nModali.Modal = Modal;\nexports.default = Modali;\nvar useModali = exports.useModali = function useModali(options) {\n  var _useState = (0, _react.useState)(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      hasToggledBefore = _useState2[0],\n      setHasToggledBefore = _useState2[1];\n\n  var _useState3 = (0, _react.useState)(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isModalVisible = _useState4[0],\n      setIsModalVisible = _useState4[1];\n\n  var _useState5 = (0, _react.useState)(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      isShown = _useState6[0],\n      setIsShown = _useState6[1];\n\n  var isModalVisibleRef = (0, _react.useRef)(isModalVisible);\n  isModalVisibleRef.current = isModalVisible;\n  var timeoutHack = void 0;\n\n  function toggle() {\n    timeoutHack = setTimeout(function () {\n      setIsModalVisible(!isModalVisibleRef.current);\n      clearTimeout(timeoutHack);\n    }, 10);\n    setIsShown(!isShown);\n    setHasToggledBefore(true);\n  }\n\n  function handleKeyDown(event) {\n    if (event.keyCode !== 27 || options && options.keyboardClose === false) return;\n    toggle();\n    if (options && options.onEscapeKeyDown) {\n      options.onEscapeKeyDown();\n    }\n  }\n\n  (0, _react.useEffect)(function () {\n    if (isShown) {\n      if (options && options.onShow) {\n        options.onShow();\n      }\n      document.addEventListener('keydown', handleKeyDown);\n      document.body.classList.add('modali-open');\n    }\n    if (!isShown && hasToggledBefore) {\n      if (options && options.onHide) {\n        options.onHide();\n      }\n      document.body.classList.remove('modali-open');\n    }\n    return function () {\n      return document.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [isShown]);\n\n  return [{\n    isShown: isShown,\n    isModalVisible: isModalVisible,\n    hide: toggle,\n    options: options\n  }, toggle];\n};","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/*!\n * html2canvas 1.0.0-rc.7 <https://html2canvas.hertzen.com>\n * Copyright (c) 2020 Niklas von Hertzen <https://hertzen.com>\n * Released under MIT License\n */\n(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    (global = global || self, global.html2canvas = factory());\n}(this, function () { 'use strict';\n\n    /*! *****************************************************************************\r\n    Copyright (c) Microsoft Corporation. All rights reserved.\r\n    Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\n    this file except in compliance with the License. You may obtain a copy of the\r\n    License at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\n    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\n    MERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\n    See the Apache Version 2.0 License for specific language governing permissions\r\n    and limitations under the License.\r\n    ***************************************************************************** */\r\n    /* global Reflect, Promise */\r\n\r\n    var extendStatics = function(d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n\r\n    function __extends(d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    }\r\n\r\n    var __assign = function() {\r\n        __assign = Object.assign || function __assign(t) {\r\n            for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n                s = arguments[i];\r\n                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n            }\r\n            return t;\r\n        };\r\n        return __assign.apply(this, arguments);\r\n    };\r\n\r\n    function __awaiter(thisArg, _arguments, P, generator) {\r\n        return new (P || (P = Promise))(function (resolve, reject) {\r\n            function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n            function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n            function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n        });\r\n    }\r\n\r\n    function __generator(thisArg, body) {\r\n        var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n        return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n        function verb(n) { return function (v) { return step([n, v]); }; }\r\n        function step(op) {\r\n            if (f) throw new TypeError(\"Generator is already executing.\");\r\n            while (_) try {\r\n                if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n                if (y = 0, t) op = [op[0] & 2, t.value];\r\n                switch (op[0]) {\r\n                    case 0: case 1: t = op; break;\r\n                    case 4: _.label++; return { value: op[1], done: false };\r\n                    case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                    case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                    default:\r\n                        if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                        if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                        if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                        if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                        if (t[2]) _.ops.pop();\r\n                        _.trys.pop(); continue;\r\n                }\r\n                op = body.call(thisArg, _);\r\n            } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n            if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n        }\r\n    }\n\n    var Bounds = /** @class */ (function () {\r\n        function Bounds(x, y, w, h) {\r\n            this.left = x;\r\n            this.top = y;\r\n            this.width = w;\r\n            this.height = h;\r\n        }\r\n        Bounds.prototype.add = function (x, y, w, h) {\r\n            return new Bounds(this.left + x, this.top + y, this.width + w, this.height + h);\r\n        };\r\n        Bounds.fromClientRect = function (clientRect) {\r\n            return new Bounds(clientRect.left, clientRect.top, clientRect.width, clientRect.height);\r\n        };\r\n        return Bounds;\r\n    }());\r\n    var parseBounds = function (node) {\r\n        return Bounds.fromClientRect(node.getBoundingClientRect());\r\n    };\r\n    var parseDocumentSize = function (document) {\r\n        var body = document.body;\r\n        var documentElement = document.documentElement;\r\n        if (!body || !documentElement) {\r\n            throw new Error(\"Unable to get document size\");\r\n        }\r\n        var width = Math.max(Math.max(body.scrollWidth, documentElement.scrollWidth), Math.max(body.offsetWidth, documentElement.offsetWidth), Math.max(body.clientWidth, documentElement.clientWidth));\r\n        var height = Math.max(Math.max(body.scrollHeight, documentElement.scrollHeight), Math.max(body.offsetHeight, documentElement.offsetHeight), Math.max(body.clientHeight, documentElement.clientHeight));\r\n        return new Bounds(0, 0, width, height);\r\n    };\n\n    /*\n     * css-line-break 1.1.1 <https://github.com/niklasvh/css-line-break#readme>\n     * Copyright (c) 2019 Niklas von Hertzen <https://hertzen.com>\n     * Released under MIT License\n     */\n    var toCodePoints = function (str) {\r\n        var codePoints = [];\r\n        var i = 0;\r\n        var length = str.length;\r\n        while (i < length) {\r\n            var value = str.charCodeAt(i++);\r\n            if (value >= 0xd800 && value <= 0xdbff && i < length) {\r\n                var extra = str.charCodeAt(i++);\r\n                if ((extra & 0xfc00) === 0xdc00) {\r\n                    codePoints.push(((value & 0x3ff) << 10) + (extra & 0x3ff) + 0x10000);\r\n                }\r\n                else {\r\n                    codePoints.push(value);\r\n                    i--;\r\n                }\r\n            }\r\n            else {\r\n                codePoints.push(value);\r\n            }\r\n        }\r\n        return codePoints;\r\n    };\r\n    var fromCodePoint = function () {\r\n        var codePoints = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            codePoints[_i] = arguments[_i];\r\n        }\r\n        if (String.fromCodePoint) {\r\n            return String.fromCodePoint.apply(String, codePoints);\r\n        }\r\n        var length = codePoints.length;\r\n        if (!length) {\r\n            return '';\r\n        }\r\n        var codeUnits = [];\r\n        var index = -1;\r\n        var result = '';\r\n        while (++index < length) {\r\n            var codePoint = codePoints[index];\r\n            if (codePoint <= 0xffff) {\r\n                codeUnits.push(codePoint);\r\n            }\r\n            else {\r\n                codePoint -= 0x10000;\r\n                codeUnits.push((codePoint >> 10) + 0xd800, codePoint % 0x400 + 0xdc00);\r\n            }\r\n            if (index + 1 === length || codeUnits.length > 0x4000) {\r\n                result += String.fromCharCode.apply(String, codeUnits);\r\n                codeUnits.length = 0;\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    var chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\r\n    // Use a lookup table to find the index.\r\n    var lookup = typeof Uint8Array === 'undefined' ? [] : new Uint8Array(256);\r\n    for (var i = 0; i < chars.length; i++) {\r\n        lookup[chars.charCodeAt(i)] = i;\r\n    }\r\n    var decode = function (base64) {\r\n        var bufferLength = base64.length * 0.75, len = base64.length, i, p = 0, encoded1, encoded2, encoded3, encoded4;\r\n        if (base64[base64.length - 1] === '=') {\r\n            bufferLength--;\r\n            if (base64[base64.length - 2] === '=') {\r\n                bufferLength--;\r\n            }\r\n        }\r\n        var buffer = typeof ArrayBuffer !== 'undefined' &&\r\n            typeof Uint8Array !== 'undefined' &&\r\n            typeof Uint8Array.prototype.slice !== 'undefined'\r\n            ? new ArrayBuffer(bufferLength)\r\n            : new Array(bufferLength);\r\n        var bytes = Array.isArray(buffer) ? buffer : new Uint8Array(buffer);\r\n        for (i = 0; i < len; i += 4) {\r\n            encoded1 = lookup[base64.charCodeAt(i)];\r\n            encoded2 = lookup[base64.charCodeAt(i + 1)];\r\n            encoded3 = lookup[base64.charCodeAt(i + 2)];\r\n            encoded4 = lookup[base64.charCodeAt(i + 3)];\r\n            bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\r\n            bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\r\n            bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\r\n        }\r\n        return buffer;\r\n    };\r\n    var polyUint16Array = function (buffer) {\r\n        var length = buffer.length;\r\n        var bytes = [];\r\n        for (var i = 0; i < length; i += 2) {\r\n            bytes.push((buffer[i + 1] << 8) | buffer[i]);\r\n        }\r\n        return bytes;\r\n    };\r\n    var polyUint32Array = function (buffer) {\r\n        var length = buffer.length;\r\n        var bytes = [];\r\n        for (var i = 0; i < length; i += 4) {\r\n            bytes.push((buffer[i + 3] << 24) | (buffer[i + 2] << 16) | (buffer[i + 1] << 8) | buffer[i]);\r\n        }\r\n        return bytes;\r\n    };\n\n    /** Shift size for getting the index-2 table offset. */\r\n    var UTRIE2_SHIFT_2 = 5;\r\n    /** Shift size for getting the index-1 table offset. */\r\n    var UTRIE2_SHIFT_1 = 6 + 5;\r\n    /**\r\n     * Shift size for shifting left the index array values.\r\n     * Increases possible data size with 16-bit index values at the cost\r\n     * of compactability.\r\n     * This requires data blocks to be aligned by UTRIE2_DATA_GRANULARITY.\r\n     */\r\n    var UTRIE2_INDEX_SHIFT = 2;\r\n    /**\r\n     * Difference between the two shift sizes,\r\n     * for getting an index-1 offset from an index-2 offset. 6=11-5\r\n     */\r\n    var UTRIE2_SHIFT_1_2 = UTRIE2_SHIFT_1 - UTRIE2_SHIFT_2;\r\n    /**\r\n     * The part of the index-2 table for U+D800..U+DBFF stores values for\r\n     * lead surrogate code _units_ not code _points_.\r\n     * Values for lead surrogate code _points_ are indexed with this portion of the table.\r\n     * Length=32=0x20=0x400>>UTRIE2_SHIFT_2. (There are 1024=0x400 lead surrogates.)\r\n     */\r\n    var UTRIE2_LSCP_INDEX_2_OFFSET = 0x10000 >> UTRIE2_SHIFT_2;\r\n    /** Number of entries in a data block. 32=0x20 */\r\n    var UTRIE2_DATA_BLOCK_LENGTH = 1 << UTRIE2_SHIFT_2;\r\n    /** Mask for getting the lower bits for the in-data-block offset. */\r\n    var UTRIE2_DATA_MASK = UTRIE2_DATA_BLOCK_LENGTH - 1;\r\n    var UTRIE2_LSCP_INDEX_2_LENGTH = 0x400 >> UTRIE2_SHIFT_2;\r\n    /** Count the lengths of both BMP pieces. 2080=0x820 */\r\n    var UTRIE2_INDEX_2_BMP_LENGTH = UTRIE2_LSCP_INDEX_2_OFFSET + UTRIE2_LSCP_INDEX_2_LENGTH;\r\n    /**\r\n     * The 2-byte UTF-8 version of the index-2 table follows at offset 2080=0x820.\r\n     * Length 32=0x20 for lead bytes C0..DF, regardless of UTRIE2_SHIFT_2.\r\n     */\r\n    var UTRIE2_UTF8_2B_INDEX_2_OFFSET = UTRIE2_INDEX_2_BMP_LENGTH;\r\n    var UTRIE2_UTF8_2B_INDEX_2_LENGTH = 0x800 >> 6; /* U+0800 is the first code point after 2-byte UTF-8 */\r\n    /**\r\n     * The index-1 table, only used for supplementary code points, at offset 2112=0x840.\r\n     * Variable length, for code points up to highStart, where the last single-value range starts.\r\n     * Maximum length 512=0x200=0x100000>>UTRIE2_SHIFT_1.\r\n     * (For 0x100000 supplementary code points U+10000..U+10ffff.)\r\n     *\r\n     * The part of the index-2 table for supplementary code points starts\r\n     * after this index-1 table.\r\n     *\r\n     * Both the index-1 table and the following part of the index-2 table\r\n     * are omitted completely if there is only BMP data.\r\n     */\r\n    var UTRIE2_INDEX_1_OFFSET = UTRIE2_UTF8_2B_INDEX_2_OFFSET + UTRIE2_UTF8_2B_INDEX_2_LENGTH;\r\n    /**\r\n     * Number of index-1 entries for the BMP. 32=0x20\r\n     * This part of the index-1 table is omitted from the serialized form.\r\n     */\r\n    var UTRIE2_OMITTED_BMP_INDEX_1_LENGTH = 0x10000 >> UTRIE2_SHIFT_1;\r\n    /** Number of entries in an index-2 block. 64=0x40 */\r\n    var UTRIE2_INDEX_2_BLOCK_LENGTH = 1 << UTRIE2_SHIFT_1_2;\r\n    /** Mask for getting the lower bits for the in-index-2-block offset. */\r\n    var UTRIE2_INDEX_2_MASK = UTRIE2_INDEX_2_BLOCK_LENGTH - 1;\r\n    var slice16 = function (view, start, end) {\r\n        if (view.slice) {\r\n            return view.slice(start, end);\r\n        }\r\n        return new Uint16Array(Array.prototype.slice.call(view, start, end));\r\n    };\r\n    var slice32 = function (view, start, end) {\r\n        if (view.slice) {\r\n            return view.slice(start, end);\r\n        }\r\n        return new Uint32Array(Array.prototype.slice.call(view, start, end));\r\n    };\r\n    var createTrieFromBase64 = function (base64) {\r\n        var buffer = decode(base64);\r\n        var view32 = Array.isArray(buffer) ? polyUint32Array(buffer) : new Uint32Array(buffer);\r\n        var view16 = Array.isArray(buffer) ? polyUint16Array(buffer) : new Uint16Array(buffer);\r\n        var headerLength = 24;\r\n        var index = slice16(view16, headerLength / 2, view32[4] / 2);\r\n        var data = view32[5] === 2\r\n            ? slice16(view16, (headerLength + view32[4]) / 2)\r\n            : slice32(view32, Math.ceil((headerLength + view32[4]) / 4));\r\n        return new Trie(view32[0], view32[1], view32[2], view32[3], index, data);\r\n    };\r\n    var Trie = /** @class */ (function () {\r\n        function Trie(initialValue, errorValue, highStart, highValueIndex, index, data) {\r\n            this.initialValue = initialValue;\r\n            this.errorValue = errorValue;\r\n            this.highStart = highStart;\r\n            this.highValueIndex = highValueIndex;\r\n            this.index = index;\r\n            this.data = data;\r\n        }\r\n        /**\r\n         * Get the value for a code point as stored in the Trie.\r\n         *\r\n         * @param codePoint the code point\r\n         * @return the value\r\n         */\r\n        Trie.prototype.get = function (codePoint) {\r\n            var ix;\r\n            if (codePoint >= 0) {\r\n                if (codePoint < 0x0d800 || (codePoint > 0x0dbff && codePoint <= 0x0ffff)) {\r\n                    // Ordinary BMP code point, excluding leading surrogates.\r\n                    // BMP uses a single level lookup.  BMP index starts at offset 0 in the Trie2 index.\r\n                    // 16 bit data is stored in the index array itself.\r\n                    ix = this.index[codePoint >> UTRIE2_SHIFT_2];\r\n                    ix = (ix << UTRIE2_INDEX_SHIFT) + (codePoint & UTRIE2_DATA_MASK);\r\n                    return this.data[ix];\r\n                }\r\n                if (codePoint <= 0xffff) {\r\n                    // Lead Surrogate Code Point.  A Separate index section is stored for\r\n                    // lead surrogate code units and code points.\r\n                    //   The main index has the code unit data.\r\n                    //   For this function, we need the code point data.\r\n                    // Note: this expression could be refactored for slightly improved efficiency, but\r\n                    //       surrogate code points will be so rare in practice that it's not worth it.\r\n                    ix = this.index[UTRIE2_LSCP_INDEX_2_OFFSET + ((codePoint - 0xd800) >> UTRIE2_SHIFT_2)];\r\n                    ix = (ix << UTRIE2_INDEX_SHIFT) + (codePoint & UTRIE2_DATA_MASK);\r\n                    return this.data[ix];\r\n                }\r\n                if (codePoint < this.highStart) {\r\n                    // Supplemental code point, use two-level lookup.\r\n                    ix = UTRIE2_INDEX_1_OFFSET - UTRIE2_OMITTED_BMP_INDEX_1_LENGTH + (codePoint >> UTRIE2_SHIFT_1);\r\n                    ix = this.index[ix];\r\n                    ix += (codePoint >> UTRIE2_SHIFT_2) & UTRIE2_INDEX_2_MASK;\r\n                    ix = this.index[ix];\r\n                    ix = (ix << UTRIE2_INDEX_SHIFT) + (codePoint & UTRIE2_DATA_MASK);\r\n                    return this.data[ix];\r\n                }\r\n                if (codePoint <= 0x10ffff) {\r\n                    return this.data[this.highValueIndex];\r\n                }\r\n            }\r\n            // Fall through.  The code point is outside of the legal range of 0..0x10ffff.\r\n            return this.errorValue;\r\n        };\r\n        return Trie;\r\n    }());\n\n    var base64 = 'KwAAAAAAAAAACA4AIDoAAPAfAAACAAAAAAAIABAAGABAAEgAUABYAF4AZgBeAGYAYABoAHAAeABeAGYAfACEAIAAiACQAJgAoACoAK0AtQC9AMUAXgBmAF4AZgBeAGYAzQDVAF4AZgDRANkA3gDmAOwA9AD8AAQBDAEUARoBIgGAAIgAJwEvATcBPwFFAU0BTAFUAVwBZAFsAXMBewGDATAAiwGTAZsBogGkAawBtAG8AcIBygHSAdoB4AHoAfAB+AH+AQYCDgIWAv4BHgImAi4CNgI+AkUCTQJTAlsCYwJrAnECeQKBAk0CiQKRApkCoQKoArACuALAAsQCzAIwANQC3ALkAjAA7AL0AvwCAQMJAxADGAMwACADJgMuAzYDPgOAAEYDSgNSA1IDUgNaA1oDYANiA2IDgACAAGoDgAByA3YDfgOAAIQDgACKA5IDmgOAAIAAogOqA4AAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAK8DtwOAAIAAvwPHA88D1wPfAyAD5wPsA/QD/AOAAIAABAQMBBIEgAAWBB4EJgQuBDMEIAM7BEEEXgBJBCADUQRZBGEEaQQwADAAcQQ+AXkEgQSJBJEEgACYBIAAoASoBK8EtwQwAL8ExQSAAIAAgACAAIAAgACgAM0EXgBeAF4AXgBeAF4AXgBeANUEXgDZBOEEXgDpBPEE+QQBBQkFEQUZBSEFKQUxBTUFPQVFBUwFVAVcBV4AYwVeAGsFcwV7BYMFiwWSBV4AmgWgBacFXgBeAF4AXgBeAKsFXgCyBbEFugW7BcIFwgXIBcIFwgXQBdQF3AXkBesF8wX7BQMGCwYTBhsGIwYrBjMGOwZeAD8GRwZNBl4AVAZbBl4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAGMGXgBqBnEGXgBeAF4AXgBeAF4AXgBeAF4AXgB5BoAG4wSGBo4GkwaAAIADHgR5AF4AXgBeAJsGgABGA4AAowarBrMGswagALsGwwbLBjAA0wbaBtoG3QbaBtoG2gbaBtoG2gblBusG8wb7BgMHCwcTBxsHCwcjBysHMAc1BzUHOgdCB9oGSgdSB1oHYAfaBloHaAfaBlIH2gbaBtoG2gbaBtoG2gbaBjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHbQdeAF4ANQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQd1B30HNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B4MH2gaKB68EgACAAIAAgACAAIAAgACAAI8HlwdeAJ8HpweAAIAArwe3B14AXgC/B8UHygcwANAH2AfgB4AA6AfwBz4B+AcACFwBCAgPCBcIogEYAR8IJwiAAC8INwg/CCADRwhPCFcIXwhnCEoDGgSAAIAAgABvCHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIhAiLCI4IMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAANQc1BzUHNQc1BzUHNQc1BzUHNQc1B54INQc1B6II2gaqCLIIugiAAIAAvgjGCIAAgACAAIAAgACAAIAAgACAAIAAywiHAYAA0wiAANkI3QjlCO0I9Aj8CIAAgACAAAIJCgkSCRoJIgknCTYHLwk3CZYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiAAIAAAAFAAXgBeAGAAcABeAHwAQACQAKAArQC9AJ4AXgBeAE0A3gBRAN4A7AD8AMwBGgEAAKcBNwEFAUwBXAF4QkhCmEKnArcCgAHHAsABz4LAAcABwAHAAd+C6ABoAG+C/4LAAcABwAHAAc+DF4MAAcAB54M3gweDV4Nng3eDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEeDqABVg6WDqABoQ6gAaABoAHXDvcONw/3DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DncPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB7cPPwlGCU4JMACAAIAAgABWCV4JYQmAAGkJcAl4CXwJgAkwADAAMAAwAIgJgACLCZMJgACZCZ8JowmrCYAAswkwAF4AXgB8AIAAuwkABMMJyQmAAM4JgADVCTAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAqwYWBNkIMAAwADAAMADdCeAJ6AnuCR4E9gkwAP4JBQoNCjAAMACAABUK0wiAAB0KJAosCjQKgAAwADwKQwqAAEsKvQmdCVMKWwowADAAgACAALcEMACAAGMKgABrCjAAMAAwADAAMAAwADAAMAAwADAAMAAeBDAAMAAwADAAMAAwADAAMAAwADAAMAAwAIkEPQFzCnoKiQSCCooKkAqJBJgKoAqkCokEGAGsCrQKvArBCjAAMADJCtEKFQHZCuEK/gHpCvEKMAAwADAAMACAAIwE+QowAIAAPwEBCzAAMAAwADAAMACAAAkLEQswAIAAPwEZCyELgAAOCCkLMAAxCzkLMAAwADAAMAAwADAAXgBeAEELMAAwADAAMAAwADAAMAAwAEkLTQtVC4AAXAtkC4AAiQkwADAAMAAwADAAMAAwADAAbAtxC3kLgAuFC4sLMAAwAJMLlwufCzAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAApwswADAAMACAAIAAgACvC4AAgACAAIAAgACAALcLMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAvwuAAMcLgACAAIAAgACAAIAAyguAAIAAgACAAIAA0QswADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAANkLgACAAIAA4AswADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACJCR4E6AswADAAhwHwC4AA+AsADAgMEAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMACAAIAAGAwdDCUMMAAwAC0MNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQw1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHPQwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADUHNQc1BzUHNQc1BzUHNQc2BzAAMAA5DDUHNQc1BzUHNQc1BzUHNQc1BzUHNQdFDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAATQxSDFoMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAF4AXgBeAF4AXgBeAF4AYgxeAGoMXgBxDHkMfwxeAIUMXgBeAI0MMAAwADAAMAAwAF4AXgCVDJ0MMAAwADAAMABeAF4ApQxeAKsMswy7DF4Awgy9DMoMXgBeAF4AXgBeAF4AXgBeAF4AXgDRDNkMeQBqCeAM3Ax8AOYM7Az0DPgMXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgCgAAANoAAHDQ4NFg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAeDSYNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAC4NMABeAF4ANg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAD4NRg1ODVYNXg1mDTAAbQ0wADAAMAAwADAAMAAwADAA2gbaBtoG2gbaBtoG2gbaBnUNeg3CBYANwgWFDdoGjA3aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gaUDZwNpA2oDdoG2gawDbcNvw3HDdoG2gbPDdYN3A3fDeYN2gbsDfMN2gbaBvoN/g3aBgYODg7aBl4AXgBeABYOXgBeACUG2gYeDl4AJA5eACwO2w3aBtoGMQ45DtoG2gbaBtoGQQ7aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B1EO2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQdZDjUHNQc1BzUHNQc1B2EONQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHaA41BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B3AO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B2EO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBkkOeA6gAKAAoAAwADAAMAAwAKAAoACgAKAAoACgAKAAgA4wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAD//wQABAAEAAQABAAEAAQABAAEAA0AAwABAAEAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAKABMAFwAeABsAGgAeABcAFgASAB4AGwAYAA8AGAAcAEsASwBLAEsASwBLAEsASwBLAEsAGAAYAB4AHgAeABMAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAFgAbABIAHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYADQARAB4ABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkAFgAaABsAGwAbAB4AHQAdAB4ATwAXAB4ADQAeAB4AGgAbAE8ATwAOAFAAHQAdAB0ATwBPABcATwBPAE8AFgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwArAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAAQABAANAA0ASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAUAArACsAKwArACsAKwArACsABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAGgAaAFAAUABQAFAAUABMAB4AGwBQAB4AKwArACsABAAEAAQAKwBQAFAAUABQAFAAUAArACsAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUAArAFAAUAArACsABAArAAQABAAEAAQABAArACsAKwArAAQABAArACsABAAEAAQAKwArACsABAArACsAKwArACsAKwArAFAAUABQAFAAKwBQACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwAEAAQAUABQAFAABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQAKwArAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeABsAKwArACsAKwArACsAKwBQAAQABAAEAAQABAAEACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAKwArACsAKwArACsAKwArAAQABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwAEAFAAKwBQAFAAUABQAFAAUAArACsAKwBQAFAAUAArAFAAUABQAFAAKwArACsAUABQACsAUAArAFAAUAArACsAKwBQAFAAKwArACsAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQAKwArACsABAAEAAQAKwAEAAQABAAEACsAKwBQACsAKwArACsAKwArAAQAKwArACsAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAB4AHgAeAB4AHgAeABsAHgArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArAFAAUABQACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAB4AUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArACsAKwArACsAKwArAFAAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwArAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAKwBcAFwAKwBcACsAKwBcACsAKwArACsAKwArAFwAXABcAFwAKwBcAFwAXABcAFwAXABcACsAXABcAFwAKwBcACsAXAArACsAXABcACsAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgArACoAKgBcACsAKwBcAFwAXABcAFwAKwBcACsAKgAqACoAKgAqACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAFwAXABcAFwAUAAOAA4ADgAOAB4ADgAOAAkADgAOAA0ACQATABMAEwATABMACQAeABMAHgAeAB4ABAAEAB4AHgAeAB4AHgAeAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUAANAAQAHgAEAB4ABAAWABEAFgARAAQABABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAAQABAAEAAQABAANAAQABABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsADQANAB4AHgAeAB4AHgAeAAQAHgAeAB4AHgAeAB4AKwAeAB4ADgAOAA0ADgAeAB4AHgAeAB4ACQAJACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgAeAB4AHgBcAFwAXABcAFwAXAAqACoAKgAqAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAKgAqACoAKgAqACoAKgBcAFwAXAAqACoAKgAqAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAXAAqAEsASwBLAEsASwBLAEsASwBLAEsAKgAqACoAKgAqACoAUABQAFAAUABQAFAAKwBQACsAKwArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQACsAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwAEAAQABAAeAA0AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAEQArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAADQANAA0AUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAA0ADQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoADQANABUAXAANAB4ADQAbAFwAKgArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAB4AHgATABMADQANAA4AHgATABMAHgAEAAQABAAJACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAUABQAFAAUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwAeACsAKwArABMAEwBLAEsASwBLAEsASwBLAEsASwBLAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwBcAFwAXABcAFwAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcACsAKwArACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwAeAB4AXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsABABLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKgAqACoAKgAqACoAKgBcACoAKgAqACoAKgAqACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAUABQAFAAUABQAFAAUAArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4ADQANAA0ADQAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAHgAeAB4AHgBQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwANAA0ADQANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwBQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsABAAEAAQAHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAABABQAFAAUABQAAQABAAEAFAAUAAEAAQABAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAKwBQACsAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAKwArAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAKwAeAB4AHgAeAB4AHgAeAA4AHgArAA0ADQANAA0ADQANAA0ACQANAA0ADQAIAAQACwAEAAQADQAJAA0ADQAMAB0AHQAeABcAFwAWABcAFwAXABYAFwAdAB0AHgAeABQAFAAUAA0AAQABAAQABAAEAAQABAAJABoAGgAaABoAGgAaABoAGgAeABcAFwAdABUAFQAeAB4AHgAeAB4AHgAYABYAEQAVABUAFQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgANAB4ADQANAA0ADQAeAA0ADQANAAcAHgAeAB4AHgArAAQABAAEAAQABAAEAAQABAAEAAQAUABQACsAKwBPAFAAUABQAFAAUAAeAB4AHgAWABEATwBQAE8ATwBPAE8AUABQAFAAUABQAB4AHgAeABYAEQArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGgAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgBQABoAHgAdAB4AUAAeABoAHgAeAB4AHgAeAB4AHgAeAB4ATwAeAFAAGwAeAB4AUABQAFAAUABQAB4AHgAeAB0AHQAeAFAAHgBQAB4AUAAeAFAATwBQAFAAHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AUABQAFAAUABPAE8AUABQAFAAUABQAE8AUABQAE8AUABPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAE8ATwBPAE8ATwBPAE8ATwBPAE8AUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAATwAeAB4AKwArACsAKwAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB0AHQAeAB4AHgAdAB0AHgAeAB0AHgAeAB4AHQAeAB0AGwAbAB4AHQAeAB4AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB0AHgAdAB4AHQAdAB0AHQAdAB0AHgAdAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAdAB0AHQAdAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAlACUAHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB0AHQAeAB4AHgAeAB0AHQAdAB4AHgAdAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB0AHQAeAB4AHQAeAB4AHgAeAB0AHQAeAB4AHgAeACUAJQAdAB0AJQAeACUAJQAlACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHQAdAB0AHgAdACUAHQAdAB4AHQAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHQAdAB0AHQAlAB4AJQAlACUAHQAlACUAHQAdAB0AJQAlAB0AHQAlAB0AHQAlACUAJQAeAB0AHgAeAB4AHgAdAB0AJQAdAB0AHQAdAB0AHQAlACUAJQAlACUAHQAlACUAIAAlAB0AHQAlACUAJQAlACUAJQAlACUAHgAeAB4AJQAlACAAIAAgACAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeABcAFwAXABcAFwAXAB4AEwATACUAHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACUAJQBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwArACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAE8ATwBPAE8ATwBPAE8ATwAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeACsAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUAArACsAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQBQAFAAUABQACsAKwArACsAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAABAAEAAQAKwAEAAQAKwArACsAKwArAAQABAAEAAQAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsABAAEAAQAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsADQANAA0ADQANAA0ADQANAB4AKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAUABQAFAAUABQAA0ADQANAA0ADQANABQAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwANAA0ADQANAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAeAAQABAAEAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLACsADQArAB4AKwArAAQABAAEAAQAUABQAB4AUAArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwAEAAQABAAEAAQABAAEAAQABAAOAA0ADQATABMAHgAeAB4ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0AUABQAFAAUAAEAAQAKwArAAQADQANAB4AUAArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXABcAA0ADQANACoASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUAArACsAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANACsADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEcARwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwAeAAQABAANAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAEAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUAArACsAUAArACsAUABQACsAKwBQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAeAB4ADQANAA0ADQAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAArAAQABAArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAEAAQABAAEAAQABAAEACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAFgAWAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAKwBQACsAKwArACsAKwArAFAAKwArACsAKwBQACsAUAArAFAAKwBQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQACsAUAArAFAAKwBQACsAUABQACsAUAArACsAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAUABQAFAAUAArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUAArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAlACUAJQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeACUAJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeACUAJQAlACUAJQAeACUAJQAlACUAJQAgACAAIAAlACUAIAAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIQAhACEAIQAhACUAJQAgACAAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAIAAlACUAJQAlACAAJQAgACAAIAAgACAAIAAgACAAIAAlACUAJQAgACUAJQAlACUAIAAgACAAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeACUAHgAlAB4AJQAlACUAJQAlACAAJQAlACUAJQAeACUAHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAIAAgACAAIAAgAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFwAXABcAFQAVABUAHgAeAB4AHgAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAlACAAIAAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsA';\n\n    /* @flow */\r\n    var LETTER_NUMBER_MODIFIER = 50;\r\n    // Non-tailorable Line Breaking Classes\r\n    var BK = 1; //  Cause a line break (after)\r\n    var CR = 2; //  Cause a line break (after), except between CR and LF\r\n    var LF = 3; //  Cause a line break (after)\r\n    var CM = 4; //  Prohibit a line break between the character and the preceding character\r\n    var NL = 5; //  Cause a line break (after)\r\n    var WJ = 7; //  Prohibit line breaks before and after\r\n    var ZW = 8; //  Provide a break opportunity\r\n    var GL = 9; //  Prohibit line breaks before and after\r\n    var SP = 10; // Enable indirect line breaks\r\n    var ZWJ = 11; // Prohibit line breaks within joiner sequences\r\n    // Break Opportunities\r\n    var B2 = 12; //  Provide a line break opportunity before and after the character\r\n    var BA = 13; //  Generally provide a line break opportunity after the character\r\n    var BB = 14; //  Generally provide a line break opportunity before the character\r\n    var HY = 15; //  Provide a line break opportunity after the character, except in numeric context\r\n    var CB = 16; //   Provide a line break opportunity contingent on additional information\r\n    // Characters Prohibiting Certain Breaks\r\n    var CL = 17; //  Prohibit line breaks before\r\n    var CP = 18; //  Prohibit line breaks before\r\n    var EX = 19; //  Prohibit line breaks before\r\n    var IN = 20; //  Allow only indirect line breaks between pairs\r\n    var NS = 21; //  Allow only indirect line breaks before\r\n    var OP = 22; //  Prohibit line breaks after\r\n    var QU = 23; //  Act like they are both opening and closing\r\n    // Numeric Context\r\n    var IS = 24; //  Prevent breaks after any and before numeric\r\n    var NU = 25; //  Form numeric expressions for line breaking purposes\r\n    var PO = 26; //  Do not break following a numeric expression\r\n    var PR = 27; //  Do not break in front of a numeric expression\r\n    var SY = 28; //  Prevent a break before; and allow a break after\r\n    // Other Characters\r\n    var AI = 29; //  Act like AL when the resolvedEAW is N; otherwise; act as ID\r\n    var AL = 30; //  Are alphabetic characters or symbols that are used with alphabetic characters\r\n    var CJ = 31; //  Treat as NS or ID for strict or normal breaking.\r\n    var EB = 32; //  Do not break from following Emoji Modifier\r\n    var EM = 33; //  Do not break from preceding Emoji Base\r\n    var H2 = 34; //  Form Korean syllable blocks\r\n    var H3 = 35; //  Form Korean syllable blocks\r\n    var HL = 36; //  Do not break around a following hyphen; otherwise act as Alphabetic\r\n    var ID = 37; //  Break before or after; except in some numeric context\r\n    var JL = 38; //  Form Korean syllable blocks\r\n    var JV = 39; //  Form Korean syllable blocks\r\n    var JT = 40; //  Form Korean syllable blocks\r\n    var RI = 41; //  Keep pairs together. For pairs; break before and after other classes\r\n    var SA = 42; //  Provide a line break opportunity contingent on additional, language-specific context analysis\r\n    var XX = 43; //  Have as yet unknown line breaking behavior or unassigned code positions\r\n    var BREAK_MANDATORY = '!';\r\n    var BREAK_NOT_ALLOWED = '×';\r\n    var BREAK_ALLOWED = '÷';\r\n    var UnicodeTrie = createTrieFromBase64(base64);\r\n    var ALPHABETICS = [AL, HL];\r\n    var HARD_LINE_BREAKS = [BK, CR, LF, NL];\r\n    var SPACE = [SP, ZW];\r\n    var PREFIX_POSTFIX = [PR, PO];\r\n    var LINE_BREAKS = HARD_LINE_BREAKS.concat(SPACE);\r\n    var KOREAN_SYLLABLE_BLOCK = [JL, JV, JT, H2, H3];\r\n    var HYPHEN = [HY, BA];\r\n    var codePointsToCharacterClasses = function (codePoints, lineBreak) {\r\n        if (lineBreak === void 0) { lineBreak = 'strict'; }\r\n        var types = [];\r\n        var indicies = [];\r\n        var categories = [];\r\n        codePoints.forEach(function (codePoint, index) {\r\n            var classType = UnicodeTrie.get(codePoint);\r\n            if (classType > LETTER_NUMBER_MODIFIER) {\r\n                categories.push(true);\r\n                classType -= LETTER_NUMBER_MODIFIER;\r\n            }\r\n            else {\r\n                categories.push(false);\r\n            }\r\n            if (['normal', 'auto', 'loose'].indexOf(lineBreak) !== -1) {\r\n                // U+2010, – U+2013, 〜 U+301C, ゠ U+30A0\r\n                if ([0x2010, 0x2013, 0x301c, 0x30a0].indexOf(codePoint) !== -1) {\r\n                    indicies.push(index);\r\n                    return types.push(CB);\r\n                }\r\n            }\r\n            if (classType === CM || classType === ZWJ) {\r\n                // LB10 Treat any remaining combining mark or ZWJ as AL.\r\n                if (index === 0) {\r\n                    indicies.push(index);\r\n                    return types.push(AL);\r\n                }\r\n                // LB9 Do not break a combining character sequence; treat it as if it has the line breaking class of\r\n                // the base character in all of the following rules. Treat ZWJ as if it were CM.\r\n                var prev = types[index - 1];\r\n                if (LINE_BREAKS.indexOf(prev) === -1) {\r\n                    indicies.push(indicies[index - 1]);\r\n                    return types.push(prev);\r\n                }\r\n                indicies.push(index);\r\n                return types.push(AL);\r\n            }\r\n            indicies.push(index);\r\n            if (classType === CJ) {\r\n                return types.push(lineBreak === 'strict' ? NS : ID);\r\n            }\r\n            if (classType === SA) {\r\n                return types.push(AL);\r\n            }\r\n            if (classType === AI) {\r\n                return types.push(AL);\r\n            }\r\n            // For supplementary characters, a useful default is to treat characters in the range 10000..1FFFD as AL\r\n            // and characters in the ranges 20000..2FFFD and 30000..3FFFD as ID, until the implementation can be revised\r\n            // to take into account the actual line breaking properties for these characters.\r\n            if (classType === XX) {\r\n                if ((codePoint >= 0x20000 && codePoint <= 0x2fffd) || (codePoint >= 0x30000 && codePoint <= 0x3fffd)) {\r\n                    return types.push(ID);\r\n                }\r\n                else {\r\n                    return types.push(AL);\r\n                }\r\n            }\r\n            types.push(classType);\r\n        });\r\n        return [indicies, types, categories];\r\n    };\r\n    var isAdjacentWithSpaceIgnored = function (a, b, currentIndex, classTypes) {\r\n        var current = classTypes[currentIndex];\r\n        if (Array.isArray(a) ? a.indexOf(current) !== -1 : a === current) {\r\n            var i = currentIndex;\r\n            while (i <= classTypes.length) {\r\n                i++;\r\n                var next = classTypes[i];\r\n                if (next === b) {\r\n                    return true;\r\n                }\r\n                if (next !== SP) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        if (current === SP) {\r\n            var i = currentIndex;\r\n            while (i > 0) {\r\n                i--;\r\n                var prev = classTypes[i];\r\n                if (Array.isArray(a) ? a.indexOf(prev) !== -1 : a === prev) {\r\n                    var n = currentIndex;\r\n                    while (n <= classTypes.length) {\r\n                        n++;\r\n                        var next = classTypes[n];\r\n                        if (next === b) {\r\n                            return true;\r\n                        }\r\n                        if (next !== SP) {\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                if (prev !== SP) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    var previousNonSpaceClassType = function (currentIndex, classTypes) {\r\n        var i = currentIndex;\r\n        while (i >= 0) {\r\n            var type = classTypes[i];\r\n            if (type === SP) {\r\n                i--;\r\n            }\r\n            else {\r\n                return type;\r\n            }\r\n        }\r\n        return 0;\r\n    };\r\n    var _lineBreakAtIndex = function (codePoints, classTypes, indicies, index, forbiddenBreaks) {\r\n        if (indicies[index] === 0) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        var currentIndex = index - 1;\r\n        if (Array.isArray(forbiddenBreaks) && forbiddenBreaks[currentIndex] === true) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        var beforeIndex = currentIndex - 1;\r\n        var afterIndex = currentIndex + 1;\r\n        var current = classTypes[currentIndex];\r\n        // LB4 Always break after hard line breaks.\r\n        // LB5 Treat CR followed by LF, as well as CR, LF, and NL as hard line breaks.\r\n        var before = beforeIndex >= 0 ? classTypes[beforeIndex] : 0;\r\n        var next = classTypes[afterIndex];\r\n        if (current === CR && next === LF) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        if (HARD_LINE_BREAKS.indexOf(current) !== -1) {\r\n            return BREAK_MANDATORY;\r\n        }\r\n        // LB6 Do not break before hard line breaks.\r\n        if (HARD_LINE_BREAKS.indexOf(next) !== -1) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB7 Do not break before spaces or zero width space.\r\n        if (SPACE.indexOf(next) !== -1) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB8 Break before any character following a zero-width space, even if one or more spaces intervene.\r\n        if (previousNonSpaceClassType(currentIndex, classTypes) === ZW) {\r\n            return BREAK_ALLOWED;\r\n        }\r\n        // LB8a Do not break between a zero width joiner and an ideograph, emoji base or emoji modifier.\r\n        if (UnicodeTrie.get(codePoints[currentIndex]) === ZWJ && (next === ID || next === EB || next === EM)) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB11 Do not break before or after Word joiner and related characters.\r\n        if (current === WJ || next === WJ) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB12 Do not break after NBSP and related characters.\r\n        if (current === GL) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB12a Do not break before NBSP and related characters, except after spaces and hyphens.\r\n        if ([SP, BA, HY].indexOf(current) === -1 && next === GL) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB13 Do not break before ‘]’ or ‘!’ or ‘;’ or ‘/’, even after spaces.\r\n        if ([CL, CP, EX, IS, SY].indexOf(next) !== -1) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB14 Do not break after ‘[’, even after spaces.\r\n        if (previousNonSpaceClassType(currentIndex, classTypes) === OP) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB15 Do not break within ‘”[’, even with intervening spaces.\r\n        if (isAdjacentWithSpaceIgnored(QU, OP, currentIndex, classTypes)) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB16 Do not break between closing punctuation and a nonstarter (lb=NS), even with intervening spaces.\r\n        if (isAdjacentWithSpaceIgnored([CL, CP], NS, currentIndex, classTypes)) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB17 Do not break within ‘——’, even with intervening spaces.\r\n        if (isAdjacentWithSpaceIgnored(B2, B2, currentIndex, classTypes)) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB18 Break after spaces.\r\n        if (current === SP) {\r\n            return BREAK_ALLOWED;\r\n        }\r\n        // LB19 Do not break before or after quotation marks, such as ‘ ” ’.\r\n        if (current === QU || next === QU) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB20 Break before and after unresolved CB.\r\n        if (next === CB || current === CB) {\r\n            return BREAK_ALLOWED;\r\n        }\r\n        // LB21 Do not break before hyphen-minus, other hyphens, fixed-width spaces, small kana, and other non-starters, or after acute accents.\r\n        if ([BA, HY, NS].indexOf(next) !== -1 || current === BB) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB21a Don't break after Hebrew + Hyphen.\r\n        if (before === HL && HYPHEN.indexOf(current) !== -1) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB21b Don’t break between Solidus and Hebrew letters.\r\n        if (current === SY && next === HL) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB22 Do not break between two ellipses, or between letters, numbers or exclamations and ellipsis.\r\n        if (next === IN && ALPHABETICS.concat(IN, EX, NU, ID, EB, EM).indexOf(current) !== -1) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB23 Do not break between digits and letters.\r\n        if ((ALPHABETICS.indexOf(next) !== -1 && current === NU) || (ALPHABETICS.indexOf(current) !== -1 && next === NU)) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB23a Do not break between numeric prefixes and ideographs, or between ideographs and numeric postfixes.\r\n        if ((current === PR && [ID, EB, EM].indexOf(next) !== -1) ||\r\n            ([ID, EB, EM].indexOf(current) !== -1 && next === PO)) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB24 Do not break between numeric prefix/postfix and letters, or between letters and prefix/postfix.\r\n        if ((ALPHABETICS.indexOf(current) !== -1 && PREFIX_POSTFIX.indexOf(next) !== -1) ||\r\n            (PREFIX_POSTFIX.indexOf(current) !== -1 && ALPHABETICS.indexOf(next) !== -1)) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB25 Do not break between the following pairs of classes relevant to numbers:\r\n        if (\r\n        // (PR | PO) × ( OP | HY )? NU\r\n        ([PR, PO].indexOf(current) !== -1 &&\r\n            (next === NU || ([OP, HY].indexOf(next) !== -1 && classTypes[afterIndex + 1] === NU))) ||\r\n            // ( OP | HY ) × NU\r\n            ([OP, HY].indexOf(current) !== -1 && next === NU) ||\r\n            // NU ×\t(NU | SY | IS)\r\n            (current === NU && [NU, SY, IS].indexOf(next) !== -1)) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // NU (NU | SY | IS)* × (NU | SY | IS | CL | CP)\r\n        if ([NU, SY, IS, CL, CP].indexOf(next) !== -1) {\r\n            var prevIndex = currentIndex;\r\n            while (prevIndex >= 0) {\r\n                var type = classTypes[prevIndex];\r\n                if (type === NU) {\r\n                    return BREAK_NOT_ALLOWED;\r\n                }\r\n                else if ([SY, IS].indexOf(type) !== -1) {\r\n                    prevIndex--;\r\n                }\r\n                else {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        // NU (NU | SY | IS)* (CL | CP)? × (PO | PR))\r\n        if ([PR, PO].indexOf(next) !== -1) {\r\n            var prevIndex = [CL, CP].indexOf(current) !== -1 ? beforeIndex : currentIndex;\r\n            while (prevIndex >= 0) {\r\n                var type = classTypes[prevIndex];\r\n                if (type === NU) {\r\n                    return BREAK_NOT_ALLOWED;\r\n                }\r\n                else if ([SY, IS].indexOf(type) !== -1) {\r\n                    prevIndex--;\r\n                }\r\n                else {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        // LB26 Do not break a Korean syllable.\r\n        if ((JL === current && [JL, JV, H2, H3].indexOf(next) !== -1) ||\r\n            ([JV, H2].indexOf(current) !== -1 && [JV, JT].indexOf(next) !== -1) ||\r\n            ([JT, H3].indexOf(current) !== -1 && next === JT)) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB27 Treat a Korean Syllable Block the same as ID.\r\n        if ((KOREAN_SYLLABLE_BLOCK.indexOf(current) !== -1 && [IN, PO].indexOf(next) !== -1) ||\r\n            (KOREAN_SYLLABLE_BLOCK.indexOf(next) !== -1 && current === PR)) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB28 Do not break between alphabetics (“at”).\r\n        if (ALPHABETICS.indexOf(current) !== -1 && ALPHABETICS.indexOf(next) !== -1) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB29 Do not break between numeric punctuation and alphabetics (“e.g.”).\r\n        if (current === IS && ALPHABETICS.indexOf(next) !== -1) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB30 Do not break between letters, numbers, or ordinary symbols and opening or closing parentheses.\r\n        if ((ALPHABETICS.concat(NU).indexOf(current) !== -1 && next === OP) ||\r\n            (ALPHABETICS.concat(NU).indexOf(next) !== -1 && current === CP)) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB30a Break between two regional indicator symbols if and only if there are an even number of regional\r\n        // indicators preceding the position of the break.\r\n        if (current === RI && next === RI) {\r\n            var i = indicies[currentIndex];\r\n            var count = 1;\r\n            while (i > 0) {\r\n                i--;\r\n                if (classTypes[i] === RI) {\r\n                    count++;\r\n                }\r\n                else {\r\n                    break;\r\n                }\r\n            }\r\n            if (count % 2 !== 0) {\r\n                return BREAK_NOT_ALLOWED;\r\n            }\r\n        }\r\n        // LB30b Do not break between an emoji base and an emoji modifier.\r\n        if (current === EB && next === EM) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        return BREAK_ALLOWED;\r\n    };\r\n    var cssFormattedClasses = function (codePoints, options) {\r\n        if (!options) {\r\n            options = { lineBreak: 'normal', wordBreak: 'normal' };\r\n        }\r\n        var _a = codePointsToCharacterClasses(codePoints, options.lineBreak), indicies = _a[0], classTypes = _a[1], isLetterNumber = _a[2];\r\n        if (options.wordBreak === 'break-all' || options.wordBreak === 'break-word') {\r\n            classTypes = classTypes.map(function (type) { return ([NU, AL, SA].indexOf(type) !== -1 ? ID : type); });\r\n        }\r\n        var forbiddenBreakpoints = options.wordBreak === 'keep-all'\r\n            ? isLetterNumber.map(function (letterNumber, i) {\r\n                return letterNumber && codePoints[i] >= 0x4e00 && codePoints[i] <= 0x9fff;\r\n            })\r\n            : undefined;\r\n        return [indicies, classTypes, forbiddenBreakpoints];\r\n    };\r\n    var Break = /** @class */ (function () {\r\n        function Break(codePoints, lineBreak, start, end) {\r\n            this.codePoints = codePoints;\r\n            this.required = lineBreak === BREAK_MANDATORY;\r\n            this.start = start;\r\n            this.end = end;\r\n        }\r\n        Break.prototype.slice = function () {\r\n            return fromCodePoint.apply(void 0, this.codePoints.slice(this.start, this.end));\r\n        };\r\n        return Break;\r\n    }());\r\n    var LineBreaker = function (str, options) {\r\n        var codePoints = toCodePoints(str);\r\n        var _a = cssFormattedClasses(codePoints, options), indicies = _a[0], classTypes = _a[1], forbiddenBreakpoints = _a[2];\r\n        var length = codePoints.length;\r\n        var lastEnd = 0;\r\n        var nextIndex = 0;\r\n        return {\r\n            next: function () {\r\n                if (nextIndex >= length) {\r\n                    return { done: true, value: null };\r\n                }\r\n                var lineBreak = BREAK_NOT_ALLOWED;\r\n                while (nextIndex < length &&\r\n                    (lineBreak = _lineBreakAtIndex(codePoints, classTypes, indicies, ++nextIndex, forbiddenBreakpoints)) ===\r\n                        BREAK_NOT_ALLOWED) { }\r\n                if (lineBreak !== BREAK_NOT_ALLOWED || nextIndex === length) {\r\n                    var value = new Break(codePoints, lineBreak, lastEnd, nextIndex);\r\n                    lastEnd = nextIndex;\r\n                    return { value: value, done: false };\r\n                }\r\n                return { done: true, value: null };\r\n            },\r\n        };\r\n    };\n\n    // https://www.w3.org/TR/css-syntax-3\r\n    var TokenType;\r\n    (function (TokenType) {\r\n        TokenType[TokenType[\"STRING_TOKEN\"] = 0] = \"STRING_TOKEN\";\r\n        TokenType[TokenType[\"BAD_STRING_TOKEN\"] = 1] = \"BAD_STRING_TOKEN\";\r\n        TokenType[TokenType[\"LEFT_PARENTHESIS_TOKEN\"] = 2] = \"LEFT_PARENTHESIS_TOKEN\";\r\n        TokenType[TokenType[\"RIGHT_PARENTHESIS_TOKEN\"] = 3] = \"RIGHT_PARENTHESIS_TOKEN\";\r\n        TokenType[TokenType[\"COMMA_TOKEN\"] = 4] = \"COMMA_TOKEN\";\r\n        TokenType[TokenType[\"HASH_TOKEN\"] = 5] = \"HASH_TOKEN\";\r\n        TokenType[TokenType[\"DELIM_TOKEN\"] = 6] = \"DELIM_TOKEN\";\r\n        TokenType[TokenType[\"AT_KEYWORD_TOKEN\"] = 7] = \"AT_KEYWORD_TOKEN\";\r\n        TokenType[TokenType[\"PREFIX_MATCH_TOKEN\"] = 8] = \"PREFIX_MATCH_TOKEN\";\r\n        TokenType[TokenType[\"DASH_MATCH_TOKEN\"] = 9] = \"DASH_MATCH_TOKEN\";\r\n        TokenType[TokenType[\"INCLUDE_MATCH_TOKEN\"] = 10] = \"INCLUDE_MATCH_TOKEN\";\r\n        TokenType[TokenType[\"LEFT_CURLY_BRACKET_TOKEN\"] = 11] = \"LEFT_CURLY_BRACKET_TOKEN\";\r\n        TokenType[TokenType[\"RIGHT_CURLY_BRACKET_TOKEN\"] = 12] = \"RIGHT_CURLY_BRACKET_TOKEN\";\r\n        TokenType[TokenType[\"SUFFIX_MATCH_TOKEN\"] = 13] = \"SUFFIX_MATCH_TOKEN\";\r\n        TokenType[TokenType[\"SUBSTRING_MATCH_TOKEN\"] = 14] = \"SUBSTRING_MATCH_TOKEN\";\r\n        TokenType[TokenType[\"DIMENSION_TOKEN\"] = 15] = \"DIMENSION_TOKEN\";\r\n        TokenType[TokenType[\"PERCENTAGE_TOKEN\"] = 16] = \"PERCENTAGE_TOKEN\";\r\n        TokenType[TokenType[\"NUMBER_TOKEN\"] = 17] = \"NUMBER_TOKEN\";\r\n        TokenType[TokenType[\"FUNCTION\"] = 18] = \"FUNCTION\";\r\n        TokenType[TokenType[\"FUNCTION_TOKEN\"] = 19] = \"FUNCTION_TOKEN\";\r\n        TokenType[TokenType[\"IDENT_TOKEN\"] = 20] = \"IDENT_TOKEN\";\r\n        TokenType[TokenType[\"COLUMN_TOKEN\"] = 21] = \"COLUMN_TOKEN\";\r\n        TokenType[TokenType[\"URL_TOKEN\"] = 22] = \"URL_TOKEN\";\r\n        TokenType[TokenType[\"BAD_URL_TOKEN\"] = 23] = \"BAD_URL_TOKEN\";\r\n        TokenType[TokenType[\"CDC_TOKEN\"] = 24] = \"CDC_TOKEN\";\r\n        TokenType[TokenType[\"CDO_TOKEN\"] = 25] = \"CDO_TOKEN\";\r\n        TokenType[TokenType[\"COLON_TOKEN\"] = 26] = \"COLON_TOKEN\";\r\n        TokenType[TokenType[\"SEMICOLON_TOKEN\"] = 27] = \"SEMICOLON_TOKEN\";\r\n        TokenType[TokenType[\"LEFT_SQUARE_BRACKET_TOKEN\"] = 28] = \"LEFT_SQUARE_BRACKET_TOKEN\";\r\n        TokenType[TokenType[\"RIGHT_SQUARE_BRACKET_TOKEN\"] = 29] = \"RIGHT_SQUARE_BRACKET_TOKEN\";\r\n        TokenType[TokenType[\"UNICODE_RANGE_TOKEN\"] = 30] = \"UNICODE_RANGE_TOKEN\";\r\n        TokenType[TokenType[\"WHITESPACE_TOKEN\"] = 31] = \"WHITESPACE_TOKEN\";\r\n        TokenType[TokenType[\"EOF_TOKEN\"] = 32] = \"EOF_TOKEN\";\r\n    })(TokenType || (TokenType = {}));\r\n    var FLAG_UNRESTRICTED = 1 << 0;\r\n    var FLAG_ID = 1 << 1;\r\n    var FLAG_INTEGER = 1 << 2;\r\n    var FLAG_NUMBER = 1 << 3;\r\n    var LINE_FEED = 0x000a;\r\n    var SOLIDUS = 0x002f;\r\n    var REVERSE_SOLIDUS = 0x005c;\r\n    var CHARACTER_TABULATION = 0x0009;\r\n    var SPACE$1 = 0x0020;\r\n    var QUOTATION_MARK = 0x0022;\r\n    var EQUALS_SIGN = 0x003d;\r\n    var NUMBER_SIGN = 0x0023;\r\n    var DOLLAR_SIGN = 0x0024;\r\n    var PERCENTAGE_SIGN = 0x0025;\r\n    var APOSTROPHE = 0x0027;\r\n    var LEFT_PARENTHESIS = 0x0028;\r\n    var RIGHT_PARENTHESIS = 0x0029;\r\n    var LOW_LINE = 0x005f;\r\n    var HYPHEN_MINUS = 0x002d;\r\n    var EXCLAMATION_MARK = 0x0021;\r\n    var LESS_THAN_SIGN = 0x003c;\r\n    var GREATER_THAN_SIGN = 0x003e;\r\n    var COMMERCIAL_AT = 0x0040;\r\n    var LEFT_SQUARE_BRACKET = 0x005b;\r\n    var RIGHT_SQUARE_BRACKET = 0x005d;\r\n    var CIRCUMFLEX_ACCENT = 0x003d;\r\n    var LEFT_CURLY_BRACKET = 0x007b;\r\n    var QUESTION_MARK = 0x003f;\r\n    var RIGHT_CURLY_BRACKET = 0x007d;\r\n    var VERTICAL_LINE = 0x007c;\r\n    var TILDE = 0x007e;\r\n    var CONTROL = 0x0080;\r\n    var REPLACEMENT_CHARACTER = 0xfffd;\r\n    var ASTERISK = 0x002a;\r\n    var PLUS_SIGN = 0x002b;\r\n    var COMMA = 0x002c;\r\n    var COLON = 0x003a;\r\n    var SEMICOLON = 0x003b;\r\n    var FULL_STOP = 0x002e;\r\n    var NULL = 0x0000;\r\n    var BACKSPACE = 0x0008;\r\n    var LINE_TABULATION = 0x000b;\r\n    var SHIFT_OUT = 0x000e;\r\n    var INFORMATION_SEPARATOR_ONE = 0x001f;\r\n    var DELETE = 0x007f;\r\n    var EOF = -1;\r\n    var ZERO = 0x0030;\r\n    var a = 0x0061;\r\n    var e = 0x0065;\r\n    var f = 0x0066;\r\n    var u = 0x0075;\r\n    var z = 0x007a;\r\n    var A = 0x0041;\r\n    var E = 0x0045;\r\n    var F = 0x0046;\r\n    var U = 0x0055;\r\n    var Z = 0x005a;\r\n    var isDigit = function (codePoint) { return codePoint >= ZERO && codePoint <= 0x0039; };\r\n    var isSurrogateCodePoint = function (codePoint) { return codePoint >= 0xd800 && codePoint <= 0xdfff; };\r\n    var isHex = function (codePoint) {\r\n        return isDigit(codePoint) || (codePoint >= A && codePoint <= F) || (codePoint >= a && codePoint <= f);\r\n    };\r\n    var isLowerCaseLetter = function (codePoint) { return codePoint >= a && codePoint <= z; };\r\n    var isUpperCaseLetter = function (codePoint) { return codePoint >= A && codePoint <= Z; };\r\n    var isLetter = function (codePoint) { return isLowerCaseLetter(codePoint) || isUpperCaseLetter(codePoint); };\r\n    var isNonASCIICodePoint = function (codePoint) { return codePoint >= CONTROL; };\r\n    var isWhiteSpace = function (codePoint) {\r\n        return codePoint === LINE_FEED || codePoint === CHARACTER_TABULATION || codePoint === SPACE$1;\r\n    };\r\n    var isNameStartCodePoint = function (codePoint) {\r\n        return isLetter(codePoint) || isNonASCIICodePoint(codePoint) || codePoint === LOW_LINE;\r\n    };\r\n    var isNameCodePoint = function (codePoint) {\r\n        return isNameStartCodePoint(codePoint) || isDigit(codePoint) || codePoint === HYPHEN_MINUS;\r\n    };\r\n    var isNonPrintableCodePoint = function (codePoint) {\r\n        return ((codePoint >= NULL && codePoint <= BACKSPACE) ||\r\n            codePoint === LINE_TABULATION ||\r\n            (codePoint >= SHIFT_OUT && codePoint <= INFORMATION_SEPARATOR_ONE) ||\r\n            codePoint === DELETE);\r\n    };\r\n    var isValidEscape = function (c1, c2) {\r\n        if (c1 !== REVERSE_SOLIDUS) {\r\n            return false;\r\n        }\r\n        return c2 !== LINE_FEED;\r\n    };\r\n    var isIdentifierStart = function (c1, c2, c3) {\r\n        if (c1 === HYPHEN_MINUS) {\r\n            return isNameStartCodePoint(c2) || isValidEscape(c2, c3);\r\n        }\r\n        else if (isNameStartCodePoint(c1)) {\r\n            return true;\r\n        }\r\n        else if (c1 === REVERSE_SOLIDUS && isValidEscape(c1, c2)) {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    var isNumberStart = function (c1, c2, c3) {\r\n        if (c1 === PLUS_SIGN || c1 === HYPHEN_MINUS) {\r\n            if (isDigit(c2)) {\r\n                return true;\r\n            }\r\n            return c2 === FULL_STOP && isDigit(c3);\r\n        }\r\n        if (c1 === FULL_STOP) {\r\n            return isDigit(c2);\r\n        }\r\n        return isDigit(c1);\r\n    };\r\n    var stringToNumber = function (codePoints) {\r\n        var c = 0;\r\n        var sign = 1;\r\n        if (codePoints[c] === PLUS_SIGN || codePoints[c] === HYPHEN_MINUS) {\r\n            if (codePoints[c] === HYPHEN_MINUS) {\r\n                sign = -1;\r\n            }\r\n            c++;\r\n        }\r\n        var integers = [];\r\n        while (isDigit(codePoints[c])) {\r\n            integers.push(codePoints[c++]);\r\n        }\r\n        var int = integers.length ? parseInt(fromCodePoint.apply(void 0, integers), 10) : 0;\r\n        if (codePoints[c] === FULL_STOP) {\r\n            c++;\r\n        }\r\n        var fraction = [];\r\n        while (isDigit(codePoints[c])) {\r\n            fraction.push(codePoints[c++]);\r\n        }\r\n        var fracd = fraction.length;\r\n        var frac = fracd ? parseInt(fromCodePoint.apply(void 0, fraction), 10) : 0;\r\n        if (codePoints[c] === E || codePoints[c] === e) {\r\n            c++;\r\n        }\r\n        var expsign = 1;\r\n        if (codePoints[c] === PLUS_SIGN || codePoints[c] === HYPHEN_MINUS) {\r\n            if (codePoints[c] === HYPHEN_MINUS) {\r\n                expsign = -1;\r\n            }\r\n            c++;\r\n        }\r\n        var exponent = [];\r\n        while (isDigit(codePoints[c])) {\r\n            exponent.push(codePoints[c++]);\r\n        }\r\n        var exp = exponent.length ? parseInt(fromCodePoint.apply(void 0, exponent), 10) : 0;\r\n        return sign * (int + frac * Math.pow(10, -fracd)) * Math.pow(10, expsign * exp);\r\n    };\r\n    var LEFT_PARENTHESIS_TOKEN = {\r\n        type: TokenType.LEFT_PARENTHESIS_TOKEN\r\n    };\r\n    var RIGHT_PARENTHESIS_TOKEN = {\r\n        type: TokenType.RIGHT_PARENTHESIS_TOKEN\r\n    };\r\n    var COMMA_TOKEN = { type: TokenType.COMMA_TOKEN };\r\n    var SUFFIX_MATCH_TOKEN = { type: TokenType.SUFFIX_MATCH_TOKEN };\r\n    var PREFIX_MATCH_TOKEN = { type: TokenType.PREFIX_MATCH_TOKEN };\r\n    var COLUMN_TOKEN = { type: TokenType.COLUMN_TOKEN };\r\n    var DASH_MATCH_TOKEN = { type: TokenType.DASH_MATCH_TOKEN };\r\n    var INCLUDE_MATCH_TOKEN = { type: TokenType.INCLUDE_MATCH_TOKEN };\r\n    var LEFT_CURLY_BRACKET_TOKEN = {\r\n        type: TokenType.LEFT_CURLY_BRACKET_TOKEN\r\n    };\r\n    var RIGHT_CURLY_BRACKET_TOKEN = {\r\n        type: TokenType.RIGHT_CURLY_BRACKET_TOKEN\r\n    };\r\n    var SUBSTRING_MATCH_TOKEN = { type: TokenType.SUBSTRING_MATCH_TOKEN };\r\n    var BAD_URL_TOKEN = { type: TokenType.BAD_URL_TOKEN };\r\n    var BAD_STRING_TOKEN = { type: TokenType.BAD_STRING_TOKEN };\r\n    var CDO_TOKEN = { type: TokenType.CDO_TOKEN };\r\n    var CDC_TOKEN = { type: TokenType.CDC_TOKEN };\r\n    var COLON_TOKEN = { type: TokenType.COLON_TOKEN };\r\n    var SEMICOLON_TOKEN = { type: TokenType.SEMICOLON_TOKEN };\r\n    var LEFT_SQUARE_BRACKET_TOKEN = {\r\n        type: TokenType.LEFT_SQUARE_BRACKET_TOKEN\r\n    };\r\n    var RIGHT_SQUARE_BRACKET_TOKEN = {\r\n        type: TokenType.RIGHT_SQUARE_BRACKET_TOKEN\r\n    };\r\n    var WHITESPACE_TOKEN = { type: TokenType.WHITESPACE_TOKEN };\r\n    var EOF_TOKEN = { type: TokenType.EOF_TOKEN };\r\n    var Tokenizer = /** @class */ (function () {\r\n        function Tokenizer() {\r\n            this._value = [];\r\n        }\r\n        Tokenizer.prototype.write = function (chunk) {\r\n            this._value = this._value.concat(toCodePoints(chunk));\r\n        };\r\n        Tokenizer.prototype.read = function () {\r\n            var tokens = [];\r\n            var token = this.consumeToken();\r\n            while (token !== EOF_TOKEN) {\r\n                tokens.push(token);\r\n                token = this.consumeToken();\r\n            }\r\n            return tokens;\r\n        };\r\n        Tokenizer.prototype.consumeToken = function () {\r\n            var codePoint = this.consumeCodePoint();\r\n            switch (codePoint) {\r\n                case QUOTATION_MARK:\r\n                    return this.consumeStringToken(QUOTATION_MARK);\r\n                case NUMBER_SIGN:\r\n                    var c1 = this.peekCodePoint(0);\r\n                    var c2 = this.peekCodePoint(1);\r\n                    var c3 = this.peekCodePoint(2);\r\n                    if (isNameCodePoint(c1) || isValidEscape(c2, c3)) {\r\n                        var flags = isIdentifierStart(c1, c2, c3) ? FLAG_ID : FLAG_UNRESTRICTED;\r\n                        var value = this.consumeName();\r\n                        return { type: TokenType.HASH_TOKEN, value: value, flags: flags };\r\n                    }\r\n                    break;\r\n                case DOLLAR_SIGN:\r\n                    if (this.peekCodePoint(0) === EQUALS_SIGN) {\r\n                        this.consumeCodePoint();\r\n                        return SUFFIX_MATCH_TOKEN;\r\n                    }\r\n                    break;\r\n                case APOSTROPHE:\r\n                    return this.consumeStringToken(APOSTROPHE);\r\n                case LEFT_PARENTHESIS:\r\n                    return LEFT_PARENTHESIS_TOKEN;\r\n                case RIGHT_PARENTHESIS:\r\n                    return RIGHT_PARENTHESIS_TOKEN;\r\n                case ASTERISK:\r\n                    if (this.peekCodePoint(0) === EQUALS_SIGN) {\r\n                        this.consumeCodePoint();\r\n                        return SUBSTRING_MATCH_TOKEN;\r\n                    }\r\n                    break;\r\n                case PLUS_SIGN:\r\n                    if (isNumberStart(codePoint, this.peekCodePoint(0), this.peekCodePoint(1))) {\r\n                        this.reconsumeCodePoint(codePoint);\r\n                        return this.consumeNumericToken();\r\n                    }\r\n                    break;\r\n                case COMMA:\r\n                    return COMMA_TOKEN;\r\n                case HYPHEN_MINUS:\r\n                    var e1 = codePoint;\r\n                    var e2 = this.peekCodePoint(0);\r\n                    var e3 = this.peekCodePoint(1);\r\n                    if (isNumberStart(e1, e2, e3)) {\r\n                        this.reconsumeCodePoint(codePoint);\r\n                        return this.consumeNumericToken();\r\n                    }\r\n                    if (isIdentifierStart(e1, e2, e3)) {\r\n                        this.reconsumeCodePoint(codePoint);\r\n                        return this.consumeIdentLikeToken();\r\n                    }\r\n                    if (e2 === HYPHEN_MINUS && e3 === GREATER_THAN_SIGN) {\r\n                        this.consumeCodePoint();\r\n                        this.consumeCodePoint();\r\n                        return CDC_TOKEN;\r\n                    }\r\n                    break;\r\n                case FULL_STOP:\r\n                    if (isNumberStart(codePoint, this.peekCodePoint(0), this.peekCodePoint(1))) {\r\n                        this.reconsumeCodePoint(codePoint);\r\n                        return this.consumeNumericToken();\r\n                    }\r\n                    break;\r\n                case SOLIDUS:\r\n                    if (this.peekCodePoint(0) === ASTERISK) {\r\n                        this.consumeCodePoint();\r\n                        while (true) {\r\n                            var c = this.consumeCodePoint();\r\n                            if (c === ASTERISK) {\r\n                                c = this.consumeCodePoint();\r\n                                if (c === SOLIDUS) {\r\n                                    return this.consumeToken();\r\n                                }\r\n                            }\r\n                            if (c === EOF) {\r\n                                return this.consumeToken();\r\n                            }\r\n                        }\r\n                    }\r\n                    break;\r\n                case COLON:\r\n                    return COLON_TOKEN;\r\n                case SEMICOLON:\r\n                    return SEMICOLON_TOKEN;\r\n                case LESS_THAN_SIGN:\r\n                    if (this.peekCodePoint(0) === EXCLAMATION_MARK &&\r\n                        this.peekCodePoint(1) === HYPHEN_MINUS &&\r\n                        this.peekCodePoint(2) === HYPHEN_MINUS) {\r\n                        this.consumeCodePoint();\r\n                        this.consumeCodePoint();\r\n                        return CDO_TOKEN;\r\n                    }\r\n                    break;\r\n                case COMMERCIAL_AT:\r\n                    var a1 = this.peekCodePoint(0);\r\n                    var a2 = this.peekCodePoint(1);\r\n                    var a3 = this.peekCodePoint(2);\r\n                    if (isIdentifierStart(a1, a2, a3)) {\r\n                        var value = this.consumeName();\r\n                        return { type: TokenType.AT_KEYWORD_TOKEN, value: value };\r\n                    }\r\n                    break;\r\n                case LEFT_SQUARE_BRACKET:\r\n                    return LEFT_SQUARE_BRACKET_TOKEN;\r\n                case REVERSE_SOLIDUS:\r\n                    if (isValidEscape(codePoint, this.peekCodePoint(0))) {\r\n                        this.reconsumeCodePoint(codePoint);\r\n                        return this.consumeIdentLikeToken();\r\n                    }\r\n                    break;\r\n                case RIGHT_SQUARE_BRACKET:\r\n                    return RIGHT_SQUARE_BRACKET_TOKEN;\r\n                case CIRCUMFLEX_ACCENT:\r\n                    if (this.peekCodePoint(0) === EQUALS_SIGN) {\r\n                        this.consumeCodePoint();\r\n                        return PREFIX_MATCH_TOKEN;\r\n                    }\r\n                    break;\r\n                case LEFT_CURLY_BRACKET:\r\n                    return LEFT_CURLY_BRACKET_TOKEN;\r\n                case RIGHT_CURLY_BRACKET:\r\n                    return RIGHT_CURLY_BRACKET_TOKEN;\r\n                case u:\r\n                case U:\r\n                    var u1 = this.peekCodePoint(0);\r\n                    var u2 = this.peekCodePoint(1);\r\n                    if (u1 === PLUS_SIGN && (isHex(u2) || u2 === QUESTION_MARK)) {\r\n                        this.consumeCodePoint();\r\n                        this.consumeUnicodeRangeToken();\r\n                    }\r\n                    this.reconsumeCodePoint(codePoint);\r\n                    return this.consumeIdentLikeToken();\r\n                case VERTICAL_LINE:\r\n                    if (this.peekCodePoint(0) === EQUALS_SIGN) {\r\n                        this.consumeCodePoint();\r\n                        return DASH_MATCH_TOKEN;\r\n                    }\r\n                    if (this.peekCodePoint(0) === VERTICAL_LINE) {\r\n                        this.consumeCodePoint();\r\n                        return COLUMN_TOKEN;\r\n                    }\r\n                    break;\r\n                case TILDE:\r\n                    if (this.peekCodePoint(0) === EQUALS_SIGN) {\r\n                        this.consumeCodePoint();\r\n                        return INCLUDE_MATCH_TOKEN;\r\n                    }\r\n                    break;\r\n                case EOF:\r\n                    return EOF_TOKEN;\r\n            }\r\n            if (isWhiteSpace(codePoint)) {\r\n                this.consumeWhiteSpace();\r\n                return WHITESPACE_TOKEN;\r\n            }\r\n            if (isDigit(codePoint)) {\r\n                this.reconsumeCodePoint(codePoint);\r\n                return this.consumeNumericToken();\r\n            }\r\n            if (isNameStartCodePoint(codePoint)) {\r\n                this.reconsumeCodePoint(codePoint);\r\n                return this.consumeIdentLikeToken();\r\n            }\r\n            return { type: TokenType.DELIM_TOKEN, value: fromCodePoint(codePoint) };\r\n        };\r\n        Tokenizer.prototype.consumeCodePoint = function () {\r\n            var value = this._value.shift();\r\n            return typeof value === 'undefined' ? -1 : value;\r\n        };\r\n        Tokenizer.prototype.reconsumeCodePoint = function (codePoint) {\r\n            this._value.unshift(codePoint);\r\n        };\r\n        Tokenizer.prototype.peekCodePoint = function (delta) {\r\n            if (delta >= this._value.length) {\r\n                return -1;\r\n            }\r\n            return this._value[delta];\r\n        };\r\n        Tokenizer.prototype.consumeUnicodeRangeToken = function () {\r\n            var digits = [];\r\n            var codePoint = this.consumeCodePoint();\r\n            while (isHex(codePoint) && digits.length < 6) {\r\n                digits.push(codePoint);\r\n                codePoint = this.consumeCodePoint();\r\n            }\r\n            var questionMarks = false;\r\n            while (codePoint === QUESTION_MARK && digits.length < 6) {\r\n                digits.push(codePoint);\r\n                codePoint = this.consumeCodePoint();\r\n                questionMarks = true;\r\n            }\r\n            if (questionMarks) {\r\n                var start_1 = parseInt(fromCodePoint.apply(void 0, digits.map(function (digit) { return (digit === QUESTION_MARK ? ZERO : digit); })), 16);\r\n                var end = parseInt(fromCodePoint.apply(void 0, digits.map(function (digit) { return (digit === QUESTION_MARK ? F : digit); })), 16);\r\n                return { type: TokenType.UNICODE_RANGE_TOKEN, start: start_1, end: end };\r\n            }\r\n            var start = parseInt(fromCodePoint.apply(void 0, digits), 16);\r\n            if (this.peekCodePoint(0) === HYPHEN_MINUS && isHex(this.peekCodePoint(1))) {\r\n                this.consumeCodePoint();\r\n                codePoint = this.consumeCodePoint();\r\n                var endDigits = [];\r\n                while (isHex(codePoint) && endDigits.length < 6) {\r\n                    endDigits.push(codePoint);\r\n                    codePoint = this.consumeCodePoint();\r\n                }\r\n                var end = parseInt(fromCodePoint.apply(void 0, endDigits), 16);\r\n                return { type: TokenType.UNICODE_RANGE_TOKEN, start: start, end: end };\r\n            }\r\n            else {\r\n                return { type: TokenType.UNICODE_RANGE_TOKEN, start: start, end: start };\r\n            }\r\n        };\r\n        Tokenizer.prototype.consumeIdentLikeToken = function () {\r\n            var value = this.consumeName();\r\n            if (value.toLowerCase() === 'url' && this.peekCodePoint(0) === LEFT_PARENTHESIS) {\r\n                this.consumeCodePoint();\r\n                return this.consumeUrlToken();\r\n            }\r\n            else if (this.peekCodePoint(0) === LEFT_PARENTHESIS) {\r\n                this.consumeCodePoint();\r\n                return { type: TokenType.FUNCTION_TOKEN, value: value };\r\n            }\r\n            return { type: TokenType.IDENT_TOKEN, value: value };\r\n        };\r\n        Tokenizer.prototype.consumeUrlToken = function () {\r\n            var value = [];\r\n            this.consumeWhiteSpace();\r\n            if (this.peekCodePoint(0) === EOF) {\r\n                return { type: TokenType.URL_TOKEN, value: '' };\r\n            }\r\n            var next = this.peekCodePoint(0);\r\n            if (next === APOSTROPHE || next === QUOTATION_MARK) {\r\n                var stringToken = this.consumeStringToken(this.consumeCodePoint());\r\n                if (stringToken.type === TokenType.STRING_TOKEN) {\r\n                    this.consumeWhiteSpace();\r\n                    if (this.peekCodePoint(0) === EOF || this.peekCodePoint(0) === RIGHT_PARENTHESIS) {\r\n                        this.consumeCodePoint();\r\n                        return { type: TokenType.URL_TOKEN, value: stringToken.value };\r\n                    }\r\n                }\r\n                this.consumeBadUrlRemnants();\r\n                return BAD_URL_TOKEN;\r\n            }\r\n            while (true) {\r\n                var codePoint = this.consumeCodePoint();\r\n                if (codePoint === EOF || codePoint === RIGHT_PARENTHESIS) {\r\n                    return { type: TokenType.URL_TOKEN, value: fromCodePoint.apply(void 0, value) };\r\n                }\r\n                else if (isWhiteSpace(codePoint)) {\r\n                    this.consumeWhiteSpace();\r\n                    if (this.peekCodePoint(0) === EOF || this.peekCodePoint(0) === RIGHT_PARENTHESIS) {\r\n                        this.consumeCodePoint();\r\n                        return { type: TokenType.URL_TOKEN, value: fromCodePoint.apply(void 0, value) };\r\n                    }\r\n                    this.consumeBadUrlRemnants();\r\n                    return BAD_URL_TOKEN;\r\n                }\r\n                else if (codePoint === QUOTATION_MARK ||\r\n                    codePoint === APOSTROPHE ||\r\n                    codePoint === LEFT_PARENTHESIS ||\r\n                    isNonPrintableCodePoint(codePoint)) {\r\n                    this.consumeBadUrlRemnants();\r\n                    return BAD_URL_TOKEN;\r\n                }\r\n                else if (codePoint === REVERSE_SOLIDUS) {\r\n                    if (isValidEscape(codePoint, this.peekCodePoint(0))) {\r\n                        value.push(this.consumeEscapedCodePoint());\r\n                    }\r\n                    else {\r\n                        this.consumeBadUrlRemnants();\r\n                        return BAD_URL_TOKEN;\r\n                    }\r\n                }\r\n                else {\r\n                    value.push(codePoint);\r\n                }\r\n            }\r\n        };\r\n        Tokenizer.prototype.consumeWhiteSpace = function () {\r\n            while (isWhiteSpace(this.peekCodePoint(0))) {\r\n                this.consumeCodePoint();\r\n            }\r\n        };\r\n        Tokenizer.prototype.consumeBadUrlRemnants = function () {\r\n            while (true) {\r\n                var codePoint = this.consumeCodePoint();\r\n                if (codePoint === RIGHT_PARENTHESIS || codePoint === EOF) {\r\n                    return;\r\n                }\r\n                if (isValidEscape(codePoint, this.peekCodePoint(0))) {\r\n                    this.consumeEscapedCodePoint();\r\n                }\r\n            }\r\n        };\r\n        Tokenizer.prototype.consumeStringSlice = function (count) {\r\n            var SLICE_STACK_SIZE = 60000;\r\n            var value = '';\r\n            while (count > 0) {\r\n                var amount = Math.min(SLICE_STACK_SIZE, count);\r\n                value += fromCodePoint.apply(void 0, this._value.splice(0, amount));\r\n                count -= amount;\r\n            }\r\n            this._value.shift();\r\n            return value;\r\n        };\r\n        Tokenizer.prototype.consumeStringToken = function (endingCodePoint) {\r\n            var value = '';\r\n            var i = 0;\r\n            do {\r\n                var codePoint = this._value[i];\r\n                if (codePoint === EOF || codePoint === undefined || codePoint === endingCodePoint) {\r\n                    value += this.consumeStringSlice(i);\r\n                    return { type: TokenType.STRING_TOKEN, value: value };\r\n                }\r\n                if (codePoint === LINE_FEED) {\r\n                    this._value.splice(0, i);\r\n                    return BAD_STRING_TOKEN;\r\n                }\r\n                if (codePoint === REVERSE_SOLIDUS) {\r\n                    var next = this._value[i + 1];\r\n                    if (next !== EOF && next !== undefined) {\r\n                        if (next === LINE_FEED) {\r\n                            value += this.consumeStringSlice(i);\r\n                            i = -1;\r\n                            this._value.shift();\r\n                        }\r\n                        else if (isValidEscape(codePoint, next)) {\r\n                            value += this.consumeStringSlice(i);\r\n                            value += fromCodePoint(this.consumeEscapedCodePoint());\r\n                            i = -1;\r\n                        }\r\n                    }\r\n                }\r\n                i++;\r\n            } while (true);\r\n        };\r\n        Tokenizer.prototype.consumeNumber = function () {\r\n            var repr = [];\r\n            var type = FLAG_INTEGER;\r\n            var c1 = this.peekCodePoint(0);\r\n            if (c1 === PLUS_SIGN || c1 === HYPHEN_MINUS) {\r\n                repr.push(this.consumeCodePoint());\r\n            }\r\n            while (isDigit(this.peekCodePoint(0))) {\r\n                repr.push(this.consumeCodePoint());\r\n            }\r\n            c1 = this.peekCodePoint(0);\r\n            var c2 = this.peekCodePoint(1);\r\n            if (c1 === FULL_STOP && isDigit(c2)) {\r\n                repr.push(this.consumeCodePoint(), this.consumeCodePoint());\r\n                type = FLAG_NUMBER;\r\n                while (isDigit(this.peekCodePoint(0))) {\r\n                    repr.push(this.consumeCodePoint());\r\n                }\r\n            }\r\n            c1 = this.peekCodePoint(0);\r\n            c2 = this.peekCodePoint(1);\r\n            var c3 = this.peekCodePoint(2);\r\n            if ((c1 === E || c1 === e) && (((c2 === PLUS_SIGN || c2 === HYPHEN_MINUS) && isDigit(c3)) || isDigit(c2))) {\r\n                repr.push(this.consumeCodePoint(), this.consumeCodePoint());\r\n                type = FLAG_NUMBER;\r\n                while (isDigit(this.peekCodePoint(0))) {\r\n                    repr.push(this.consumeCodePoint());\r\n                }\r\n            }\r\n            return [stringToNumber(repr), type];\r\n        };\r\n        Tokenizer.prototype.consumeNumericToken = function () {\r\n            var _a = this.consumeNumber(), number = _a[0], flags = _a[1];\r\n            var c1 = this.peekCodePoint(0);\r\n            var c2 = this.peekCodePoint(1);\r\n            var c3 = this.peekCodePoint(2);\r\n            if (isIdentifierStart(c1, c2, c3)) {\r\n                var unit = this.consumeName();\r\n                return { type: TokenType.DIMENSION_TOKEN, number: number, flags: flags, unit: unit };\r\n            }\r\n            if (c1 === PERCENTAGE_SIGN) {\r\n                this.consumeCodePoint();\r\n                return { type: TokenType.PERCENTAGE_TOKEN, number: number, flags: flags };\r\n            }\r\n            return { type: TokenType.NUMBER_TOKEN, number: number, flags: flags };\r\n        };\r\n        Tokenizer.prototype.consumeEscapedCodePoint = function () {\r\n            var codePoint = this.consumeCodePoint();\r\n            if (isHex(codePoint)) {\r\n                var hex = fromCodePoint(codePoint);\r\n                while (isHex(this.peekCodePoint(0)) && hex.length < 6) {\r\n                    hex += fromCodePoint(this.consumeCodePoint());\r\n                }\r\n                if (isWhiteSpace(this.peekCodePoint(0))) {\r\n                    this.consumeCodePoint();\r\n                }\r\n                var hexCodePoint = parseInt(hex, 16);\r\n                if (hexCodePoint === 0 || isSurrogateCodePoint(hexCodePoint) || hexCodePoint > 0x10ffff) {\r\n                    return REPLACEMENT_CHARACTER;\r\n                }\r\n                return hexCodePoint;\r\n            }\r\n            if (codePoint === EOF) {\r\n                return REPLACEMENT_CHARACTER;\r\n            }\r\n            return codePoint;\r\n        };\r\n        Tokenizer.prototype.consumeName = function () {\r\n            var result = '';\r\n            while (true) {\r\n                var codePoint = this.consumeCodePoint();\r\n                if (isNameCodePoint(codePoint)) {\r\n                    result += fromCodePoint(codePoint);\r\n                }\r\n                else if (isValidEscape(codePoint, this.peekCodePoint(0))) {\r\n                    result += fromCodePoint(this.consumeEscapedCodePoint());\r\n                }\r\n                else {\r\n                    this.reconsumeCodePoint(codePoint);\r\n                    return result;\r\n                }\r\n            }\r\n        };\r\n        return Tokenizer;\r\n    }());\n\n    var Parser = /** @class */ (function () {\r\n        function Parser(tokens) {\r\n            this._tokens = tokens;\r\n        }\r\n        Parser.create = function (value) {\r\n            var tokenizer = new Tokenizer();\r\n            tokenizer.write(value);\r\n            return new Parser(tokenizer.read());\r\n        };\r\n        Parser.parseValue = function (value) {\r\n            return Parser.create(value).parseComponentValue();\r\n        };\r\n        Parser.parseValues = function (value) {\r\n            return Parser.create(value).parseComponentValues();\r\n        };\r\n        Parser.prototype.parseComponentValue = function () {\r\n            var token = this.consumeToken();\r\n            while (token.type === TokenType.WHITESPACE_TOKEN) {\r\n                token = this.consumeToken();\r\n            }\r\n            if (token.type === TokenType.EOF_TOKEN) {\r\n                throw new SyntaxError(\"Error parsing CSS component value, unexpected EOF\");\r\n            }\r\n            this.reconsumeToken(token);\r\n            var value = this.consumeComponentValue();\r\n            do {\r\n                token = this.consumeToken();\r\n            } while (token.type === TokenType.WHITESPACE_TOKEN);\r\n            if (token.type === TokenType.EOF_TOKEN) {\r\n                return value;\r\n            }\r\n            throw new SyntaxError(\"Error parsing CSS component value, multiple values found when expecting only one\");\r\n        };\r\n        Parser.prototype.parseComponentValues = function () {\r\n            var values = [];\r\n            while (true) {\r\n                var value = this.consumeComponentValue();\r\n                if (value.type === TokenType.EOF_TOKEN) {\r\n                    return values;\r\n                }\r\n                values.push(value);\r\n                values.push();\r\n            }\r\n        };\r\n        Parser.prototype.consumeComponentValue = function () {\r\n            var token = this.consumeToken();\r\n            switch (token.type) {\r\n                case TokenType.LEFT_CURLY_BRACKET_TOKEN:\r\n                case TokenType.LEFT_SQUARE_BRACKET_TOKEN:\r\n                case TokenType.LEFT_PARENTHESIS_TOKEN:\r\n                    return this.consumeSimpleBlock(token.type);\r\n                case TokenType.FUNCTION_TOKEN:\r\n                    return this.consumeFunction(token);\r\n            }\r\n            return token;\r\n        };\r\n        Parser.prototype.consumeSimpleBlock = function (type) {\r\n            var block = { type: type, values: [] };\r\n            var token = this.consumeToken();\r\n            while (true) {\r\n                if (token.type === TokenType.EOF_TOKEN || isEndingTokenFor(token, type)) {\r\n                    return block;\r\n                }\r\n                this.reconsumeToken(token);\r\n                block.values.push(this.consumeComponentValue());\r\n                token = this.consumeToken();\r\n            }\r\n        };\r\n        Parser.prototype.consumeFunction = function (functionToken) {\r\n            var cssFunction = {\r\n                name: functionToken.value,\r\n                values: [],\r\n                type: TokenType.FUNCTION\r\n            };\r\n            while (true) {\r\n                var token = this.consumeToken();\r\n                if (token.type === TokenType.EOF_TOKEN || token.type === TokenType.RIGHT_PARENTHESIS_TOKEN) {\r\n                    return cssFunction;\r\n                }\r\n                this.reconsumeToken(token);\r\n                cssFunction.values.push(this.consumeComponentValue());\r\n            }\r\n        };\r\n        Parser.prototype.consumeToken = function () {\r\n            var token = this._tokens.shift();\r\n            return typeof token === 'undefined' ? EOF_TOKEN : token;\r\n        };\r\n        Parser.prototype.reconsumeToken = function (token) {\r\n            this._tokens.unshift(token);\r\n        };\r\n        return Parser;\r\n    }());\r\n    var isDimensionToken = function (token) { return token.type === TokenType.DIMENSION_TOKEN; };\r\n    var isNumberToken = function (token) { return token.type === TokenType.NUMBER_TOKEN; };\r\n    var isIdentToken = function (token) { return token.type === TokenType.IDENT_TOKEN; };\r\n    var isStringToken = function (token) { return token.type === TokenType.STRING_TOKEN; };\r\n    var isIdentWithValue = function (token, value) {\r\n        return isIdentToken(token) && token.value === value;\r\n    };\r\n    var nonWhiteSpace = function (token) { return token.type !== TokenType.WHITESPACE_TOKEN; };\r\n    var nonFunctionArgSeparator = function (token) {\r\n        return token.type !== TokenType.WHITESPACE_TOKEN && token.type !== TokenType.COMMA_TOKEN;\r\n    };\r\n    var parseFunctionArgs = function (tokens) {\r\n        var args = [];\r\n        var arg = [];\r\n        tokens.forEach(function (token) {\r\n            if (token.type === TokenType.COMMA_TOKEN) {\r\n                if (arg.length === 0) {\r\n                    throw new Error(\"Error parsing function args, zero tokens for arg\");\r\n                }\r\n                args.push(arg);\r\n                arg = [];\r\n                return;\r\n            }\r\n            if (token.type !== TokenType.WHITESPACE_TOKEN) {\r\n                arg.push(token);\r\n            }\r\n        });\r\n        if (arg.length) {\r\n            args.push(arg);\r\n        }\r\n        return args;\r\n    };\r\n    var isEndingTokenFor = function (token, type) {\r\n        if (type === TokenType.LEFT_CURLY_BRACKET_TOKEN && token.type === TokenType.RIGHT_CURLY_BRACKET_TOKEN) {\r\n            return true;\r\n        }\r\n        if (type === TokenType.LEFT_SQUARE_BRACKET_TOKEN && token.type === TokenType.RIGHT_SQUARE_BRACKET_TOKEN) {\r\n            return true;\r\n        }\r\n        return type === TokenType.LEFT_PARENTHESIS_TOKEN && token.type === TokenType.RIGHT_PARENTHESIS_TOKEN;\r\n    };\n\n    var isLength = function (token) {\r\n        return token.type === TokenType.NUMBER_TOKEN || token.type === TokenType.DIMENSION_TOKEN;\r\n    };\n\n    var isLengthPercentage = function (token) {\r\n        return token.type === TokenType.PERCENTAGE_TOKEN || isLength(token);\r\n    };\r\n    var parseLengthPercentageTuple = function (tokens) {\r\n        return tokens.length > 1 ? [tokens[0], tokens[1]] : [tokens[0]];\r\n    };\r\n    var ZERO_LENGTH = {\r\n        type: TokenType.NUMBER_TOKEN,\r\n        number: 0,\r\n        flags: FLAG_INTEGER\r\n    };\r\n    var FIFTY_PERCENT = {\r\n        type: TokenType.PERCENTAGE_TOKEN,\r\n        number: 50,\r\n        flags: FLAG_INTEGER\r\n    };\r\n    var HUNDRED_PERCENT = {\r\n        type: TokenType.PERCENTAGE_TOKEN,\r\n        number: 100,\r\n        flags: FLAG_INTEGER\r\n    };\r\n    var getAbsoluteValueForTuple = function (tuple, width, height) {\r\n        var x = tuple[0], y = tuple[1];\r\n        return [getAbsoluteValue(x, width), getAbsoluteValue(typeof y !== 'undefined' ? y : x, height)];\r\n    };\r\n    var getAbsoluteValue = function (token, parent) {\r\n        if (token.type === TokenType.PERCENTAGE_TOKEN) {\r\n            return (token.number / 100) * parent;\r\n        }\r\n        if (isDimensionToken(token)) {\r\n            switch (token.unit) {\r\n                case 'rem':\r\n                case 'em':\r\n                    return 16 * token.number; // TODO use correct font-size\r\n                case 'px':\r\n                default:\r\n                    return token.number;\r\n            }\r\n        }\r\n        return token.number;\r\n    };\n\n    var DEG = 'deg';\r\n    var GRAD = 'grad';\r\n    var RAD = 'rad';\r\n    var TURN = 'turn';\r\n    var angle = {\r\n        name: 'angle',\r\n        parse: function (value) {\r\n            if (value.type === TokenType.DIMENSION_TOKEN) {\r\n                switch (value.unit) {\r\n                    case DEG:\r\n                        return (Math.PI * value.number) / 180;\r\n                    case GRAD:\r\n                        return (Math.PI / 200) * value.number;\r\n                    case RAD:\r\n                        return value.number;\r\n                    case TURN:\r\n                        return Math.PI * 2 * value.number;\r\n                }\r\n            }\r\n            throw new Error(\"Unsupported angle type\");\r\n        }\r\n    };\r\n    var isAngle = function (value) {\r\n        if (value.type === TokenType.DIMENSION_TOKEN) {\r\n            if (value.unit === DEG || value.unit === GRAD || value.unit === RAD || value.unit === TURN) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    var parseNamedSide = function (tokens) {\r\n        var sideOrCorner = tokens\r\n            .filter(isIdentToken)\r\n            .map(function (ident) { return ident.value; })\r\n            .join(' ');\r\n        switch (sideOrCorner) {\r\n            case 'to bottom right':\r\n            case 'to right bottom':\r\n            case 'left top':\r\n            case 'top left':\r\n                return [ZERO_LENGTH, ZERO_LENGTH];\r\n            case 'to top':\r\n            case 'bottom':\r\n                return deg(0);\r\n            case 'to bottom left':\r\n            case 'to left bottom':\r\n            case 'right top':\r\n            case 'top right':\r\n                return [ZERO_LENGTH, HUNDRED_PERCENT];\r\n            case 'to right':\r\n            case 'left':\r\n                return deg(90);\r\n            case 'to top left':\r\n            case 'to left top':\r\n            case 'right bottom':\r\n            case 'bottom right':\r\n                return [HUNDRED_PERCENT, HUNDRED_PERCENT];\r\n            case 'to bottom':\r\n            case 'top':\r\n                return deg(180);\r\n            case 'to top right':\r\n            case 'to right top':\r\n            case 'left bottom':\r\n            case 'bottom left':\r\n                return [HUNDRED_PERCENT, ZERO_LENGTH];\r\n            case 'to left':\r\n            case 'right':\r\n                return deg(270);\r\n        }\r\n        return 0;\r\n    };\r\n    var deg = function (deg) { return (Math.PI * deg) / 180; };\n\n    var color = {\r\n        name: 'color',\r\n        parse: function (value) {\r\n            if (value.type === TokenType.FUNCTION) {\r\n                var colorFunction = SUPPORTED_COLOR_FUNCTIONS[value.name];\r\n                if (typeof colorFunction === 'undefined') {\r\n                    throw new Error(\"Attempting to parse an unsupported color function \\\"\" + value.name + \"\\\"\");\r\n                }\r\n                return colorFunction(value.values);\r\n            }\r\n            if (value.type === TokenType.HASH_TOKEN) {\r\n                if (value.value.length === 3) {\r\n                    var r = value.value.substring(0, 1);\r\n                    var g = value.value.substring(1, 2);\r\n                    var b = value.value.substring(2, 3);\r\n                    return pack(parseInt(r + r, 16), parseInt(g + g, 16), parseInt(b + b, 16), 1);\r\n                }\r\n                if (value.value.length === 4) {\r\n                    var r = value.value.substring(0, 1);\r\n                    var g = value.value.substring(1, 2);\r\n                    var b = value.value.substring(2, 3);\r\n                    var a = value.value.substring(3, 4);\r\n                    return pack(parseInt(r + r, 16), parseInt(g + g, 16), parseInt(b + b, 16), parseInt(a + a, 16) / 255);\r\n                }\r\n                if (value.value.length === 6) {\r\n                    var r = value.value.substring(0, 2);\r\n                    var g = value.value.substring(2, 4);\r\n                    var b = value.value.substring(4, 6);\r\n                    return pack(parseInt(r, 16), parseInt(g, 16), parseInt(b, 16), 1);\r\n                }\r\n                if (value.value.length === 8) {\r\n                    var r = value.value.substring(0, 2);\r\n                    var g = value.value.substring(2, 4);\r\n                    var b = value.value.substring(4, 6);\r\n                    var a = value.value.substring(6, 8);\r\n                    return pack(parseInt(r, 16), parseInt(g, 16), parseInt(b, 16), parseInt(a, 16) / 255);\r\n                }\r\n            }\r\n            if (value.type === TokenType.IDENT_TOKEN) {\r\n                var namedColor = COLORS[value.value.toUpperCase()];\r\n                if (typeof namedColor !== 'undefined') {\r\n                    return namedColor;\r\n                }\r\n            }\r\n            return COLORS.TRANSPARENT;\r\n        }\r\n    };\r\n    var isTransparent = function (color) { return (0xff & color) === 0; };\r\n    var asString = function (color) {\r\n        var alpha = 0xff & color;\r\n        var blue = 0xff & (color >> 8);\r\n        var green = 0xff & (color >> 16);\r\n        var red = 0xff & (color >> 24);\r\n        return alpha < 255 ? \"rgba(\" + red + \",\" + green + \",\" + blue + \",\" + alpha / 255 + \")\" : \"rgb(\" + red + \",\" + green + \",\" + blue + \")\";\r\n    };\r\n    var pack = function (r, g, b, a) {\r\n        return ((r << 24) | (g << 16) | (b << 8) | (Math.round(a * 255) << 0)) >>> 0;\r\n    };\r\n    var getTokenColorValue = function (token, i) {\r\n        if (token.type === TokenType.NUMBER_TOKEN) {\r\n            return token.number;\r\n        }\r\n        if (token.type === TokenType.PERCENTAGE_TOKEN) {\r\n            var max = i === 3 ? 1 : 255;\r\n            return i === 3 ? (token.number / 100) * max : Math.round((token.number / 100) * max);\r\n        }\r\n        return 0;\r\n    };\r\n    var rgb = function (args) {\r\n        var tokens = args.filter(nonFunctionArgSeparator);\r\n        if (tokens.length === 3) {\r\n            var _a = tokens.map(getTokenColorValue), r = _a[0], g = _a[1], b = _a[2];\r\n            return pack(r, g, b, 1);\r\n        }\r\n        if (tokens.length === 4) {\r\n            var _b = tokens.map(getTokenColorValue), r = _b[0], g = _b[1], b = _b[2], a = _b[3];\r\n            return pack(r, g, b, a);\r\n        }\r\n        return 0;\r\n    };\r\n    function hue2rgb(t1, t2, hue) {\r\n        if (hue < 0) {\r\n            hue += 1;\r\n        }\r\n        if (hue >= 1) {\r\n            hue -= 1;\r\n        }\r\n        if (hue < 1 / 6) {\r\n            return (t2 - t1) * hue * 6 + t1;\r\n        }\r\n        else if (hue < 1 / 2) {\r\n            return t2;\r\n        }\r\n        else if (hue < 2 / 3) {\r\n            return (t2 - t1) * 6 * (2 / 3 - hue) + t1;\r\n        }\r\n        else {\r\n            return t1;\r\n        }\r\n    }\r\n    var hsl = function (args) {\r\n        var tokens = args.filter(nonFunctionArgSeparator);\r\n        var hue = tokens[0], saturation = tokens[1], lightness = tokens[2], alpha = tokens[3];\r\n        var h = (hue.type === TokenType.NUMBER_TOKEN ? deg(hue.number) : angle.parse(hue)) / (Math.PI * 2);\r\n        var s = isLengthPercentage(saturation) ? saturation.number / 100 : 0;\r\n        var l = isLengthPercentage(lightness) ? lightness.number / 100 : 0;\r\n        var a = typeof alpha !== 'undefined' && isLengthPercentage(alpha) ? getAbsoluteValue(alpha, 1) : 1;\r\n        if (s === 0) {\r\n            return pack(l * 255, l * 255, l * 255, 1);\r\n        }\r\n        var t2 = l <= 0.5 ? l * (s + 1) : l + s - l * s;\r\n        var t1 = l * 2 - t2;\r\n        var r = hue2rgb(t1, t2, h + 1 / 3);\r\n        var g = hue2rgb(t1, t2, h);\r\n        var b = hue2rgb(t1, t2, h - 1 / 3);\r\n        return pack(r * 255, g * 255, b * 255, a);\r\n    };\r\n    var SUPPORTED_COLOR_FUNCTIONS = {\r\n        hsl: hsl,\r\n        hsla: hsl,\r\n        rgb: rgb,\r\n        rgba: rgb\r\n    };\r\n    var COLORS = {\r\n        ALICEBLUE: 0xf0f8ffff,\r\n        ANTIQUEWHITE: 0xfaebd7ff,\r\n        AQUA: 0x00ffffff,\r\n        AQUAMARINE: 0x7fffd4ff,\r\n        AZURE: 0xf0ffffff,\r\n        BEIGE: 0xf5f5dcff,\r\n        BISQUE: 0xffe4c4ff,\r\n        BLACK: 0x000000ff,\r\n        BLANCHEDALMOND: 0xffebcdff,\r\n        BLUE: 0x0000ffff,\r\n        BLUEVIOLET: 0x8a2be2ff,\r\n        BROWN: 0xa52a2aff,\r\n        BURLYWOOD: 0xdeb887ff,\r\n        CADETBLUE: 0x5f9ea0ff,\r\n        CHARTREUSE: 0x7fff00ff,\r\n        CHOCOLATE: 0xd2691eff,\r\n        CORAL: 0xff7f50ff,\r\n        CORNFLOWERBLUE: 0x6495edff,\r\n        CORNSILK: 0xfff8dcff,\r\n        CRIMSON: 0xdc143cff,\r\n        CYAN: 0x00ffffff,\r\n        DARKBLUE: 0x00008bff,\r\n        DARKCYAN: 0x008b8bff,\r\n        DARKGOLDENROD: 0xb886bbff,\r\n        DARKGRAY: 0xa9a9a9ff,\r\n        DARKGREEN: 0x006400ff,\r\n        DARKGREY: 0xa9a9a9ff,\r\n        DARKKHAKI: 0xbdb76bff,\r\n        DARKMAGENTA: 0x8b008bff,\r\n        DARKOLIVEGREEN: 0x556b2fff,\r\n        DARKORANGE: 0xff8c00ff,\r\n        DARKORCHID: 0x9932ccff,\r\n        DARKRED: 0x8b0000ff,\r\n        DARKSALMON: 0xe9967aff,\r\n        DARKSEAGREEN: 0x8fbc8fff,\r\n        DARKSLATEBLUE: 0x483d8bff,\r\n        DARKSLATEGRAY: 0x2f4f4fff,\r\n        DARKSLATEGREY: 0x2f4f4fff,\r\n        DARKTURQUOISE: 0x00ced1ff,\r\n        DARKVIOLET: 0x9400d3ff,\r\n        DEEPPINK: 0xff1493ff,\r\n        DEEPSKYBLUE: 0x00bfffff,\r\n        DIMGRAY: 0x696969ff,\r\n        DIMGREY: 0x696969ff,\r\n        DODGERBLUE: 0x1e90ffff,\r\n        FIREBRICK: 0xb22222ff,\r\n        FLORALWHITE: 0xfffaf0ff,\r\n        FORESTGREEN: 0x228b22ff,\r\n        FUCHSIA: 0xff00ffff,\r\n        GAINSBORO: 0xdcdcdcff,\r\n        GHOSTWHITE: 0xf8f8ffff,\r\n        GOLD: 0xffd700ff,\r\n        GOLDENROD: 0xdaa520ff,\r\n        GRAY: 0x808080ff,\r\n        GREEN: 0x008000ff,\r\n        GREENYELLOW: 0xadff2fff,\r\n        GREY: 0x808080ff,\r\n        HONEYDEW: 0xf0fff0ff,\r\n        HOTPINK: 0xff69b4ff,\r\n        INDIANRED: 0xcd5c5cff,\r\n        INDIGO: 0x4b0082ff,\r\n        IVORY: 0xfffff0ff,\r\n        KHAKI: 0xf0e68cff,\r\n        LAVENDER: 0xe6e6faff,\r\n        LAVENDERBLUSH: 0xfff0f5ff,\r\n        LAWNGREEN: 0x7cfc00ff,\r\n        LEMONCHIFFON: 0xfffacdff,\r\n        LIGHTBLUE: 0xadd8e6ff,\r\n        LIGHTCORAL: 0xf08080ff,\r\n        LIGHTCYAN: 0xe0ffffff,\r\n        LIGHTGOLDENRODYELLOW: 0xfafad2ff,\r\n        LIGHTGRAY: 0xd3d3d3ff,\r\n        LIGHTGREEN: 0x90ee90ff,\r\n        LIGHTGREY: 0xd3d3d3ff,\r\n        LIGHTPINK: 0xffb6c1ff,\r\n        LIGHTSALMON: 0xffa07aff,\r\n        LIGHTSEAGREEN: 0x20b2aaff,\r\n        LIGHTSKYBLUE: 0x87cefaff,\r\n        LIGHTSLATEGRAY: 0x778899ff,\r\n        LIGHTSLATEGREY: 0x778899ff,\r\n        LIGHTSTEELBLUE: 0xb0c4deff,\r\n        LIGHTYELLOW: 0xffffe0ff,\r\n        LIME: 0x00ff00ff,\r\n        LIMEGREEN: 0x32cd32ff,\r\n        LINEN: 0xfaf0e6ff,\r\n        MAGENTA: 0xff00ffff,\r\n        MAROON: 0x800000ff,\r\n        MEDIUMAQUAMARINE: 0x66cdaaff,\r\n        MEDIUMBLUE: 0x0000cdff,\r\n        MEDIUMORCHID: 0xba55d3ff,\r\n        MEDIUMPURPLE: 0x9370dbff,\r\n        MEDIUMSEAGREEN: 0x3cb371ff,\r\n        MEDIUMSLATEBLUE: 0x7b68eeff,\r\n        MEDIUMSPRINGGREEN: 0x00fa9aff,\r\n        MEDIUMTURQUOISE: 0x48d1ccff,\r\n        MEDIUMVIOLETRED: 0xc71585ff,\r\n        MIDNIGHTBLUE: 0x191970ff,\r\n        MINTCREAM: 0xf5fffaff,\r\n        MISTYROSE: 0xffe4e1ff,\r\n        MOCCASIN: 0xffe4b5ff,\r\n        NAVAJOWHITE: 0xffdeadff,\r\n        NAVY: 0x000080ff,\r\n        OLDLACE: 0xfdf5e6ff,\r\n        OLIVE: 0x808000ff,\r\n        OLIVEDRAB: 0x6b8e23ff,\r\n        ORANGE: 0xffa500ff,\r\n        ORANGERED: 0xff4500ff,\r\n        ORCHID: 0xda70d6ff,\r\n        PALEGOLDENROD: 0xeee8aaff,\r\n        PALEGREEN: 0x98fb98ff,\r\n        PALETURQUOISE: 0xafeeeeff,\r\n        PALEVIOLETRED: 0xdb7093ff,\r\n        PAPAYAWHIP: 0xffefd5ff,\r\n        PEACHPUFF: 0xffdab9ff,\r\n        PERU: 0xcd853fff,\r\n        PINK: 0xffc0cbff,\r\n        PLUM: 0xdda0ddff,\r\n        POWDERBLUE: 0xb0e0e6ff,\r\n        PURPLE: 0x800080ff,\r\n        REBECCAPURPLE: 0x663399ff,\r\n        RED: 0xff0000ff,\r\n        ROSYBROWN: 0xbc8f8fff,\r\n        ROYALBLUE: 0x4169e1ff,\r\n        SADDLEBROWN: 0x8b4513ff,\r\n        SALMON: 0xfa8072ff,\r\n        SANDYBROWN: 0xf4a460ff,\r\n        SEAGREEN: 0x2e8b57ff,\r\n        SEASHELL: 0xfff5eeff,\r\n        SIENNA: 0xa0522dff,\r\n        SILVER: 0xc0c0c0ff,\r\n        SKYBLUE: 0x87ceebff,\r\n        SLATEBLUE: 0x6a5acdff,\r\n        SLATEGRAY: 0x708090ff,\r\n        SLATEGREY: 0x708090ff,\r\n        SNOW: 0xfffafaff,\r\n        SPRINGGREEN: 0x00ff7fff,\r\n        STEELBLUE: 0x4682b4ff,\r\n        TAN: 0xd2b48cff,\r\n        TEAL: 0x008080ff,\r\n        THISTLE: 0xd8bfd8ff,\r\n        TOMATO: 0xff6347ff,\r\n        TRANSPARENT: 0x00000000,\r\n        TURQUOISE: 0x40e0d0ff,\r\n        VIOLET: 0xee82eeff,\r\n        WHEAT: 0xf5deb3ff,\r\n        WHITE: 0xffffffff,\r\n        WHITESMOKE: 0xf5f5f5ff,\r\n        YELLOW: 0xffff00ff,\r\n        YELLOWGREEN: 0x9acd32ff\r\n    };\n\n    var PropertyDescriptorParsingType;\r\n    (function (PropertyDescriptorParsingType) {\r\n        PropertyDescriptorParsingType[PropertyDescriptorParsingType[\"VALUE\"] = 0] = \"VALUE\";\r\n        PropertyDescriptorParsingType[PropertyDescriptorParsingType[\"LIST\"] = 1] = \"LIST\";\r\n        PropertyDescriptorParsingType[PropertyDescriptorParsingType[\"IDENT_VALUE\"] = 2] = \"IDENT_VALUE\";\r\n        PropertyDescriptorParsingType[PropertyDescriptorParsingType[\"TYPE_VALUE\"] = 3] = \"TYPE_VALUE\";\r\n        PropertyDescriptorParsingType[PropertyDescriptorParsingType[\"TOKEN_VALUE\"] = 4] = \"TOKEN_VALUE\";\r\n    })(PropertyDescriptorParsingType || (PropertyDescriptorParsingType = {}));\n\n    var BACKGROUND_CLIP;\r\n    (function (BACKGROUND_CLIP) {\r\n        BACKGROUND_CLIP[BACKGROUND_CLIP[\"BORDER_BOX\"] = 0] = \"BORDER_BOX\";\r\n        BACKGROUND_CLIP[BACKGROUND_CLIP[\"PADDING_BOX\"] = 1] = \"PADDING_BOX\";\r\n        BACKGROUND_CLIP[BACKGROUND_CLIP[\"CONTENT_BOX\"] = 2] = \"CONTENT_BOX\";\r\n    })(BACKGROUND_CLIP || (BACKGROUND_CLIP = {}));\r\n    var backgroundClip = {\r\n        name: 'background-clip',\r\n        initialValue: 'border-box',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        parse: function (tokens) {\r\n            return tokens.map(function (token) {\r\n                if (isIdentToken(token)) {\r\n                    switch (token.value) {\r\n                        case 'padding-box':\r\n                            return BACKGROUND_CLIP.PADDING_BOX;\r\n                        case 'content-box':\r\n                            return BACKGROUND_CLIP.CONTENT_BOX;\r\n                    }\r\n                }\r\n                return BACKGROUND_CLIP.BORDER_BOX;\r\n            });\r\n        }\r\n    };\n\n    var backgroundColor = {\r\n        name: \"background-color\",\r\n        initialValue: 'transparent',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.TYPE_VALUE,\r\n        format: 'color'\r\n    };\n\n    var parseColorStop = function (args) {\r\n        var color$1 = color.parse(args[0]);\r\n        var stop = args[1];\r\n        return stop && isLengthPercentage(stop) ? { color: color$1, stop: stop } : { color: color$1, stop: null };\r\n    };\r\n    var processColorStops = function (stops, lineLength) {\r\n        var first = stops[0];\r\n        var last = stops[stops.length - 1];\r\n        if (first.stop === null) {\r\n            first.stop = ZERO_LENGTH;\r\n        }\r\n        if (last.stop === null) {\r\n            last.stop = HUNDRED_PERCENT;\r\n        }\r\n        var processStops = [];\r\n        var previous = 0;\r\n        for (var i = 0; i < stops.length; i++) {\r\n            var stop_1 = stops[i].stop;\r\n            if (stop_1 !== null) {\r\n                var absoluteValue = getAbsoluteValue(stop_1, lineLength);\r\n                if (absoluteValue > previous) {\r\n                    processStops.push(absoluteValue);\r\n                }\r\n                else {\r\n                    processStops.push(previous);\r\n                }\r\n                previous = absoluteValue;\r\n            }\r\n            else {\r\n                processStops.push(null);\r\n            }\r\n        }\r\n        var gapBegin = null;\r\n        for (var i = 0; i < processStops.length; i++) {\r\n            var stop_2 = processStops[i];\r\n            if (stop_2 === null) {\r\n                if (gapBegin === null) {\r\n                    gapBegin = i;\r\n                }\r\n            }\r\n            else if (gapBegin !== null) {\r\n                var gapLength = i - gapBegin;\r\n                var beforeGap = processStops[gapBegin - 1];\r\n                var gapValue = (stop_2 - beforeGap) / (gapLength + 1);\r\n                for (var g = 1; g <= gapLength; g++) {\r\n                    processStops[gapBegin + g - 1] = gapValue * g;\r\n                }\r\n                gapBegin = null;\r\n            }\r\n        }\r\n        return stops.map(function (_a, i) {\r\n            var color = _a.color;\r\n            return { color: color, stop: Math.max(Math.min(1, processStops[i] / lineLength), 0) };\r\n        });\r\n    };\r\n    var getAngleFromCorner = function (corner, width, height) {\r\n        var centerX = width / 2;\r\n        var centerY = height / 2;\r\n        var x = getAbsoluteValue(corner[0], width) - centerX;\r\n        var y = centerY - getAbsoluteValue(corner[1], height);\r\n        return (Math.atan2(y, x) + Math.PI * 2) % (Math.PI * 2);\r\n    };\r\n    var calculateGradientDirection = function (angle, width, height) {\r\n        var radian = typeof angle === 'number' ? angle : getAngleFromCorner(angle, width, height);\r\n        var lineLength = Math.abs(width * Math.sin(radian)) + Math.abs(height * Math.cos(radian));\r\n        var halfWidth = width / 2;\r\n        var halfHeight = height / 2;\r\n        var halfLineLength = lineLength / 2;\r\n        var yDiff = Math.sin(radian - Math.PI / 2) * halfLineLength;\r\n        var xDiff = Math.cos(radian - Math.PI / 2) * halfLineLength;\r\n        return [lineLength, halfWidth - xDiff, halfWidth + xDiff, halfHeight - yDiff, halfHeight + yDiff];\r\n    };\r\n    var distance = function (a, b) { return Math.sqrt(a * a + b * b); };\r\n    var findCorner = function (width, height, x, y, closest) {\r\n        var corners = [[0, 0], [0, height], [width, 0], [width, height]];\r\n        return corners.reduce(function (stat, corner) {\r\n            var cx = corner[0], cy = corner[1];\r\n            var d = distance(x - cx, y - cy);\r\n            if (closest ? d < stat.optimumDistance : d > stat.optimumDistance) {\r\n                return {\r\n                    optimumCorner: corner,\r\n                    optimumDistance: d\r\n                };\r\n            }\r\n            return stat;\r\n        }, {\r\n            optimumDistance: closest ? Infinity : -Infinity,\r\n            optimumCorner: null\r\n        }).optimumCorner;\r\n    };\r\n    var calculateRadius = function (gradient, x, y, width, height) {\r\n        var rx = 0;\r\n        var ry = 0;\r\n        switch (gradient.size) {\r\n            case CSSRadialExtent.CLOSEST_SIDE:\r\n                // The ending shape is sized so that that it exactly meets the side of the gradient box closest to the gradient’s center.\r\n                // If the shape is an ellipse, it exactly meets the closest side in each dimension.\r\n                if (gradient.shape === CSSRadialShape.CIRCLE) {\r\n                    rx = ry = Math.min(Math.abs(x), Math.abs(x - width), Math.abs(y), Math.abs(y - height));\r\n                }\r\n                else if (gradient.shape === CSSRadialShape.ELLIPSE) {\r\n                    rx = Math.min(Math.abs(x), Math.abs(x - width));\r\n                    ry = Math.min(Math.abs(y), Math.abs(y - height));\r\n                }\r\n                break;\r\n            case CSSRadialExtent.CLOSEST_CORNER:\r\n                // The ending shape is sized so that that it passes through the corner of the gradient box closest to the gradient’s center.\r\n                // If the shape is an ellipse, the ending shape is given the same aspect-ratio it would have if closest-side were specified.\r\n                if (gradient.shape === CSSRadialShape.CIRCLE) {\r\n                    rx = ry = Math.min(distance(x, y), distance(x, y - height), distance(x - width, y), distance(x - width, y - height));\r\n                }\r\n                else if (gradient.shape === CSSRadialShape.ELLIPSE) {\r\n                    // Compute the ratio ry/rx (which is to be the same as for \"closest-side\")\r\n                    var c = Math.min(Math.abs(y), Math.abs(y - height)) / Math.min(Math.abs(x), Math.abs(x - width));\r\n                    var _a = findCorner(width, height, x, y, true), cx = _a[0], cy = _a[1];\r\n                    rx = distance(cx - x, (cy - y) / c);\r\n                    ry = c * rx;\r\n                }\r\n                break;\r\n            case CSSRadialExtent.FARTHEST_SIDE:\r\n                // Same as closest-side, except the ending shape is sized based on the farthest side(s)\r\n                if (gradient.shape === CSSRadialShape.CIRCLE) {\r\n                    rx = ry = Math.max(Math.abs(x), Math.abs(x - width), Math.abs(y), Math.abs(y - height));\r\n                }\r\n                else if (gradient.shape === CSSRadialShape.ELLIPSE) {\r\n                    rx = Math.max(Math.abs(x), Math.abs(x - width));\r\n                    ry = Math.max(Math.abs(y), Math.abs(y - height));\r\n                }\r\n                break;\r\n            case CSSRadialExtent.FARTHEST_CORNER:\r\n                // Same as closest-corner, except the ending shape is sized based on the farthest corner.\r\n                // If the shape is an ellipse, the ending shape is given the same aspect ratio it would have if farthest-side were specified.\r\n                if (gradient.shape === CSSRadialShape.CIRCLE) {\r\n                    rx = ry = Math.max(distance(x, y), distance(x, y - height), distance(x - width, y), distance(x - width, y - height));\r\n                }\r\n                else if (gradient.shape === CSSRadialShape.ELLIPSE) {\r\n                    // Compute the ratio ry/rx (which is to be the same as for \"farthest-side\")\r\n                    var c = Math.max(Math.abs(y), Math.abs(y - height)) / Math.max(Math.abs(x), Math.abs(x - width));\r\n                    var _b = findCorner(width, height, x, y, false), cx = _b[0], cy = _b[1];\r\n                    rx = distance(cx - x, (cy - y) / c);\r\n                    ry = c * rx;\r\n                }\r\n                break;\r\n        }\r\n        if (Array.isArray(gradient.size)) {\r\n            rx = getAbsoluteValue(gradient.size[0], width);\r\n            ry = gradient.size.length === 2 ? getAbsoluteValue(gradient.size[1], height) : rx;\r\n        }\r\n        return [rx, ry];\r\n    };\n\n    var linearGradient = function (tokens) {\r\n        var angle$1 = deg(180);\r\n        var stops = [];\r\n        parseFunctionArgs(tokens).forEach(function (arg, i) {\r\n            if (i === 0) {\r\n                var firstToken = arg[0];\r\n                if (firstToken.type === TokenType.IDENT_TOKEN && firstToken.value === 'to') {\r\n                    angle$1 = parseNamedSide(arg);\r\n                    return;\r\n                }\r\n                else if (isAngle(firstToken)) {\r\n                    angle$1 = angle.parse(firstToken);\r\n                    return;\r\n                }\r\n            }\r\n            var colorStop = parseColorStop(arg);\r\n            stops.push(colorStop);\r\n        });\r\n        return { angle: angle$1, stops: stops, type: CSSImageType.LINEAR_GRADIENT };\r\n    };\n\n    var prefixLinearGradient = function (tokens) {\r\n        var angle$1 = deg(180);\r\n        var stops = [];\r\n        parseFunctionArgs(tokens).forEach(function (arg, i) {\r\n            if (i === 0) {\r\n                var firstToken = arg[0];\r\n                if (firstToken.type === TokenType.IDENT_TOKEN &&\r\n                    ['top', 'left', 'right', 'bottom'].indexOf(firstToken.value) !== -1) {\r\n                    angle$1 = parseNamedSide(arg);\r\n                    return;\r\n                }\r\n                else if (isAngle(firstToken)) {\r\n                    angle$1 = (angle.parse(firstToken) + deg(270)) % deg(360);\r\n                    return;\r\n                }\r\n            }\r\n            var colorStop = parseColorStop(arg);\r\n            stops.push(colorStop);\r\n        });\r\n        return {\r\n            angle: angle$1,\r\n            stops: stops,\r\n            type: CSSImageType.LINEAR_GRADIENT\r\n        };\r\n    };\n\n    var testRangeBounds = function (document) {\r\n        var TEST_HEIGHT = 123;\r\n        if (document.createRange) {\r\n            var range = document.createRange();\r\n            if (range.getBoundingClientRect) {\r\n                var testElement = document.createElement('boundtest');\r\n                testElement.style.height = TEST_HEIGHT + \"px\";\r\n                testElement.style.display = 'block';\r\n                document.body.appendChild(testElement);\r\n                range.selectNode(testElement);\r\n                var rangeBounds = range.getBoundingClientRect();\r\n                var rangeHeight = Math.round(rangeBounds.height);\r\n                document.body.removeChild(testElement);\r\n                if (rangeHeight === TEST_HEIGHT) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    var testCORS = function () { return typeof new Image().crossOrigin !== 'undefined'; };\r\n    var testResponseType = function () { return typeof new XMLHttpRequest().responseType === 'string'; };\r\n    var testSVG = function (document) {\r\n        var img = new Image();\r\n        var canvas = document.createElement('canvas');\r\n        var ctx = canvas.getContext('2d');\r\n        if (!ctx) {\r\n            return false;\r\n        }\r\n        img.src = \"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>\";\r\n        try {\r\n            ctx.drawImage(img, 0, 0);\r\n            canvas.toDataURL();\r\n        }\r\n        catch (e) {\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n    var isGreenPixel = function (data) {\r\n        return data[0] === 0 && data[1] === 255 && data[2] === 0 && data[3] === 255;\r\n    };\r\n    var testForeignObject = function (document) {\r\n        var canvas = document.createElement('canvas');\r\n        var size = 100;\r\n        canvas.width = size;\r\n        canvas.height = size;\r\n        var ctx = canvas.getContext('2d');\r\n        if (!ctx) {\r\n            return Promise.reject(false);\r\n        }\r\n        ctx.fillStyle = 'rgb(0, 255, 0)';\r\n        ctx.fillRect(0, 0, size, size);\r\n        var img = new Image();\r\n        var greenImageSrc = canvas.toDataURL();\r\n        img.src = greenImageSrc;\r\n        var svg = createForeignObjectSVG(size, size, 0, 0, img);\r\n        ctx.fillStyle = 'red';\r\n        ctx.fillRect(0, 0, size, size);\r\n        return loadSerializedSVG(svg)\r\n            .then(function (img) {\r\n            ctx.drawImage(img, 0, 0);\r\n            var data = ctx.getImageData(0, 0, size, size).data;\r\n            ctx.fillStyle = 'red';\r\n            ctx.fillRect(0, 0, size, size);\r\n            var node = document.createElement('div');\r\n            node.style.backgroundImage = \"url(\" + greenImageSrc + \")\";\r\n            node.style.height = size + \"px\";\r\n            // Firefox 55 does not render inline <img /> tags\r\n            return isGreenPixel(data)\r\n                ? loadSerializedSVG(createForeignObjectSVG(size, size, 0, 0, node))\r\n                : Promise.reject(false);\r\n        })\r\n            .then(function (img) {\r\n            ctx.drawImage(img, 0, 0);\r\n            // Edge does not render background-images\r\n            return isGreenPixel(ctx.getImageData(0, 0, size, size).data);\r\n        })\r\n            .catch(function () { return false; });\r\n    };\r\n    var createForeignObjectSVG = function (width, height, x, y, node) {\r\n        var xmlns = 'http://www.w3.org/2000/svg';\r\n        var svg = document.createElementNS(xmlns, 'svg');\r\n        var foreignObject = document.createElementNS(xmlns, 'foreignObject');\r\n        svg.setAttributeNS(null, 'width', width.toString());\r\n        svg.setAttributeNS(null, 'height', height.toString());\r\n        foreignObject.setAttributeNS(null, 'width', '100%');\r\n        foreignObject.setAttributeNS(null, 'height', '100%');\r\n        foreignObject.setAttributeNS(null, 'x', x.toString());\r\n        foreignObject.setAttributeNS(null, 'y', y.toString());\r\n        foreignObject.setAttributeNS(null, 'externalResourcesRequired', 'true');\r\n        svg.appendChild(foreignObject);\r\n        foreignObject.appendChild(node);\r\n        return svg;\r\n    };\r\n    var loadSerializedSVG = function (svg) {\r\n        return new Promise(function (resolve, reject) {\r\n            var img = new Image();\r\n            img.onload = function () { return resolve(img); };\r\n            img.onerror = reject;\r\n            img.src = \"data:image/svg+xml;charset=utf-8,\" + encodeURIComponent(new XMLSerializer().serializeToString(svg));\r\n        });\r\n    };\r\n    var FEATURES = {\r\n        get SUPPORT_RANGE_BOUNDS() {\r\n            var value = testRangeBounds(document);\r\n            Object.defineProperty(FEATURES, 'SUPPORT_RANGE_BOUNDS', { value: value });\r\n            return value;\r\n        },\r\n        get SUPPORT_SVG_DRAWING() {\r\n            var value = testSVG(document);\r\n            Object.defineProperty(FEATURES, 'SUPPORT_SVG_DRAWING', { value: value });\r\n            return value;\r\n        },\r\n        get SUPPORT_FOREIGNOBJECT_DRAWING() {\r\n            var value = typeof Array.from === 'function' && typeof window.fetch === 'function'\r\n                ? testForeignObject(document)\r\n                : Promise.resolve(false);\r\n            Object.defineProperty(FEATURES, 'SUPPORT_FOREIGNOBJECT_DRAWING', { value: value });\r\n            return value;\r\n        },\r\n        get SUPPORT_CORS_IMAGES() {\r\n            var value = testCORS();\r\n            Object.defineProperty(FEATURES, 'SUPPORT_CORS_IMAGES', { value: value });\r\n            return value;\r\n        },\r\n        get SUPPORT_RESPONSE_TYPE() {\r\n            var value = testResponseType();\r\n            Object.defineProperty(FEATURES, 'SUPPORT_RESPONSE_TYPE', { value: value });\r\n            return value;\r\n        },\r\n        get SUPPORT_CORS_XHR() {\r\n            var value = 'withCredentials' in new XMLHttpRequest();\r\n            Object.defineProperty(FEATURES, 'SUPPORT_CORS_XHR', { value: value });\r\n            return value;\r\n        }\r\n    };\n\n    var Logger = /** @class */ (function () {\r\n        function Logger(_a) {\r\n            var id = _a.id, enabled = _a.enabled;\r\n            this.id = id;\r\n            this.enabled = enabled;\r\n            this.start = Date.now();\r\n        }\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        Logger.prototype.debug = function () {\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            if (this.enabled) {\r\n                // eslint-disable-next-line no-console\r\n                if (typeof window !== 'undefined' && window.console && typeof console.debug === 'function') {\r\n                    // eslint-disable-next-line no-console\r\n                    console.debug.apply(console, [this.id, this.getTime() + \"ms\"].concat(args));\r\n                }\r\n                else {\r\n                    this.info.apply(this, args);\r\n                }\r\n            }\r\n        };\r\n        Logger.prototype.getTime = function () {\r\n            return Date.now() - this.start;\r\n        };\r\n        Logger.create = function (options) {\r\n            Logger.instances[options.id] = new Logger(options);\r\n        };\r\n        Logger.destroy = function (id) {\r\n            delete Logger.instances[id];\r\n        };\r\n        Logger.getInstance = function (id) {\r\n            var instance = Logger.instances[id];\r\n            if (typeof instance === 'undefined') {\r\n                throw new Error(\"No logger instance found with id \" + id);\r\n            }\r\n            return instance;\r\n        };\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        Logger.prototype.info = function () {\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            if (this.enabled) {\r\n                // eslint-disable-next-line no-console\r\n                if (typeof window !== 'undefined' && window.console && typeof console.info === 'function') {\r\n                    // eslint-disable-next-line no-console\r\n                    console.info.apply(console, [this.id, this.getTime() + \"ms\"].concat(args));\r\n                }\r\n            }\r\n        };\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        Logger.prototype.error = function () {\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            if (this.enabled) {\r\n                // eslint-disable-next-line no-console\r\n                if (typeof window !== 'undefined' && window.console && typeof console.error === 'function') {\r\n                    // eslint-disable-next-line no-console\r\n                    console.error.apply(console, [this.id, this.getTime() + \"ms\"].concat(args));\r\n                }\r\n                else {\r\n                    this.info.apply(this, args);\r\n                }\r\n            }\r\n        };\r\n        Logger.instances = {};\r\n        return Logger;\r\n    }());\n\n    var CacheStorage = /** @class */ (function () {\r\n        function CacheStorage() {\r\n        }\r\n        CacheStorage.create = function (name, options) {\r\n            return (CacheStorage._caches[name] = new Cache(name, options));\r\n        };\r\n        CacheStorage.destroy = function (name) {\r\n            delete CacheStorage._caches[name];\r\n        };\r\n        CacheStorage.open = function (name) {\r\n            var cache = CacheStorage._caches[name];\r\n            if (typeof cache !== 'undefined') {\r\n                return cache;\r\n            }\r\n            throw new Error(\"Cache with key \\\"\" + name + \"\\\" not found\");\r\n        };\r\n        CacheStorage.getOrigin = function (url) {\r\n            var link = CacheStorage._link;\r\n            if (!link) {\r\n                return 'about:blank';\r\n            }\r\n            link.href = url;\r\n            link.href = link.href; // IE9, LOL! - http://jsfiddle.net/niklasvh/2e48b/\r\n            return link.protocol + link.hostname + link.port;\r\n        };\r\n        CacheStorage.isSameOrigin = function (src) {\r\n            return CacheStorage.getOrigin(src) === CacheStorage._origin;\r\n        };\r\n        CacheStorage.setContext = function (window) {\r\n            CacheStorage._link = window.document.createElement('a');\r\n            CacheStorage._origin = CacheStorage.getOrigin(window.location.href);\r\n        };\r\n        CacheStorage.getInstance = function () {\r\n            var current = CacheStorage._current;\r\n            if (current === null) {\r\n                throw new Error(\"No cache instance attached\");\r\n            }\r\n            return current;\r\n        };\r\n        CacheStorage.attachInstance = function (cache) {\r\n            CacheStorage._current = cache;\r\n        };\r\n        CacheStorage.detachInstance = function () {\r\n            CacheStorage._current = null;\r\n        };\r\n        CacheStorage._caches = {};\r\n        CacheStorage._origin = 'about:blank';\r\n        CacheStorage._current = null;\r\n        return CacheStorage;\r\n    }());\r\n    var Cache = /** @class */ (function () {\r\n        function Cache(id, options) {\r\n            this.id = id;\r\n            this._options = options;\r\n            this._cache = {};\r\n        }\r\n        Cache.prototype.addImage = function (src) {\r\n            var result = Promise.resolve();\r\n            if (this.has(src)) {\r\n                return result;\r\n            }\r\n            if (isBlobImage(src) || isRenderable(src)) {\r\n                this._cache[src] = this.loadImage(src);\r\n                return result;\r\n            }\r\n            return result;\r\n        };\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        Cache.prototype.match = function (src) {\r\n            return this._cache[src];\r\n        };\r\n        Cache.prototype.loadImage = function (key) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var isSameOrigin, useCORS, useProxy, src;\r\n                var _this = this;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            isSameOrigin = CacheStorage.isSameOrigin(key);\r\n                            useCORS = !isInlineImage(key) && this._options.useCORS === true && FEATURES.SUPPORT_CORS_IMAGES && !isSameOrigin;\r\n                            useProxy = !isInlineImage(key) &&\r\n                                !isSameOrigin &&\r\n                                typeof this._options.proxy === 'string' &&\r\n                                FEATURES.SUPPORT_CORS_XHR &&\r\n                                !useCORS;\r\n                            if (!isSameOrigin && this._options.allowTaint === false && !isInlineImage(key) && !useProxy && !useCORS) {\r\n                                return [2 /*return*/];\r\n                            }\r\n                            src = key;\r\n                            if (!useProxy) return [3 /*break*/, 2];\r\n                            return [4 /*yield*/, this.proxy(src)];\r\n                        case 1:\r\n                            src = _a.sent();\r\n                            _a.label = 2;\r\n                        case 2:\r\n                            Logger.getInstance(this.id).debug(\"Added image \" + key.substring(0, 256));\r\n                            return [4 /*yield*/, new Promise(function (resolve, reject) {\r\n                                    var img = new Image();\r\n                                    img.onload = function () { return resolve(img); };\r\n                                    img.onerror = reject;\r\n                                    //ios safari 10.3 taints canvas with data urls unless crossOrigin is set to anonymous\r\n                                    if (isInlineBase64Image(src) || useCORS) {\r\n                                        img.crossOrigin = 'anonymous';\r\n                                    }\r\n                                    img.src = src;\r\n                                    if (img.complete === true) {\r\n                                        // Inline XML images may fail to parse, throwing an Error later on\r\n                                        setTimeout(function () { return resolve(img); }, 500);\r\n                                    }\r\n                                    if (_this._options.imageTimeout > 0) {\r\n                                        setTimeout(function () { return reject(\"Timed out (\" + _this._options.imageTimeout + \"ms) loading image\"); }, _this._options.imageTimeout);\r\n                                    }\r\n                                })];\r\n                        case 3: return [2 /*return*/, _a.sent()];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        Cache.prototype.has = function (key) {\r\n            return typeof this._cache[key] !== 'undefined';\r\n        };\r\n        Cache.prototype.keys = function () {\r\n            return Promise.resolve(Object.keys(this._cache));\r\n        };\r\n        Cache.prototype.proxy = function (src) {\r\n            var _this = this;\r\n            var proxy = this._options.proxy;\r\n            if (!proxy) {\r\n                throw new Error('No proxy defined');\r\n            }\r\n            var key = src.substring(0, 256);\r\n            return new Promise(function (resolve, reject) {\r\n                var responseType = FEATURES.SUPPORT_RESPONSE_TYPE ? 'blob' : 'text';\r\n                var xhr = new XMLHttpRequest();\r\n                xhr.onload = function () {\r\n                    if (xhr.status === 200) {\r\n                        if (responseType === 'text') {\r\n                            resolve(xhr.response);\r\n                        }\r\n                        else {\r\n                            var reader_1 = new FileReader();\r\n                            reader_1.addEventListener('load', function () { return resolve(reader_1.result); }, false);\r\n                            reader_1.addEventListener('error', function (e) { return reject(e); }, false);\r\n                            reader_1.readAsDataURL(xhr.response);\r\n                        }\r\n                    }\r\n                    else {\r\n                        reject(\"Failed to proxy resource \" + key + \" with status code \" + xhr.status);\r\n                    }\r\n                };\r\n                xhr.onerror = reject;\r\n                xhr.open('GET', proxy + \"?url=\" + encodeURIComponent(src) + \"&responseType=\" + responseType);\r\n                if (responseType !== 'text' && xhr instanceof XMLHttpRequest) {\r\n                    xhr.responseType = responseType;\r\n                }\r\n                if (_this._options.imageTimeout) {\r\n                    var timeout_1 = _this._options.imageTimeout;\r\n                    xhr.timeout = timeout_1;\r\n                    xhr.ontimeout = function () { return reject(\"Timed out (\" + timeout_1 + \"ms) proxying \" + key); };\r\n                }\r\n                xhr.send();\r\n            });\r\n        };\r\n        return Cache;\r\n    }());\r\n    var INLINE_SVG = /^data:image\\/svg\\+xml/i;\r\n    var INLINE_BASE64 = /^data:image\\/.*;base64,/i;\r\n    var INLINE_IMG = /^data:image\\/.*/i;\r\n    var isRenderable = function (src) { return FEATURES.SUPPORT_SVG_DRAWING || !isSVG(src); };\r\n    var isInlineImage = function (src) { return INLINE_IMG.test(src); };\r\n    var isInlineBase64Image = function (src) { return INLINE_BASE64.test(src); };\r\n    var isBlobImage = function (src) { return src.substr(0, 4) === 'blob'; };\r\n    var isSVG = function (src) { return src.substr(-3).toLowerCase() === 'svg' || INLINE_SVG.test(src); };\n\n    var webkitGradient = function (tokens) {\r\n        var angle = deg(180);\r\n        var stops = [];\r\n        var type = CSSImageType.LINEAR_GRADIENT;\r\n        var shape = CSSRadialShape.CIRCLE;\r\n        var size = CSSRadialExtent.FARTHEST_CORNER;\r\n        var position = [];\r\n        parseFunctionArgs(tokens).forEach(function (arg, i) {\r\n            var firstToken = arg[0];\r\n            if (i === 0) {\r\n                if (isIdentToken(firstToken) && firstToken.value === 'linear') {\r\n                    type = CSSImageType.LINEAR_GRADIENT;\r\n                    return;\r\n                }\r\n                else if (isIdentToken(firstToken) && firstToken.value === 'radial') {\r\n                    type = CSSImageType.RADIAL_GRADIENT;\r\n                    return;\r\n                }\r\n            }\r\n            if (firstToken.type === TokenType.FUNCTION) {\r\n                if (firstToken.name === 'from') {\r\n                    var color$1 = color.parse(firstToken.values[0]);\r\n                    stops.push({ stop: ZERO_LENGTH, color: color$1 });\r\n                }\r\n                else if (firstToken.name === 'to') {\r\n                    var color$1 = color.parse(firstToken.values[0]);\r\n                    stops.push({ stop: HUNDRED_PERCENT, color: color$1 });\r\n                }\r\n                else if (firstToken.name === 'color-stop') {\r\n                    var values = firstToken.values.filter(nonFunctionArgSeparator);\r\n                    if (values.length === 2) {\r\n                        var color$1 = color.parse(values[1]);\r\n                        var stop_1 = values[0];\r\n                        if (isNumberToken(stop_1)) {\r\n                            stops.push({\r\n                                stop: { type: TokenType.PERCENTAGE_TOKEN, number: stop_1.number * 100, flags: stop_1.flags },\r\n                                color: color$1\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        return type === CSSImageType.LINEAR_GRADIENT\r\n            ? {\r\n                angle: (angle + deg(180)) % deg(360),\r\n                stops: stops,\r\n                type: type\r\n            }\r\n            : { size: size, shape: shape, stops: stops, position: position, type: type };\r\n    };\n\n    var CLOSEST_SIDE = 'closest-side';\r\n    var FARTHEST_SIDE = 'farthest-side';\r\n    var CLOSEST_CORNER = 'closest-corner';\r\n    var FARTHEST_CORNER = 'farthest-corner';\r\n    var CIRCLE = 'circle';\r\n    var ELLIPSE = 'ellipse';\r\n    var COVER = 'cover';\r\n    var CONTAIN = 'contain';\r\n    var radialGradient = function (tokens) {\r\n        var shape = CSSRadialShape.CIRCLE;\r\n        var size = CSSRadialExtent.FARTHEST_CORNER;\r\n        var stops = [];\r\n        var position = [];\r\n        parseFunctionArgs(tokens).forEach(function (arg, i) {\r\n            var isColorStop = true;\r\n            if (i === 0) {\r\n                var isAtPosition_1 = false;\r\n                isColorStop = arg.reduce(function (acc, token) {\r\n                    if (isAtPosition_1) {\r\n                        if (isIdentToken(token)) {\r\n                            switch (token.value) {\r\n                                case 'center':\r\n                                    position.push(FIFTY_PERCENT);\r\n                                    return acc;\r\n                                case 'top':\r\n                                case 'left':\r\n                                    position.push(ZERO_LENGTH);\r\n                                    return acc;\r\n                                case 'right':\r\n                                case 'bottom':\r\n                                    position.push(HUNDRED_PERCENT);\r\n                                    return acc;\r\n                            }\r\n                        }\r\n                        else if (isLengthPercentage(token) || isLength(token)) {\r\n                            position.push(token);\r\n                        }\r\n                    }\r\n                    else if (isIdentToken(token)) {\r\n                        switch (token.value) {\r\n                            case CIRCLE:\r\n                                shape = CSSRadialShape.CIRCLE;\r\n                                return false;\r\n                            case ELLIPSE:\r\n                                shape = CSSRadialShape.ELLIPSE;\r\n                                return false;\r\n                            case 'at':\r\n                                isAtPosition_1 = true;\r\n                                return false;\r\n                            case CLOSEST_SIDE:\r\n                                size = CSSRadialExtent.CLOSEST_SIDE;\r\n                                return false;\r\n                            case COVER:\r\n                            case FARTHEST_SIDE:\r\n                                size = CSSRadialExtent.FARTHEST_SIDE;\r\n                                return false;\r\n                            case CONTAIN:\r\n                            case CLOSEST_CORNER:\r\n                                size = CSSRadialExtent.CLOSEST_CORNER;\r\n                                return false;\r\n                            case FARTHEST_CORNER:\r\n                                size = CSSRadialExtent.FARTHEST_CORNER;\r\n                                return false;\r\n                        }\r\n                    }\r\n                    else if (isLength(token) || isLengthPercentage(token)) {\r\n                        if (!Array.isArray(size)) {\r\n                            size = [];\r\n                        }\r\n                        size.push(token);\r\n                        return false;\r\n                    }\r\n                    return acc;\r\n                }, isColorStop);\r\n            }\r\n            if (isColorStop) {\r\n                var colorStop = parseColorStop(arg);\r\n                stops.push(colorStop);\r\n            }\r\n        });\r\n        return { size: size, shape: shape, stops: stops, position: position, type: CSSImageType.RADIAL_GRADIENT };\r\n    };\n\n    var prefixRadialGradient = function (tokens) {\r\n        var shape = CSSRadialShape.CIRCLE;\r\n        var size = CSSRadialExtent.FARTHEST_CORNER;\r\n        var stops = [];\r\n        var position = [];\r\n        parseFunctionArgs(tokens).forEach(function (arg, i) {\r\n            var isColorStop = true;\r\n            if (i === 0) {\r\n                isColorStop = arg.reduce(function (acc, token) {\r\n                    if (isIdentToken(token)) {\r\n                        switch (token.value) {\r\n                            case 'center':\r\n                                position.push(FIFTY_PERCENT);\r\n                                return false;\r\n                            case 'top':\r\n                            case 'left':\r\n                                position.push(ZERO_LENGTH);\r\n                                return false;\r\n                            case 'right':\r\n                            case 'bottom':\r\n                                position.push(HUNDRED_PERCENT);\r\n                                return false;\r\n                        }\r\n                    }\r\n                    else if (isLengthPercentage(token) || isLength(token)) {\r\n                        position.push(token);\r\n                        return false;\r\n                    }\r\n                    return acc;\r\n                }, isColorStop);\r\n            }\r\n            else if (i === 1) {\r\n                isColorStop = arg.reduce(function (acc, token) {\r\n                    if (isIdentToken(token)) {\r\n                        switch (token.value) {\r\n                            case CIRCLE:\r\n                                shape = CSSRadialShape.CIRCLE;\r\n                                return false;\r\n                            case ELLIPSE:\r\n                                shape = CSSRadialShape.ELLIPSE;\r\n                                return false;\r\n                            case CONTAIN:\r\n                            case CLOSEST_SIDE:\r\n                                size = CSSRadialExtent.CLOSEST_SIDE;\r\n                                return false;\r\n                            case FARTHEST_SIDE:\r\n                                size = CSSRadialExtent.FARTHEST_SIDE;\r\n                                return false;\r\n                            case CLOSEST_CORNER:\r\n                                size = CSSRadialExtent.CLOSEST_CORNER;\r\n                                return false;\r\n                            case COVER:\r\n                            case FARTHEST_CORNER:\r\n                                size = CSSRadialExtent.FARTHEST_CORNER;\r\n                                return false;\r\n                        }\r\n                    }\r\n                    else if (isLength(token) || isLengthPercentage(token)) {\r\n                        if (!Array.isArray(size)) {\r\n                            size = [];\r\n                        }\r\n                        size.push(token);\r\n                        return false;\r\n                    }\r\n                    return acc;\r\n                }, isColorStop);\r\n            }\r\n            if (isColorStop) {\r\n                var colorStop = parseColorStop(arg);\r\n                stops.push(colorStop);\r\n            }\r\n        });\r\n        return { size: size, shape: shape, stops: stops, position: position, type: CSSImageType.RADIAL_GRADIENT };\r\n    };\n\n    var CSSImageType;\r\n    (function (CSSImageType) {\r\n        CSSImageType[CSSImageType[\"URL\"] = 0] = \"URL\";\r\n        CSSImageType[CSSImageType[\"LINEAR_GRADIENT\"] = 1] = \"LINEAR_GRADIENT\";\r\n        CSSImageType[CSSImageType[\"RADIAL_GRADIENT\"] = 2] = \"RADIAL_GRADIENT\";\r\n    })(CSSImageType || (CSSImageType = {}));\r\n    var isLinearGradient = function (background) {\r\n        return background.type === CSSImageType.LINEAR_GRADIENT;\r\n    };\r\n    var isRadialGradient = function (background) {\r\n        return background.type === CSSImageType.RADIAL_GRADIENT;\r\n    };\r\n    var CSSRadialShape;\r\n    (function (CSSRadialShape) {\r\n        CSSRadialShape[CSSRadialShape[\"CIRCLE\"] = 0] = \"CIRCLE\";\r\n        CSSRadialShape[CSSRadialShape[\"ELLIPSE\"] = 1] = \"ELLIPSE\";\r\n    })(CSSRadialShape || (CSSRadialShape = {}));\r\n    var CSSRadialExtent;\r\n    (function (CSSRadialExtent) {\r\n        CSSRadialExtent[CSSRadialExtent[\"CLOSEST_SIDE\"] = 0] = \"CLOSEST_SIDE\";\r\n        CSSRadialExtent[CSSRadialExtent[\"FARTHEST_SIDE\"] = 1] = \"FARTHEST_SIDE\";\r\n        CSSRadialExtent[CSSRadialExtent[\"CLOSEST_CORNER\"] = 2] = \"CLOSEST_CORNER\";\r\n        CSSRadialExtent[CSSRadialExtent[\"FARTHEST_CORNER\"] = 3] = \"FARTHEST_CORNER\";\r\n    })(CSSRadialExtent || (CSSRadialExtent = {}));\r\n    var image = {\r\n        name: 'image',\r\n        parse: function (value) {\r\n            if (value.type === TokenType.URL_TOKEN) {\r\n                var image_1 = { url: value.value, type: CSSImageType.URL };\r\n                CacheStorage.getInstance().addImage(value.value);\r\n                return image_1;\r\n            }\r\n            if (value.type === TokenType.FUNCTION) {\r\n                var imageFunction = SUPPORTED_IMAGE_FUNCTIONS[value.name];\r\n                if (typeof imageFunction === 'undefined') {\r\n                    throw new Error(\"Attempting to parse an unsupported image function \\\"\" + value.name + \"\\\"\");\r\n                }\r\n                return imageFunction(value.values);\r\n            }\r\n            throw new Error(\"Unsupported image type\");\r\n        }\r\n    };\r\n    function isSupportedImage(value) {\r\n        return value.type !== TokenType.FUNCTION || SUPPORTED_IMAGE_FUNCTIONS[value.name];\r\n    }\r\n    var SUPPORTED_IMAGE_FUNCTIONS = {\r\n        'linear-gradient': linearGradient,\r\n        '-moz-linear-gradient': prefixLinearGradient,\r\n        '-ms-linear-gradient': prefixLinearGradient,\r\n        '-o-linear-gradient': prefixLinearGradient,\r\n        '-webkit-linear-gradient': prefixLinearGradient,\r\n        'radial-gradient': radialGradient,\r\n        '-moz-radial-gradient': prefixRadialGradient,\r\n        '-ms-radial-gradient': prefixRadialGradient,\r\n        '-o-radial-gradient': prefixRadialGradient,\r\n        '-webkit-radial-gradient': prefixRadialGradient,\r\n        '-webkit-gradient': webkitGradient\r\n    };\n\n    var backgroundImage = {\r\n        name: 'background-image',\r\n        initialValue: 'none',\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        prefix: false,\r\n        parse: function (tokens) {\r\n            if (tokens.length === 0) {\r\n                return [];\r\n            }\r\n            var first = tokens[0];\r\n            if (first.type === TokenType.IDENT_TOKEN && first.value === 'none') {\r\n                return [];\r\n            }\r\n            return tokens.filter(function (value) { return nonFunctionArgSeparator(value) && isSupportedImage(value); }).map(image.parse);\r\n        }\r\n    };\n\n    var backgroundOrigin = {\r\n        name: 'background-origin',\r\n        initialValue: 'border-box',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        parse: function (tokens) {\r\n            return tokens.map(function (token) {\r\n                if (isIdentToken(token)) {\r\n                    switch (token.value) {\r\n                        case 'padding-box':\r\n                            return 1 /* PADDING_BOX */;\r\n                        case 'content-box':\r\n                            return 2 /* CONTENT_BOX */;\r\n                    }\r\n                }\r\n                return 0 /* BORDER_BOX */;\r\n            });\r\n        }\r\n    };\n\n    var backgroundPosition = {\r\n        name: 'background-position',\r\n        initialValue: '0% 0%',\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        prefix: false,\r\n        parse: function (tokens) {\r\n            return parseFunctionArgs(tokens)\r\n                .map(function (values) { return values.filter(isLengthPercentage); })\r\n                .map(parseLengthPercentageTuple);\r\n        }\r\n    };\n\n    var BACKGROUND_REPEAT;\r\n    (function (BACKGROUND_REPEAT) {\r\n        BACKGROUND_REPEAT[BACKGROUND_REPEAT[\"REPEAT\"] = 0] = \"REPEAT\";\r\n        BACKGROUND_REPEAT[BACKGROUND_REPEAT[\"NO_REPEAT\"] = 1] = \"NO_REPEAT\";\r\n        BACKGROUND_REPEAT[BACKGROUND_REPEAT[\"REPEAT_X\"] = 2] = \"REPEAT_X\";\r\n        BACKGROUND_REPEAT[BACKGROUND_REPEAT[\"REPEAT_Y\"] = 3] = \"REPEAT_Y\";\r\n    })(BACKGROUND_REPEAT || (BACKGROUND_REPEAT = {}));\r\n    var backgroundRepeat = {\r\n        name: 'background-repeat',\r\n        initialValue: 'repeat',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        parse: function (tokens) {\r\n            return parseFunctionArgs(tokens)\r\n                .map(function (values) {\r\n                return values\r\n                    .filter(isIdentToken)\r\n                    .map(function (token) { return token.value; })\r\n                    .join(' ');\r\n            })\r\n                .map(parseBackgroundRepeat);\r\n        }\r\n    };\r\n    var parseBackgroundRepeat = function (value) {\r\n        switch (value) {\r\n            case 'no-repeat':\r\n                return BACKGROUND_REPEAT.NO_REPEAT;\r\n            case 'repeat-x':\r\n            case 'repeat no-repeat':\r\n                return BACKGROUND_REPEAT.REPEAT_X;\r\n            case 'repeat-y':\r\n            case 'no-repeat repeat':\r\n                return BACKGROUND_REPEAT.REPEAT_Y;\r\n            case 'repeat':\r\n            default:\r\n                return BACKGROUND_REPEAT.REPEAT;\r\n        }\r\n    };\n\n    var BACKGROUND_SIZE;\r\n    (function (BACKGROUND_SIZE) {\r\n        BACKGROUND_SIZE[\"AUTO\"] = \"auto\";\r\n        BACKGROUND_SIZE[\"CONTAIN\"] = \"contain\";\r\n        BACKGROUND_SIZE[\"COVER\"] = \"cover\";\r\n    })(BACKGROUND_SIZE || (BACKGROUND_SIZE = {}));\r\n    var backgroundSize = {\r\n        name: 'background-size',\r\n        initialValue: '0',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        parse: function (tokens) {\r\n            return parseFunctionArgs(tokens).map(function (values) { return values.filter(isBackgroundSizeInfoToken); });\r\n        }\r\n    };\r\n    var isBackgroundSizeInfoToken = function (value) {\r\n        return isIdentToken(value) || isLengthPercentage(value);\r\n    };\n\n    var borderColorForSide = function (side) { return ({\r\n        name: \"border-\" + side + \"-color\",\r\n        initialValue: 'transparent',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.TYPE_VALUE,\r\n        format: 'color'\r\n    }); };\r\n    var borderTopColor = borderColorForSide('top');\r\n    var borderRightColor = borderColorForSide('right');\r\n    var borderBottomColor = borderColorForSide('bottom');\r\n    var borderLeftColor = borderColorForSide('left');\n\n    var borderRadiusForSide = function (side) { return ({\r\n        name: \"border-radius-\" + side,\r\n        initialValue: '0 0',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        parse: function (tokens) { return parseLengthPercentageTuple(tokens.filter(isLengthPercentage)); }\r\n    }); };\r\n    var borderTopLeftRadius = borderRadiusForSide('top-left');\r\n    var borderTopRightRadius = borderRadiusForSide('top-right');\r\n    var borderBottomRightRadius = borderRadiusForSide('bottom-right');\r\n    var borderBottomLeftRadius = borderRadiusForSide('bottom-left');\n\n    var BORDER_STYLE;\r\n    (function (BORDER_STYLE) {\r\n        BORDER_STYLE[BORDER_STYLE[\"NONE\"] = 0] = \"NONE\";\r\n        BORDER_STYLE[BORDER_STYLE[\"SOLID\"] = 1] = \"SOLID\";\r\n    })(BORDER_STYLE || (BORDER_STYLE = {}));\r\n    var borderStyleForSide = function (side) { return ({\r\n        name: \"border-\" + side + \"-style\",\r\n        initialValue: 'solid',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.IDENT_VALUE,\r\n        parse: function (style) {\r\n            switch (style) {\r\n                case 'none':\r\n                    return BORDER_STYLE.NONE;\r\n            }\r\n            return BORDER_STYLE.SOLID;\r\n        }\r\n    }); };\r\n    var borderTopStyle = borderStyleForSide('top');\r\n    var borderRightStyle = borderStyleForSide('right');\r\n    var borderBottomStyle = borderStyleForSide('bottom');\r\n    var borderLeftStyle = borderStyleForSide('left');\n\n    var borderWidthForSide = function (side) { return ({\r\n        name: \"border-\" + side + \"-width\",\r\n        initialValue: '0',\r\n        type: PropertyDescriptorParsingType.VALUE,\r\n        prefix: false,\r\n        parse: function (token) {\r\n            if (isDimensionToken(token)) {\r\n                return token.number;\r\n            }\r\n            return 0;\r\n        }\r\n    }); };\r\n    var borderTopWidth = borderWidthForSide('top');\r\n    var borderRightWidth = borderWidthForSide('right');\r\n    var borderBottomWidth = borderWidthForSide('bottom');\r\n    var borderLeftWidth = borderWidthForSide('left');\n\n    var color$1 = {\r\n        name: \"color\",\r\n        initialValue: 'transparent',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.TYPE_VALUE,\r\n        format: 'color'\r\n    };\n\n    var display = {\r\n        name: 'display',\r\n        initialValue: 'inline-block',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        parse: function (tokens) {\r\n            return tokens.filter(isIdentToken).reduce(function (bit, token) {\r\n                return bit | parseDisplayValue(token.value);\r\n            }, 0 /* NONE */);\r\n        }\r\n    };\r\n    var parseDisplayValue = function (display) {\r\n        switch (display) {\r\n            case 'block':\r\n                return 2 /* BLOCK */;\r\n            case 'inline':\r\n                return 4 /* INLINE */;\r\n            case 'run-in':\r\n                return 8 /* RUN_IN */;\r\n            case 'flow':\r\n                return 16 /* FLOW */;\r\n            case 'flow-root':\r\n                return 32 /* FLOW_ROOT */;\r\n            case 'table':\r\n                return 64 /* TABLE */;\r\n            case 'flex':\r\n            case '-webkit-flex':\r\n                return 128 /* FLEX */;\r\n            case 'grid':\r\n            case '-ms-grid':\r\n                return 256 /* GRID */;\r\n            case 'ruby':\r\n                return 512 /* RUBY */;\r\n            case 'subgrid':\r\n                return 1024 /* SUBGRID */;\r\n            case 'list-item':\r\n                return 2048 /* LIST_ITEM */;\r\n            case 'table-row-group':\r\n                return 4096 /* TABLE_ROW_GROUP */;\r\n            case 'table-header-group':\r\n                return 8192 /* TABLE_HEADER_GROUP */;\r\n            case 'table-footer-group':\r\n                return 16384 /* TABLE_FOOTER_GROUP */;\r\n            case 'table-row':\r\n                return 32768 /* TABLE_ROW */;\r\n            case 'table-cell':\r\n                return 65536 /* TABLE_CELL */;\r\n            case 'table-column-group':\r\n                return 131072 /* TABLE_COLUMN_GROUP */;\r\n            case 'table-column':\r\n                return 262144 /* TABLE_COLUMN */;\r\n            case 'table-caption':\r\n                return 524288 /* TABLE_CAPTION */;\r\n            case 'ruby-base':\r\n                return 1048576 /* RUBY_BASE */;\r\n            case 'ruby-text':\r\n                return 2097152 /* RUBY_TEXT */;\r\n            case 'ruby-base-container':\r\n                return 4194304 /* RUBY_BASE_CONTAINER */;\r\n            case 'ruby-text-container':\r\n                return 8388608 /* RUBY_TEXT_CONTAINER */;\r\n            case 'contents':\r\n                return 16777216 /* CONTENTS */;\r\n            case 'inline-block':\r\n                return 33554432 /* INLINE_BLOCK */;\r\n            case 'inline-list-item':\r\n                return 67108864 /* INLINE_LIST_ITEM */;\r\n            case 'inline-table':\r\n                return 134217728 /* INLINE_TABLE */;\r\n            case 'inline-flex':\r\n                return 268435456 /* INLINE_FLEX */;\r\n            case 'inline-grid':\r\n                return 536870912 /* INLINE_GRID */;\r\n        }\r\n        return 0 /* NONE */;\r\n    };\n\n    var FLOAT;\r\n    (function (FLOAT) {\r\n        FLOAT[FLOAT[\"NONE\"] = 0] = \"NONE\";\r\n        FLOAT[FLOAT[\"LEFT\"] = 1] = \"LEFT\";\r\n        FLOAT[FLOAT[\"RIGHT\"] = 2] = \"RIGHT\";\r\n        FLOAT[FLOAT[\"INLINE_START\"] = 3] = \"INLINE_START\";\r\n        FLOAT[FLOAT[\"INLINE_END\"] = 4] = \"INLINE_END\";\r\n    })(FLOAT || (FLOAT = {}));\r\n    var float = {\r\n        name: 'float',\r\n        initialValue: 'none',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.IDENT_VALUE,\r\n        parse: function (float) {\r\n            switch (float) {\r\n                case 'left':\r\n                    return FLOAT.LEFT;\r\n                case 'right':\r\n                    return FLOAT.RIGHT;\r\n                case 'inline-start':\r\n                    return FLOAT.INLINE_START;\r\n                case 'inline-end':\r\n                    return FLOAT.INLINE_END;\r\n            }\r\n            return FLOAT.NONE;\r\n        }\r\n    };\n\n    var letterSpacing = {\r\n        name: 'letter-spacing',\r\n        initialValue: '0',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.VALUE,\r\n        parse: function (token) {\r\n            if (token.type === TokenType.IDENT_TOKEN && token.value === 'normal') {\r\n                return 0;\r\n            }\r\n            if (token.type === TokenType.NUMBER_TOKEN) {\r\n                return token.number;\r\n            }\r\n            if (token.type === TokenType.DIMENSION_TOKEN) {\r\n                return token.number;\r\n            }\r\n            return 0;\r\n        }\r\n    };\n\n    var LINE_BREAK;\r\n    (function (LINE_BREAK) {\r\n        LINE_BREAK[\"NORMAL\"] = \"normal\";\r\n        LINE_BREAK[\"STRICT\"] = \"strict\";\r\n    })(LINE_BREAK || (LINE_BREAK = {}));\r\n    var lineBreak = {\r\n        name: 'line-break',\r\n        initialValue: 'normal',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.IDENT_VALUE,\r\n        parse: function (lineBreak) {\r\n            switch (lineBreak) {\r\n                case 'strict':\r\n                    return LINE_BREAK.STRICT;\r\n                case 'normal':\r\n                default:\r\n                    return LINE_BREAK.NORMAL;\r\n            }\r\n        }\r\n    };\n\n    var lineHeight = {\r\n        name: 'line-height',\r\n        initialValue: 'normal',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.TOKEN_VALUE\r\n    };\r\n    var computeLineHeight = function (token, fontSize) {\r\n        if (isIdentToken(token) && token.value === 'normal') {\r\n            return 1.2 * fontSize;\r\n        }\r\n        else if (token.type === TokenType.NUMBER_TOKEN) {\r\n            return fontSize * token.number;\r\n        }\r\n        else if (isLengthPercentage(token)) {\r\n            return getAbsoluteValue(token, fontSize);\r\n        }\r\n        return fontSize;\r\n    };\n\n    var listStyleImage = {\r\n        name: 'list-style-image',\r\n        initialValue: 'none',\r\n        type: PropertyDescriptorParsingType.VALUE,\r\n        prefix: false,\r\n        parse: function (token) {\r\n            if (token.type === TokenType.IDENT_TOKEN && token.value === 'none') {\r\n                return null;\r\n            }\r\n            return image.parse(token);\r\n        }\r\n    };\n\n    var LIST_STYLE_POSITION;\r\n    (function (LIST_STYLE_POSITION) {\r\n        LIST_STYLE_POSITION[LIST_STYLE_POSITION[\"INSIDE\"] = 0] = \"INSIDE\";\r\n        LIST_STYLE_POSITION[LIST_STYLE_POSITION[\"OUTSIDE\"] = 1] = \"OUTSIDE\";\r\n    })(LIST_STYLE_POSITION || (LIST_STYLE_POSITION = {}));\r\n    var listStylePosition = {\r\n        name: 'list-style-position',\r\n        initialValue: 'outside',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.IDENT_VALUE,\r\n        parse: function (position) {\r\n            switch (position) {\r\n                case 'inside':\r\n                    return LIST_STYLE_POSITION.INSIDE;\r\n                case 'outside':\r\n                default:\r\n                    return LIST_STYLE_POSITION.OUTSIDE;\r\n            }\r\n        }\r\n    };\n\n    var LIST_STYLE_TYPE;\r\n    (function (LIST_STYLE_TYPE) {\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"NONE\"] = -1] = \"NONE\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"DISC\"] = 0] = \"DISC\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"CIRCLE\"] = 1] = \"CIRCLE\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"SQUARE\"] = 2] = \"SQUARE\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"DECIMAL\"] = 3] = \"DECIMAL\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"CJK_DECIMAL\"] = 4] = \"CJK_DECIMAL\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"DECIMAL_LEADING_ZERO\"] = 5] = \"DECIMAL_LEADING_ZERO\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"LOWER_ROMAN\"] = 6] = \"LOWER_ROMAN\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"UPPER_ROMAN\"] = 7] = \"UPPER_ROMAN\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"LOWER_GREEK\"] = 8] = \"LOWER_GREEK\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"LOWER_ALPHA\"] = 9] = \"LOWER_ALPHA\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"UPPER_ALPHA\"] = 10] = \"UPPER_ALPHA\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"ARABIC_INDIC\"] = 11] = \"ARABIC_INDIC\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"ARMENIAN\"] = 12] = \"ARMENIAN\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"BENGALI\"] = 13] = \"BENGALI\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"CAMBODIAN\"] = 14] = \"CAMBODIAN\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"CJK_EARTHLY_BRANCH\"] = 15] = \"CJK_EARTHLY_BRANCH\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"CJK_HEAVENLY_STEM\"] = 16] = \"CJK_HEAVENLY_STEM\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"CJK_IDEOGRAPHIC\"] = 17] = \"CJK_IDEOGRAPHIC\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"DEVANAGARI\"] = 18] = \"DEVANAGARI\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"ETHIOPIC_NUMERIC\"] = 19] = \"ETHIOPIC_NUMERIC\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"GEORGIAN\"] = 20] = \"GEORGIAN\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"GUJARATI\"] = 21] = \"GUJARATI\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"GURMUKHI\"] = 22] = \"GURMUKHI\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"HEBREW\"] = 22] = \"HEBREW\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"HIRAGANA\"] = 23] = \"HIRAGANA\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"HIRAGANA_IROHA\"] = 24] = \"HIRAGANA_IROHA\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"JAPANESE_FORMAL\"] = 25] = \"JAPANESE_FORMAL\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"JAPANESE_INFORMAL\"] = 26] = \"JAPANESE_INFORMAL\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"KANNADA\"] = 27] = \"KANNADA\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"KATAKANA\"] = 28] = \"KATAKANA\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"KATAKANA_IROHA\"] = 29] = \"KATAKANA_IROHA\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"KHMER\"] = 30] = \"KHMER\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"KOREAN_HANGUL_FORMAL\"] = 31] = \"KOREAN_HANGUL_FORMAL\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"KOREAN_HANJA_FORMAL\"] = 32] = \"KOREAN_HANJA_FORMAL\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"KOREAN_HANJA_INFORMAL\"] = 33] = \"KOREAN_HANJA_INFORMAL\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"LAO\"] = 34] = \"LAO\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"LOWER_ARMENIAN\"] = 35] = \"LOWER_ARMENIAN\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"MALAYALAM\"] = 36] = \"MALAYALAM\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"MONGOLIAN\"] = 37] = \"MONGOLIAN\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"MYANMAR\"] = 38] = \"MYANMAR\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"ORIYA\"] = 39] = \"ORIYA\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"PERSIAN\"] = 40] = \"PERSIAN\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"SIMP_CHINESE_FORMAL\"] = 41] = \"SIMP_CHINESE_FORMAL\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"SIMP_CHINESE_INFORMAL\"] = 42] = \"SIMP_CHINESE_INFORMAL\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"TAMIL\"] = 43] = \"TAMIL\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"TELUGU\"] = 44] = \"TELUGU\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"THAI\"] = 45] = \"THAI\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"TIBETAN\"] = 46] = \"TIBETAN\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"TRAD_CHINESE_FORMAL\"] = 47] = \"TRAD_CHINESE_FORMAL\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"TRAD_CHINESE_INFORMAL\"] = 48] = \"TRAD_CHINESE_INFORMAL\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"UPPER_ARMENIAN\"] = 49] = \"UPPER_ARMENIAN\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"DISCLOSURE_OPEN\"] = 50] = \"DISCLOSURE_OPEN\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"DISCLOSURE_CLOSED\"] = 51] = \"DISCLOSURE_CLOSED\";\r\n    })(LIST_STYLE_TYPE || (LIST_STYLE_TYPE = {}));\r\n    var listStyleType = {\r\n        name: 'list-style-type',\r\n        initialValue: 'none',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.IDENT_VALUE,\r\n        parse: function (type) {\r\n            switch (type) {\r\n                case 'disc':\r\n                    return LIST_STYLE_TYPE.DISC;\r\n                case 'circle':\r\n                    return LIST_STYLE_TYPE.CIRCLE;\r\n                case 'square':\r\n                    return LIST_STYLE_TYPE.SQUARE;\r\n                case 'decimal':\r\n                    return LIST_STYLE_TYPE.DECIMAL;\r\n                case 'cjk-decimal':\r\n                    return LIST_STYLE_TYPE.CJK_DECIMAL;\r\n                case 'decimal-leading-zero':\r\n                    return LIST_STYLE_TYPE.DECIMAL_LEADING_ZERO;\r\n                case 'lower-roman':\r\n                    return LIST_STYLE_TYPE.LOWER_ROMAN;\r\n                case 'upper-roman':\r\n                    return LIST_STYLE_TYPE.UPPER_ROMAN;\r\n                case 'lower-greek':\r\n                    return LIST_STYLE_TYPE.LOWER_GREEK;\r\n                case 'lower-alpha':\r\n                    return LIST_STYLE_TYPE.LOWER_ALPHA;\r\n                case 'upper-alpha':\r\n                    return LIST_STYLE_TYPE.UPPER_ALPHA;\r\n                case 'arabic-indic':\r\n                    return LIST_STYLE_TYPE.ARABIC_INDIC;\r\n                case 'armenian':\r\n                    return LIST_STYLE_TYPE.ARMENIAN;\r\n                case 'bengali':\r\n                    return LIST_STYLE_TYPE.BENGALI;\r\n                case 'cambodian':\r\n                    return LIST_STYLE_TYPE.CAMBODIAN;\r\n                case 'cjk-earthly-branch':\r\n                    return LIST_STYLE_TYPE.CJK_EARTHLY_BRANCH;\r\n                case 'cjk-heavenly-stem':\r\n                    return LIST_STYLE_TYPE.CJK_HEAVENLY_STEM;\r\n                case 'cjk-ideographic':\r\n                    return LIST_STYLE_TYPE.CJK_IDEOGRAPHIC;\r\n                case 'devanagari':\r\n                    return LIST_STYLE_TYPE.DEVANAGARI;\r\n                case 'ethiopic-numeric':\r\n                    return LIST_STYLE_TYPE.ETHIOPIC_NUMERIC;\r\n                case 'georgian':\r\n                    return LIST_STYLE_TYPE.GEORGIAN;\r\n                case 'gujarati':\r\n                    return LIST_STYLE_TYPE.GUJARATI;\r\n                case 'gurmukhi':\r\n                    return LIST_STYLE_TYPE.GURMUKHI;\r\n                case 'hebrew':\r\n                    return LIST_STYLE_TYPE.HEBREW;\r\n                case 'hiragana':\r\n                    return LIST_STYLE_TYPE.HIRAGANA;\r\n                case 'hiragana-iroha':\r\n                    return LIST_STYLE_TYPE.HIRAGANA_IROHA;\r\n                case 'japanese-formal':\r\n                    return LIST_STYLE_TYPE.JAPANESE_FORMAL;\r\n                case 'japanese-informal':\r\n                    return LIST_STYLE_TYPE.JAPANESE_INFORMAL;\r\n                case 'kannada':\r\n                    return LIST_STYLE_TYPE.KANNADA;\r\n                case 'katakana':\r\n                    return LIST_STYLE_TYPE.KATAKANA;\r\n                case 'katakana-iroha':\r\n                    return LIST_STYLE_TYPE.KATAKANA_IROHA;\r\n                case 'khmer':\r\n                    return LIST_STYLE_TYPE.KHMER;\r\n                case 'korean-hangul-formal':\r\n                    return LIST_STYLE_TYPE.KOREAN_HANGUL_FORMAL;\r\n                case 'korean-hanja-formal':\r\n                    return LIST_STYLE_TYPE.KOREAN_HANJA_FORMAL;\r\n                case 'korean-hanja-informal':\r\n                    return LIST_STYLE_TYPE.KOREAN_HANJA_INFORMAL;\r\n                case 'lao':\r\n                    return LIST_STYLE_TYPE.LAO;\r\n                case 'lower-armenian':\r\n                    return LIST_STYLE_TYPE.LOWER_ARMENIAN;\r\n                case 'malayalam':\r\n                    return LIST_STYLE_TYPE.MALAYALAM;\r\n                case 'mongolian':\r\n                    return LIST_STYLE_TYPE.MONGOLIAN;\r\n                case 'myanmar':\r\n                    return LIST_STYLE_TYPE.MYANMAR;\r\n                case 'oriya':\r\n                    return LIST_STYLE_TYPE.ORIYA;\r\n                case 'persian':\r\n                    return LIST_STYLE_TYPE.PERSIAN;\r\n                case 'simp-chinese-formal':\r\n                    return LIST_STYLE_TYPE.SIMP_CHINESE_FORMAL;\r\n                case 'simp-chinese-informal':\r\n                    return LIST_STYLE_TYPE.SIMP_CHINESE_INFORMAL;\r\n                case 'tamil':\r\n                    return LIST_STYLE_TYPE.TAMIL;\r\n                case 'telugu':\r\n                    return LIST_STYLE_TYPE.TELUGU;\r\n                case 'thai':\r\n                    return LIST_STYLE_TYPE.THAI;\r\n                case 'tibetan':\r\n                    return LIST_STYLE_TYPE.TIBETAN;\r\n                case 'trad-chinese-formal':\r\n                    return LIST_STYLE_TYPE.TRAD_CHINESE_FORMAL;\r\n                case 'trad-chinese-informal':\r\n                    return LIST_STYLE_TYPE.TRAD_CHINESE_INFORMAL;\r\n                case 'upper-armenian':\r\n                    return LIST_STYLE_TYPE.UPPER_ARMENIAN;\r\n                case 'disclosure-open':\r\n                    return LIST_STYLE_TYPE.DISCLOSURE_OPEN;\r\n                case 'disclosure-closed':\r\n                    return LIST_STYLE_TYPE.DISCLOSURE_CLOSED;\r\n                case 'none':\r\n                default:\r\n                    return LIST_STYLE_TYPE.NONE;\r\n            }\r\n        }\r\n    };\n\n    var marginForSide = function (side) { return ({\r\n        name: \"margin-\" + side,\r\n        initialValue: '0',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.TOKEN_VALUE\r\n    }); };\r\n    var marginTop = marginForSide('top');\r\n    var marginRight = marginForSide('right');\r\n    var marginBottom = marginForSide('bottom');\r\n    var marginLeft = marginForSide('left');\n\n    var OVERFLOW;\r\n    (function (OVERFLOW) {\r\n        OVERFLOW[OVERFLOW[\"VISIBLE\"] = 0] = \"VISIBLE\";\r\n        OVERFLOW[OVERFLOW[\"HIDDEN\"] = 1] = \"HIDDEN\";\r\n        OVERFLOW[OVERFLOW[\"SCROLL\"] = 2] = \"SCROLL\";\r\n        OVERFLOW[OVERFLOW[\"AUTO\"] = 3] = \"AUTO\";\r\n    })(OVERFLOW || (OVERFLOW = {}));\r\n    var overflow = {\r\n        name: 'overflow',\r\n        initialValue: 'visible',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        parse: function (tokens) {\r\n            return tokens.filter(isIdentToken).map(function (overflow) {\r\n                switch (overflow.value) {\r\n                    case 'hidden':\r\n                        return OVERFLOW.HIDDEN;\r\n                    case 'scroll':\r\n                        return OVERFLOW.SCROLL;\r\n                    case 'auto':\r\n                        return OVERFLOW.AUTO;\r\n                    case 'visible':\r\n                    default:\r\n                        return OVERFLOW.VISIBLE;\r\n                }\r\n            });\r\n        }\r\n    };\n\n    var OVERFLOW_WRAP;\r\n    (function (OVERFLOW_WRAP) {\r\n        OVERFLOW_WRAP[\"NORMAL\"] = \"normal\";\r\n        OVERFLOW_WRAP[\"BREAK_WORD\"] = \"break-word\";\r\n    })(OVERFLOW_WRAP || (OVERFLOW_WRAP = {}));\r\n    var overflowWrap = {\r\n        name: 'overflow-wrap',\r\n        initialValue: 'normal',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.IDENT_VALUE,\r\n        parse: function (overflow) {\r\n            switch (overflow) {\r\n                case 'break-word':\r\n                    return OVERFLOW_WRAP.BREAK_WORD;\r\n                case 'normal':\r\n                default:\r\n                    return OVERFLOW_WRAP.NORMAL;\r\n            }\r\n        }\r\n    };\n\n    var paddingForSide = function (side) { return ({\r\n        name: \"padding-\" + side,\r\n        initialValue: '0',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.TYPE_VALUE,\r\n        format: 'length-percentage'\r\n    }); };\r\n    var paddingTop = paddingForSide('top');\r\n    var paddingRight = paddingForSide('right');\r\n    var paddingBottom = paddingForSide('bottom');\r\n    var paddingLeft = paddingForSide('left');\n\n    var TEXT_ALIGN;\r\n    (function (TEXT_ALIGN) {\r\n        TEXT_ALIGN[TEXT_ALIGN[\"LEFT\"] = 0] = \"LEFT\";\r\n        TEXT_ALIGN[TEXT_ALIGN[\"CENTER\"] = 1] = \"CENTER\";\r\n        TEXT_ALIGN[TEXT_ALIGN[\"RIGHT\"] = 2] = \"RIGHT\";\r\n    })(TEXT_ALIGN || (TEXT_ALIGN = {}));\r\n    var textAlign = {\r\n        name: 'text-align',\r\n        initialValue: 'left',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.IDENT_VALUE,\r\n        parse: function (textAlign) {\r\n            switch (textAlign) {\r\n                case 'right':\r\n                    return TEXT_ALIGN.RIGHT;\r\n                case 'center':\r\n                case 'justify':\r\n                    return TEXT_ALIGN.CENTER;\r\n                case 'left':\r\n                default:\r\n                    return TEXT_ALIGN.LEFT;\r\n            }\r\n        }\r\n    };\n\n    var POSITION;\r\n    (function (POSITION) {\r\n        POSITION[POSITION[\"STATIC\"] = 0] = \"STATIC\";\r\n        POSITION[POSITION[\"RELATIVE\"] = 1] = \"RELATIVE\";\r\n        POSITION[POSITION[\"ABSOLUTE\"] = 2] = \"ABSOLUTE\";\r\n        POSITION[POSITION[\"FIXED\"] = 3] = \"FIXED\";\r\n        POSITION[POSITION[\"STICKY\"] = 4] = \"STICKY\";\r\n    })(POSITION || (POSITION = {}));\r\n    var position = {\r\n        name: 'position',\r\n        initialValue: 'static',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.IDENT_VALUE,\r\n        parse: function (position) {\r\n            switch (position) {\r\n                case 'relative':\r\n                    return POSITION.RELATIVE;\r\n                case 'absolute':\r\n                    return POSITION.ABSOLUTE;\r\n                case 'fixed':\r\n                    return POSITION.FIXED;\r\n                case 'sticky':\r\n                    return POSITION.STICKY;\r\n            }\r\n            return POSITION.STATIC;\r\n        }\r\n    };\n\n    var textShadow = {\r\n        name: 'text-shadow',\r\n        initialValue: 'none',\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        prefix: false,\r\n        parse: function (tokens) {\r\n            if (tokens.length === 1 && isIdentWithValue(tokens[0], 'none')) {\r\n                return [];\r\n            }\r\n            return parseFunctionArgs(tokens).map(function (values) {\r\n                var shadow = {\r\n                    color: COLORS.TRANSPARENT,\r\n                    offsetX: ZERO_LENGTH,\r\n                    offsetY: ZERO_LENGTH,\r\n                    blur: ZERO_LENGTH\r\n                };\r\n                var c = 0;\r\n                for (var i = 0; i < values.length; i++) {\r\n                    var token = values[i];\r\n                    if (isLength(token)) {\r\n                        if (c === 0) {\r\n                            shadow.offsetX = token;\r\n                        }\r\n                        else if (c === 1) {\r\n                            shadow.offsetY = token;\r\n                        }\r\n                        else {\r\n                            shadow.blur = token;\r\n                        }\r\n                        c++;\r\n                    }\r\n                    else {\r\n                        shadow.color = color.parse(token);\r\n                    }\r\n                }\r\n                return shadow;\r\n            });\r\n        }\r\n    };\n\n    var TEXT_TRANSFORM;\r\n    (function (TEXT_TRANSFORM) {\r\n        TEXT_TRANSFORM[TEXT_TRANSFORM[\"NONE\"] = 0] = \"NONE\";\r\n        TEXT_TRANSFORM[TEXT_TRANSFORM[\"LOWERCASE\"] = 1] = \"LOWERCASE\";\r\n        TEXT_TRANSFORM[TEXT_TRANSFORM[\"UPPERCASE\"] = 2] = \"UPPERCASE\";\r\n        TEXT_TRANSFORM[TEXT_TRANSFORM[\"CAPITALIZE\"] = 3] = \"CAPITALIZE\";\r\n    })(TEXT_TRANSFORM || (TEXT_TRANSFORM = {}));\r\n    var textTransform = {\r\n        name: 'text-transform',\r\n        initialValue: 'none',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.IDENT_VALUE,\r\n        parse: function (textTransform) {\r\n            switch (textTransform) {\r\n                case 'uppercase':\r\n                    return TEXT_TRANSFORM.UPPERCASE;\r\n                case 'lowercase':\r\n                    return TEXT_TRANSFORM.LOWERCASE;\r\n                case 'capitalize':\r\n                    return TEXT_TRANSFORM.CAPITALIZE;\r\n            }\r\n            return TEXT_TRANSFORM.NONE;\r\n        }\r\n    };\n\n    var transform = {\r\n        name: 'transform',\r\n        initialValue: 'none',\r\n        prefix: true,\r\n        type: PropertyDescriptorParsingType.VALUE,\r\n        parse: function (token) {\r\n            if (token.type === TokenType.IDENT_TOKEN && token.value === 'none') {\r\n                return null;\r\n            }\r\n            if (token.type === TokenType.FUNCTION) {\r\n                var transformFunction = SUPPORTED_TRANSFORM_FUNCTIONS[token.name];\r\n                if (typeof transformFunction === 'undefined') {\r\n                    throw new Error(\"Attempting to parse an unsupported transform function \\\"\" + token.name + \"\\\"\");\r\n                }\r\n                return transformFunction(token.values);\r\n            }\r\n            return null;\r\n        }\r\n    };\r\n    var matrix = function (args) {\r\n        var values = args.filter(function (arg) { return arg.type === TokenType.NUMBER_TOKEN; }).map(function (arg) { return arg.number; });\r\n        return values.length === 6 ? values : null;\r\n    };\r\n    // doesn't support 3D transforms at the moment\r\n    var matrix3d = function (args) {\r\n        var values = args.filter(function (arg) { return arg.type === TokenType.NUMBER_TOKEN; }).map(function (arg) { return arg.number; });\r\n        var a1 = values[0], b1 = values[1], _a = values[2], _b = values[3], a2 = values[4], b2 = values[5], _c = values[6], _d = values[7], _e = values[8], _f = values[9], _g = values[10], _h = values[11], a4 = values[12], b4 = values[13], _j = values[14], _k = values[15];\r\n        return values.length === 16 ? [a1, b1, a2, b2, a4, b4] : null;\r\n    };\r\n    var SUPPORTED_TRANSFORM_FUNCTIONS = {\r\n        matrix: matrix,\r\n        matrix3d: matrix3d\r\n    };\n\n    var DEFAULT_VALUE = {\r\n        type: TokenType.PERCENTAGE_TOKEN,\r\n        number: 50,\r\n        flags: FLAG_INTEGER\r\n    };\r\n    var DEFAULT = [DEFAULT_VALUE, DEFAULT_VALUE];\r\n    var transformOrigin = {\r\n        name: 'transform-origin',\r\n        initialValue: '50% 50%',\r\n        prefix: true,\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        parse: function (tokens) {\r\n            var origins = tokens.filter(isLengthPercentage);\r\n            if (origins.length !== 2) {\r\n                return DEFAULT;\r\n            }\r\n            return [origins[0], origins[1]];\r\n        }\r\n    };\n\n    var VISIBILITY;\r\n    (function (VISIBILITY) {\r\n        VISIBILITY[VISIBILITY[\"VISIBLE\"] = 0] = \"VISIBLE\";\r\n        VISIBILITY[VISIBILITY[\"HIDDEN\"] = 1] = \"HIDDEN\";\r\n        VISIBILITY[VISIBILITY[\"COLLAPSE\"] = 2] = \"COLLAPSE\";\r\n    })(VISIBILITY || (VISIBILITY = {}));\r\n    var visibility = {\r\n        name: 'visible',\r\n        initialValue: 'none',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.IDENT_VALUE,\r\n        parse: function (visibility) {\r\n            switch (visibility) {\r\n                case 'hidden':\r\n                    return VISIBILITY.HIDDEN;\r\n                case 'collapse':\r\n                    return VISIBILITY.COLLAPSE;\r\n                case 'visible':\r\n                default:\r\n                    return VISIBILITY.VISIBLE;\r\n            }\r\n        }\r\n    };\n\n    var WORD_BREAK;\r\n    (function (WORD_BREAK) {\r\n        WORD_BREAK[\"NORMAL\"] = \"normal\";\r\n        WORD_BREAK[\"BREAK_ALL\"] = \"break-all\";\r\n        WORD_BREAK[\"KEEP_ALL\"] = \"keep-all\";\r\n    })(WORD_BREAK || (WORD_BREAK = {}));\r\n    var wordBreak = {\r\n        name: 'word-break',\r\n        initialValue: 'normal',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.IDENT_VALUE,\r\n        parse: function (wordBreak) {\r\n            switch (wordBreak) {\r\n                case 'break-all':\r\n                    return WORD_BREAK.BREAK_ALL;\r\n                case 'keep-all':\r\n                    return WORD_BREAK.KEEP_ALL;\r\n                case 'normal':\r\n                default:\r\n                    return WORD_BREAK.NORMAL;\r\n            }\r\n        }\r\n    };\n\n    var zIndex = {\r\n        name: 'z-index',\r\n        initialValue: 'auto',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.VALUE,\r\n        parse: function (token) {\r\n            if (token.type === TokenType.IDENT_TOKEN) {\r\n                return { auto: true, order: 0 };\r\n            }\r\n            if (isNumberToken(token)) {\r\n                return { auto: false, order: token.number };\r\n            }\r\n            throw new Error(\"Invalid z-index number parsed\");\r\n        }\r\n    };\n\n    var opacity = {\r\n        name: 'opacity',\r\n        initialValue: '1',\r\n        type: PropertyDescriptorParsingType.VALUE,\r\n        prefix: false,\r\n        parse: function (token) {\r\n            if (isNumberToken(token)) {\r\n                return token.number;\r\n            }\r\n            return 1;\r\n        }\r\n    };\n\n    var textDecorationColor = {\r\n        name: \"text-decoration-color\",\r\n        initialValue: 'transparent',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.TYPE_VALUE,\r\n        format: 'color'\r\n    };\n\n    var textDecorationLine = {\r\n        name: 'text-decoration-line',\r\n        initialValue: 'none',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        parse: function (tokens) {\r\n            return tokens\r\n                .filter(isIdentToken)\r\n                .map(function (token) {\r\n                switch (token.value) {\r\n                    case 'underline':\r\n                        return 1 /* UNDERLINE */;\r\n                    case 'overline':\r\n                        return 2 /* OVERLINE */;\r\n                    case 'line-through':\r\n                        return 3 /* LINE_THROUGH */;\r\n                    case 'none':\r\n                        return 4 /* BLINK */;\r\n                }\r\n                return 0 /* NONE */;\r\n            })\r\n                .filter(function (line) { return line !== 0 /* NONE */; });\r\n        }\r\n    };\n\n    var fontFamily = {\r\n        name: \"font-family\",\r\n        initialValue: '',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        parse: function (tokens) {\r\n            var accumulator = [];\r\n            var results = [];\r\n            tokens.forEach(function (token) {\r\n                switch (token.type) {\r\n                    case TokenType.IDENT_TOKEN:\r\n                    case TokenType.STRING_TOKEN:\r\n                        accumulator.push(token.value);\r\n                        break;\r\n                    case TokenType.NUMBER_TOKEN:\r\n                        accumulator.push(token.number.toString());\r\n                        break;\r\n                    case TokenType.COMMA_TOKEN:\r\n                        results.push(accumulator.join(' '));\r\n                        accumulator.length = 0;\r\n                        break;\r\n                }\r\n            });\r\n            if (accumulator.length) {\r\n                results.push(accumulator.join(' '));\r\n            }\r\n            return results.map(function (result) { return (result.indexOf(' ') === -1 ? result : \"'\" + result + \"'\"); });\r\n        }\r\n    };\n\n    var fontSize = {\r\n        name: \"font-size\",\r\n        initialValue: '0',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.TYPE_VALUE,\r\n        format: 'length'\r\n    };\n\n    var fontWeight = {\r\n        name: 'font-weight',\r\n        initialValue: 'normal',\r\n        type: PropertyDescriptorParsingType.VALUE,\r\n        prefix: false,\r\n        parse: function (token) {\r\n            if (isNumberToken(token)) {\r\n                return token.number;\r\n            }\r\n            if (isIdentToken(token)) {\r\n                switch (token.value) {\r\n                    case 'bold':\r\n                        return 700;\r\n                    case 'normal':\r\n                    default:\r\n                        return 400;\r\n                }\r\n            }\r\n            return 400;\r\n        }\r\n    };\n\n    var fontVariant = {\r\n        name: 'font-variant',\r\n        initialValue: 'none',\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        prefix: false,\r\n        parse: function (tokens) {\r\n            return tokens.filter(isIdentToken).map(function (token) { return token.value; });\r\n        }\r\n    };\n\n    var FONT_STYLE;\r\n    (function (FONT_STYLE) {\r\n        FONT_STYLE[\"NORMAL\"] = \"normal\";\r\n        FONT_STYLE[\"ITALIC\"] = \"italic\";\r\n        FONT_STYLE[\"OBLIQUE\"] = \"oblique\";\r\n    })(FONT_STYLE || (FONT_STYLE = {}));\r\n    var fontStyle = {\r\n        name: 'font-style',\r\n        initialValue: 'normal',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.IDENT_VALUE,\r\n        parse: function (overflow) {\r\n            switch (overflow) {\r\n                case 'oblique':\r\n                    return FONT_STYLE.OBLIQUE;\r\n                case 'italic':\r\n                    return FONT_STYLE.ITALIC;\r\n                case 'normal':\r\n                default:\r\n                    return FONT_STYLE.NORMAL;\r\n            }\r\n        }\r\n    };\n\n    var contains = function (bit, value) { return (bit & value) !== 0; };\n\n    var content = {\r\n        name: 'content',\r\n        initialValue: 'none',\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        prefix: false,\r\n        parse: function (tokens) {\r\n            if (tokens.length === 0) {\r\n                return [];\r\n            }\r\n            var first = tokens[0];\r\n            if (first.type === TokenType.IDENT_TOKEN && first.value === 'none') {\r\n                return [];\r\n            }\r\n            return tokens;\r\n        }\r\n    };\n\n    var counterIncrement = {\r\n        name: 'counter-increment',\r\n        initialValue: 'none',\r\n        prefix: true,\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        parse: function (tokens) {\r\n            if (tokens.length === 0) {\r\n                return null;\r\n            }\r\n            var first = tokens[0];\r\n            if (first.type === TokenType.IDENT_TOKEN && first.value === 'none') {\r\n                return null;\r\n            }\r\n            var increments = [];\r\n            var filtered = tokens.filter(nonWhiteSpace);\r\n            for (var i = 0; i < filtered.length; i++) {\r\n                var counter = filtered[i];\r\n                var next = filtered[i + 1];\r\n                if (counter.type === TokenType.IDENT_TOKEN) {\r\n                    var increment = next && isNumberToken(next) ? next.number : 1;\r\n                    increments.push({ counter: counter.value, increment: increment });\r\n                }\r\n            }\r\n            return increments;\r\n        }\r\n    };\n\n    var counterReset = {\r\n        name: 'counter-reset',\r\n        initialValue: 'none',\r\n        prefix: true,\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        parse: function (tokens) {\r\n            if (tokens.length === 0) {\r\n                return [];\r\n            }\r\n            var resets = [];\r\n            var filtered = tokens.filter(nonWhiteSpace);\r\n            for (var i = 0; i < filtered.length; i++) {\r\n                var counter = filtered[i];\r\n                var next = filtered[i + 1];\r\n                if (isIdentToken(counter) && counter.value !== 'none') {\r\n                    var reset = next && isNumberToken(next) ? next.number : 0;\r\n                    resets.push({ counter: counter.value, reset: reset });\r\n                }\r\n            }\r\n            return resets;\r\n        }\r\n    };\n\n    var quotes = {\r\n        name: 'quotes',\r\n        initialValue: 'none',\r\n        prefix: true,\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        parse: function (tokens) {\r\n            if (tokens.length === 0) {\r\n                return null;\r\n            }\r\n            var first = tokens[0];\r\n            if (first.type === TokenType.IDENT_TOKEN && first.value === 'none') {\r\n                return null;\r\n            }\r\n            var quotes = [];\r\n            var filtered = tokens.filter(isStringToken);\r\n            if (filtered.length % 2 !== 0) {\r\n                return null;\r\n            }\r\n            for (var i = 0; i < filtered.length; i += 2) {\r\n                var open_1 = filtered[i].value;\r\n                var close_1 = filtered[i + 1].value;\r\n                quotes.push({ open: open_1, close: close_1 });\r\n            }\r\n            return quotes;\r\n        }\r\n    };\r\n    var getQuote = function (quotes, depth, open) {\r\n        if (!quotes) {\r\n            return '';\r\n        }\r\n        var quote = quotes[Math.min(depth, quotes.length - 1)];\r\n        if (!quote) {\r\n            return '';\r\n        }\r\n        return open ? quote.open : quote.close;\r\n    };\n\n    var boxShadow = {\r\n        name: 'box-shadow',\r\n        initialValue: 'none',\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        prefix: false,\r\n        parse: function (tokens) {\r\n            if (tokens.length === 1 && isIdentWithValue(tokens[0], 'none')) {\r\n                return [];\r\n            }\r\n            return parseFunctionArgs(tokens).map(function (values) {\r\n                var shadow = {\r\n                    color: 0x000000ff,\r\n                    offsetX: ZERO_LENGTH,\r\n                    offsetY: ZERO_LENGTH,\r\n                    blur: ZERO_LENGTH,\r\n                    spread: ZERO_LENGTH,\r\n                    inset: false\r\n                };\r\n                var c = 0;\r\n                for (var i = 0; i < values.length; i++) {\r\n                    var token = values[i];\r\n                    if (isIdentWithValue(token, 'inset')) {\r\n                        shadow.inset = true;\r\n                    }\r\n                    else if (isLength(token)) {\r\n                        if (c === 0) {\r\n                            shadow.offsetX = token;\r\n                        }\r\n                        else if (c === 1) {\r\n                            shadow.offsetY = token;\r\n                        }\r\n                        else if (c === 2) {\r\n                            shadow.blur = token;\r\n                        }\r\n                        else {\r\n                            shadow.spread = token;\r\n                        }\r\n                        c++;\r\n                    }\r\n                    else {\r\n                        shadow.color = color.parse(token);\r\n                    }\r\n                }\r\n                return shadow;\r\n            });\r\n        }\r\n    };\n\n    var CSSParsedDeclaration = /** @class */ (function () {\r\n        function CSSParsedDeclaration(declaration) {\r\n            this.backgroundClip = parse(backgroundClip, declaration.backgroundClip);\r\n            this.backgroundColor = parse(backgroundColor, declaration.backgroundColor);\r\n            this.backgroundImage = parse(backgroundImage, declaration.backgroundImage);\r\n            this.backgroundOrigin = parse(backgroundOrigin, declaration.backgroundOrigin);\r\n            this.backgroundPosition = parse(backgroundPosition, declaration.backgroundPosition);\r\n            this.backgroundRepeat = parse(backgroundRepeat, declaration.backgroundRepeat);\r\n            this.backgroundSize = parse(backgroundSize, declaration.backgroundSize);\r\n            this.borderTopColor = parse(borderTopColor, declaration.borderTopColor);\r\n            this.borderRightColor = parse(borderRightColor, declaration.borderRightColor);\r\n            this.borderBottomColor = parse(borderBottomColor, declaration.borderBottomColor);\r\n            this.borderLeftColor = parse(borderLeftColor, declaration.borderLeftColor);\r\n            this.borderTopLeftRadius = parse(borderTopLeftRadius, declaration.borderTopLeftRadius);\r\n            this.borderTopRightRadius = parse(borderTopRightRadius, declaration.borderTopRightRadius);\r\n            this.borderBottomRightRadius = parse(borderBottomRightRadius, declaration.borderBottomRightRadius);\r\n            this.borderBottomLeftRadius = parse(borderBottomLeftRadius, declaration.borderBottomLeftRadius);\r\n            this.borderTopStyle = parse(borderTopStyle, declaration.borderTopStyle);\r\n            this.borderRightStyle = parse(borderRightStyle, declaration.borderRightStyle);\r\n            this.borderBottomStyle = parse(borderBottomStyle, declaration.borderBottomStyle);\r\n            this.borderLeftStyle = parse(borderLeftStyle, declaration.borderLeftStyle);\r\n            this.borderTopWidth = parse(borderTopWidth, declaration.borderTopWidth);\r\n            this.borderRightWidth = parse(borderRightWidth, declaration.borderRightWidth);\r\n            this.borderBottomWidth = parse(borderBottomWidth, declaration.borderBottomWidth);\r\n            this.borderLeftWidth = parse(borderLeftWidth, declaration.borderLeftWidth);\r\n            this.boxShadow = parse(boxShadow, declaration.boxShadow);\r\n            this.color = parse(color$1, declaration.color);\r\n            this.display = parse(display, declaration.display);\r\n            this.float = parse(float, declaration.cssFloat);\r\n            this.fontFamily = parse(fontFamily, declaration.fontFamily);\r\n            this.fontSize = parse(fontSize, declaration.fontSize);\r\n            this.fontStyle = parse(fontStyle, declaration.fontStyle);\r\n            this.fontVariant = parse(fontVariant, declaration.fontVariant);\r\n            this.fontWeight = parse(fontWeight, declaration.fontWeight);\r\n            this.letterSpacing = parse(letterSpacing, declaration.letterSpacing);\r\n            this.lineBreak = parse(lineBreak, declaration.lineBreak);\r\n            this.lineHeight = parse(lineHeight, declaration.lineHeight);\r\n            this.listStyleImage = parse(listStyleImage, declaration.listStyleImage);\r\n            this.listStylePosition = parse(listStylePosition, declaration.listStylePosition);\r\n            this.listStyleType = parse(listStyleType, declaration.listStyleType);\r\n            this.marginTop = parse(marginTop, declaration.marginTop);\r\n            this.marginRight = parse(marginRight, declaration.marginRight);\r\n            this.marginBottom = parse(marginBottom, declaration.marginBottom);\r\n            this.marginLeft = parse(marginLeft, declaration.marginLeft);\r\n            this.opacity = parse(opacity, declaration.opacity);\r\n            var overflowTuple = parse(overflow, declaration.overflow);\r\n            this.overflowX = overflowTuple[0];\r\n            this.overflowY = overflowTuple[overflowTuple.length > 1 ? 1 : 0];\r\n            this.overflowWrap = parse(overflowWrap, declaration.overflowWrap);\r\n            this.paddingTop = parse(paddingTop, declaration.paddingTop);\r\n            this.paddingRight = parse(paddingRight, declaration.paddingRight);\r\n            this.paddingBottom = parse(paddingBottom, declaration.paddingBottom);\r\n            this.paddingLeft = parse(paddingLeft, declaration.paddingLeft);\r\n            this.position = parse(position, declaration.position);\r\n            this.textAlign = parse(textAlign, declaration.textAlign);\r\n            this.textDecorationColor = parse(textDecorationColor, declaration.textDecorationColor || declaration.color);\r\n            this.textDecorationLine = parse(textDecorationLine, declaration.textDecorationLine);\r\n            this.textShadow = parse(textShadow, declaration.textShadow);\r\n            this.textTransform = parse(textTransform, declaration.textTransform);\r\n            this.transform = parse(transform, declaration.transform);\r\n            this.transformOrigin = parse(transformOrigin, declaration.transformOrigin);\r\n            this.visibility = parse(visibility, declaration.visibility);\r\n            this.wordBreak = parse(wordBreak, declaration.wordBreak);\r\n            this.zIndex = parse(zIndex, declaration.zIndex);\r\n        }\r\n        CSSParsedDeclaration.prototype.isVisible = function () {\r\n            return this.display > 0 && this.opacity > 0 && this.visibility === VISIBILITY.VISIBLE;\r\n        };\r\n        CSSParsedDeclaration.prototype.isTransparent = function () {\r\n            return isTransparent(this.backgroundColor);\r\n        };\r\n        CSSParsedDeclaration.prototype.isTransformed = function () {\r\n            return this.transform !== null;\r\n        };\r\n        CSSParsedDeclaration.prototype.isPositioned = function () {\r\n            return this.position !== POSITION.STATIC;\r\n        };\r\n        CSSParsedDeclaration.prototype.isPositionedWithZIndex = function () {\r\n            return this.isPositioned() && !this.zIndex.auto;\r\n        };\r\n        CSSParsedDeclaration.prototype.isFloating = function () {\r\n            return this.float !== FLOAT.NONE;\r\n        };\r\n        CSSParsedDeclaration.prototype.isInlineLevel = function () {\r\n            return (contains(this.display, 4 /* INLINE */) ||\r\n                contains(this.display, 33554432 /* INLINE_BLOCK */) ||\r\n                contains(this.display, 268435456 /* INLINE_FLEX */) ||\r\n                contains(this.display, 536870912 /* INLINE_GRID */) ||\r\n                contains(this.display, 67108864 /* INLINE_LIST_ITEM */) ||\r\n                contains(this.display, 134217728 /* INLINE_TABLE */));\r\n        };\r\n        return CSSParsedDeclaration;\r\n    }());\r\n    var CSSParsedPseudoDeclaration = /** @class */ (function () {\r\n        function CSSParsedPseudoDeclaration(declaration) {\r\n            this.content = parse(content, declaration.content);\r\n            this.quotes = parse(quotes, declaration.quotes);\r\n        }\r\n        return CSSParsedPseudoDeclaration;\r\n    }());\r\n    var CSSParsedCounterDeclaration = /** @class */ (function () {\r\n        function CSSParsedCounterDeclaration(declaration) {\r\n            this.counterIncrement = parse(counterIncrement, declaration.counterIncrement);\r\n            this.counterReset = parse(counterReset, declaration.counterReset);\r\n        }\r\n        return CSSParsedCounterDeclaration;\r\n    }());\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    var parse = function (descriptor, style) {\r\n        var tokenizer = new Tokenizer();\r\n        var value = style !== null && typeof style !== 'undefined' ? style.toString() : descriptor.initialValue;\r\n        tokenizer.write(value);\r\n        var parser = new Parser(tokenizer.read());\r\n        switch (descriptor.type) {\r\n            case PropertyDescriptorParsingType.IDENT_VALUE:\r\n                var token = parser.parseComponentValue();\r\n                return descriptor.parse(isIdentToken(token) ? token.value : descriptor.initialValue);\r\n            case PropertyDescriptorParsingType.VALUE:\r\n                return descriptor.parse(parser.parseComponentValue());\r\n            case PropertyDescriptorParsingType.LIST:\r\n                return descriptor.parse(parser.parseComponentValues());\r\n            case PropertyDescriptorParsingType.TOKEN_VALUE:\r\n                return parser.parseComponentValue();\r\n            case PropertyDescriptorParsingType.TYPE_VALUE:\r\n                switch (descriptor.format) {\r\n                    case 'angle':\r\n                        return angle.parse(parser.parseComponentValue());\r\n                    case 'color':\r\n                        return color.parse(parser.parseComponentValue());\r\n                    case 'image':\r\n                        return image.parse(parser.parseComponentValue());\r\n                    case 'length':\r\n                        var length_1 = parser.parseComponentValue();\r\n                        return isLength(length_1) ? length_1 : ZERO_LENGTH;\r\n                    case 'length-percentage':\r\n                        var value_1 = parser.parseComponentValue();\r\n                        return isLengthPercentage(value_1) ? value_1 : ZERO_LENGTH;\r\n                }\r\n        }\r\n        throw new Error(\"Attempting to parse unsupported css format type \" + descriptor.format);\r\n    };\n\n    var ElementContainer = /** @class */ (function () {\r\n        function ElementContainer(element) {\r\n            this.styles = new CSSParsedDeclaration(window.getComputedStyle(element, null));\r\n            this.textNodes = [];\r\n            this.elements = [];\r\n            if (this.styles.transform !== null && isHTMLElementNode(element)) {\r\n                // getBoundingClientRect takes transforms into account\r\n                element.style.transform = 'none';\r\n            }\r\n            this.bounds = parseBounds(element);\r\n            this.flags = 0;\r\n        }\r\n        return ElementContainer;\r\n    }());\n\n    var TextBounds = /** @class */ (function () {\r\n        function TextBounds(text, bounds) {\r\n            this.text = text;\r\n            this.bounds = bounds;\r\n        }\r\n        return TextBounds;\r\n    }());\r\n    var parseTextBounds = function (value, styles, node) {\r\n        var textList = breakText(value, styles);\r\n        var textBounds = [];\r\n        var offset = 0;\r\n        textList.forEach(function (text) {\r\n            if (styles.textDecorationLine.length || text.trim().length > 0) {\r\n                if (FEATURES.SUPPORT_RANGE_BOUNDS) {\r\n                    textBounds.push(new TextBounds(text, getRangeBounds(node, offset, text.length)));\r\n                }\r\n                else {\r\n                    var replacementNode = node.splitText(text.length);\r\n                    textBounds.push(new TextBounds(text, getWrapperBounds(node)));\r\n                    node = replacementNode;\r\n                }\r\n            }\r\n            else if (!FEATURES.SUPPORT_RANGE_BOUNDS) {\r\n                node = node.splitText(text.length);\r\n            }\r\n            offset += text.length;\r\n        });\r\n        return textBounds;\r\n    };\r\n    var getWrapperBounds = function (node) {\r\n        var ownerDocument = node.ownerDocument;\r\n        if (ownerDocument) {\r\n            var wrapper = ownerDocument.createElement('html2canvaswrapper');\r\n            wrapper.appendChild(node.cloneNode(true));\r\n            var parentNode = node.parentNode;\r\n            if (parentNode) {\r\n                parentNode.replaceChild(wrapper, node);\r\n                var bounds = parseBounds(wrapper);\r\n                if (wrapper.firstChild) {\r\n                    parentNode.replaceChild(wrapper.firstChild, wrapper);\r\n                }\r\n                return bounds;\r\n            }\r\n        }\r\n        return new Bounds(0, 0, 0, 0);\r\n    };\r\n    var getRangeBounds = function (node, offset, length) {\r\n        var ownerDocument = node.ownerDocument;\r\n        if (!ownerDocument) {\r\n            throw new Error('Node has no owner document');\r\n        }\r\n        var range = ownerDocument.createRange();\r\n        range.setStart(node, offset);\r\n        range.setEnd(node, offset + length);\r\n        return Bounds.fromClientRect(range.getBoundingClientRect());\r\n    };\r\n    var breakText = function (value, styles) {\r\n        return styles.letterSpacing !== 0 ? toCodePoints(value).map(function (i) { return fromCodePoint(i); }) : breakWords(value, styles);\r\n    };\r\n    var breakWords = function (str, styles) {\r\n        var breaker = LineBreaker(str, {\r\n            lineBreak: styles.lineBreak,\r\n            wordBreak: styles.overflowWrap === OVERFLOW_WRAP.BREAK_WORD ? 'break-word' : styles.wordBreak\r\n        });\r\n        var words = [];\r\n        var bk;\r\n        while (!(bk = breaker.next()).done) {\r\n            if (bk.value) {\r\n                words.push(bk.value.slice());\r\n            }\r\n        }\r\n        return words;\r\n    };\n\n    var TextContainer = /** @class */ (function () {\r\n        function TextContainer(node, styles) {\r\n            this.text = transform$1(node.data, styles.textTransform);\r\n            this.textBounds = parseTextBounds(this.text, styles, node);\r\n        }\r\n        return TextContainer;\r\n    }());\r\n    var transform$1 = function (text, transform) {\r\n        switch (transform) {\r\n            case TEXT_TRANSFORM.LOWERCASE:\r\n                return text.toLowerCase();\r\n            case TEXT_TRANSFORM.CAPITALIZE:\r\n                return text.replace(CAPITALIZE, capitalize);\r\n            case TEXT_TRANSFORM.UPPERCASE:\r\n                return text.toUpperCase();\r\n            default:\r\n                return text;\r\n        }\r\n    };\r\n    var CAPITALIZE = /(^|\\s|:|-|\\(|\\))([a-z])/g;\r\n    var capitalize = function (m, p1, p2) {\r\n        if (m.length > 0) {\r\n            return p1 + p2.toUpperCase();\r\n        }\r\n        return m;\r\n    };\n\n    var ImageElementContainer = /** @class */ (function (_super) {\r\n        __extends(ImageElementContainer, _super);\r\n        function ImageElementContainer(img) {\r\n            var _this = _super.call(this, img) || this;\r\n            _this.src = img.currentSrc || img.src;\r\n            _this.intrinsicWidth = img.naturalWidth;\r\n            _this.intrinsicHeight = img.naturalHeight;\r\n            CacheStorage.getInstance().addImage(_this.src);\r\n            return _this;\r\n        }\r\n        return ImageElementContainer;\r\n    }(ElementContainer));\n\n    var CanvasElementContainer = /** @class */ (function (_super) {\r\n        __extends(CanvasElementContainer, _super);\r\n        function CanvasElementContainer(canvas) {\r\n            var _this = _super.call(this, canvas) || this;\r\n            _this.canvas = canvas;\r\n            _this.intrinsicWidth = canvas.width;\r\n            _this.intrinsicHeight = canvas.height;\r\n            return _this;\r\n        }\r\n        return CanvasElementContainer;\r\n    }(ElementContainer));\n\n    var SVGElementContainer = /** @class */ (function (_super) {\r\n        __extends(SVGElementContainer, _super);\r\n        function SVGElementContainer(img) {\r\n            var _this = _super.call(this, img) || this;\r\n            var s = new XMLSerializer();\r\n            _this.svg = \"data:image/svg+xml,\" + encodeURIComponent(s.serializeToString(img));\r\n            _this.intrinsicWidth = img.width.baseVal.value;\r\n            _this.intrinsicHeight = img.height.baseVal.value;\r\n            CacheStorage.getInstance().addImage(_this.svg);\r\n            return _this;\r\n        }\r\n        return SVGElementContainer;\r\n    }(ElementContainer));\n\n    var LIElementContainer = /** @class */ (function (_super) {\r\n        __extends(LIElementContainer, _super);\r\n        function LIElementContainer(element) {\r\n            var _this = _super.call(this, element) || this;\r\n            _this.value = element.value;\r\n            return _this;\r\n        }\r\n        return LIElementContainer;\r\n    }(ElementContainer));\n\n    var OLElementContainer = /** @class */ (function (_super) {\r\n        __extends(OLElementContainer, _super);\r\n        function OLElementContainer(element) {\r\n            var _this = _super.call(this, element) || this;\r\n            _this.start = element.start;\r\n            _this.reversed = typeof element.reversed === 'boolean' && element.reversed === true;\r\n            return _this;\r\n        }\r\n        return OLElementContainer;\r\n    }(ElementContainer));\n\n    var CHECKBOX_BORDER_RADIUS = [\r\n        {\r\n            type: TokenType.DIMENSION_TOKEN,\r\n            flags: 0,\r\n            unit: 'px',\r\n            number: 3\r\n        }\r\n    ];\r\n    var RADIO_BORDER_RADIUS = [\r\n        {\r\n            type: TokenType.PERCENTAGE_TOKEN,\r\n            flags: 0,\r\n            number: 50\r\n        }\r\n    ];\r\n    var reformatInputBounds = function (bounds) {\r\n        if (bounds.width > bounds.height) {\r\n            return new Bounds(bounds.left + (bounds.width - bounds.height) / 2, bounds.top, bounds.height, bounds.height);\r\n        }\r\n        else if (bounds.width < bounds.height) {\r\n            return new Bounds(bounds.left, bounds.top + (bounds.height - bounds.width) / 2, bounds.width, bounds.width);\r\n        }\r\n        return bounds;\r\n    };\r\n    var getInputValue = function (node) {\r\n        var value = node.type === PASSWORD ? new Array(node.value.length + 1).join('\\u2022') : node.value;\r\n        return value.length === 0 ? node.placeholder || '' : value;\r\n    };\r\n    var CHECKBOX = 'checkbox';\r\n    var RADIO = 'radio';\r\n    var PASSWORD = 'password';\r\n    var INPUT_COLOR = 0x2a2a2aff;\r\n    var InputElementContainer = /** @class */ (function (_super) {\r\n        __extends(InputElementContainer, _super);\r\n        function InputElementContainer(input) {\r\n            var _this = _super.call(this, input) || this;\r\n            _this.type = input.type.toLowerCase();\r\n            _this.checked = input.checked;\r\n            _this.value = getInputValue(input);\r\n            if (_this.type === CHECKBOX || _this.type === RADIO) {\r\n                _this.styles.backgroundColor = 0xdededeff;\r\n                _this.styles.borderTopColor = _this.styles.borderRightColor = _this.styles.borderBottomColor = _this.styles.borderLeftColor = 0xa5a5a5ff;\r\n                _this.styles.borderTopWidth = _this.styles.borderRightWidth = _this.styles.borderBottomWidth = _this.styles.borderLeftWidth = 1;\r\n                _this.styles.borderTopStyle = _this.styles.borderRightStyle = _this.styles.borderBottomStyle = _this.styles.borderLeftStyle =\r\n                    BORDER_STYLE.SOLID;\r\n                _this.styles.backgroundClip = [BACKGROUND_CLIP.BORDER_BOX];\r\n                _this.styles.backgroundOrigin = [0 /* BORDER_BOX */];\r\n                _this.bounds = reformatInputBounds(_this.bounds);\r\n            }\r\n            switch (_this.type) {\r\n                case CHECKBOX:\r\n                    _this.styles.borderTopRightRadius = _this.styles.borderTopLeftRadius = _this.styles.borderBottomRightRadius = _this.styles.borderBottomLeftRadius = CHECKBOX_BORDER_RADIUS;\r\n                    break;\r\n                case RADIO:\r\n                    _this.styles.borderTopRightRadius = _this.styles.borderTopLeftRadius = _this.styles.borderBottomRightRadius = _this.styles.borderBottomLeftRadius = RADIO_BORDER_RADIUS;\r\n                    break;\r\n            }\r\n            return _this;\r\n        }\r\n        return InputElementContainer;\r\n    }(ElementContainer));\n\n    var SelectElementContainer = /** @class */ (function (_super) {\r\n        __extends(SelectElementContainer, _super);\r\n        function SelectElementContainer(element) {\r\n            var _this = _super.call(this, element) || this;\r\n            var option = element.options[element.selectedIndex || 0];\r\n            _this.value = option ? option.text || '' : '';\r\n            return _this;\r\n        }\r\n        return SelectElementContainer;\r\n    }(ElementContainer));\n\n    var TextareaElementContainer = /** @class */ (function (_super) {\r\n        __extends(TextareaElementContainer, _super);\r\n        function TextareaElementContainer(element) {\r\n            var _this = _super.call(this, element) || this;\r\n            _this.value = element.value;\r\n            return _this;\r\n        }\r\n        return TextareaElementContainer;\r\n    }(ElementContainer));\n\n    var parseColor = function (value) { return color.parse(Parser.create(value).parseComponentValue()); };\r\n    var IFrameElementContainer = /** @class */ (function (_super) {\r\n        __extends(IFrameElementContainer, _super);\r\n        function IFrameElementContainer(iframe) {\r\n            var _this = _super.call(this, iframe) || this;\r\n            _this.src = iframe.src;\r\n            _this.width = parseInt(iframe.width, 10) || 0;\r\n            _this.height = parseInt(iframe.height, 10) || 0;\r\n            _this.backgroundColor = _this.styles.backgroundColor;\r\n            try {\r\n                if (iframe.contentWindow &&\r\n                    iframe.contentWindow.document &&\r\n                    iframe.contentWindow.document.documentElement) {\r\n                    _this.tree = parseTree(iframe.contentWindow.document.documentElement);\r\n                    // http://www.w3.org/TR/css3-background/#special-backgrounds\r\n                    var documentBackgroundColor = iframe.contentWindow.document.documentElement\r\n                        ? parseColor(getComputedStyle(iframe.contentWindow.document.documentElement)\r\n                            .backgroundColor)\r\n                        : COLORS.TRANSPARENT;\r\n                    var bodyBackgroundColor = iframe.contentWindow.document.body\r\n                        ? parseColor(getComputedStyle(iframe.contentWindow.document.body).backgroundColor)\r\n                        : COLORS.TRANSPARENT;\r\n                    _this.backgroundColor = isTransparent(documentBackgroundColor)\r\n                        ? isTransparent(bodyBackgroundColor)\r\n                            ? _this.styles.backgroundColor\r\n                            : bodyBackgroundColor\r\n                        : documentBackgroundColor;\r\n                }\r\n            }\r\n            catch (e) { }\r\n            return _this;\r\n        }\r\n        return IFrameElementContainer;\r\n    }(ElementContainer));\n\n    var LIST_OWNERS = ['OL', 'UL', 'MENU'];\r\n    var parseNodeTree = function (node, parent, root) {\r\n        for (var childNode = node.firstChild, nextNode = void 0; childNode; childNode = nextNode) {\r\n            nextNode = childNode.nextSibling;\r\n            if (isTextNode(childNode) && childNode.data.trim().length > 0) {\r\n                parent.textNodes.push(new TextContainer(childNode, parent.styles));\r\n            }\r\n            else if (isElementNode(childNode)) {\r\n                var container = createContainer(childNode);\r\n                if (container.styles.isVisible()) {\r\n                    if (createsRealStackingContext(childNode, container, root)) {\r\n                        container.flags |= 4 /* CREATES_REAL_STACKING_CONTEXT */;\r\n                    }\r\n                    else if (createsStackingContext(container.styles)) {\r\n                        container.flags |= 2 /* CREATES_STACKING_CONTEXT */;\r\n                    }\r\n                    if (LIST_OWNERS.indexOf(childNode.tagName) !== -1) {\r\n                        container.flags |= 8 /* IS_LIST_OWNER */;\r\n                    }\r\n                    parent.elements.push(container);\r\n                    if (!isTextareaElement(childNode) && !isSVGElement(childNode) && !isSelectElement(childNode)) {\r\n                        parseNodeTree(childNode, container, root);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    var createContainer = function (element) {\r\n        if (isImageElement(element)) {\r\n            return new ImageElementContainer(element);\r\n        }\r\n        if (isCanvasElement(element)) {\r\n            return new CanvasElementContainer(element);\r\n        }\r\n        if (isSVGElement(element)) {\r\n            return new SVGElementContainer(element);\r\n        }\r\n        if (isLIElement(element)) {\r\n            return new LIElementContainer(element);\r\n        }\r\n        if (isOLElement(element)) {\r\n            return new OLElementContainer(element);\r\n        }\r\n        if (isInputElement(element)) {\r\n            return new InputElementContainer(element);\r\n        }\r\n        if (isSelectElement(element)) {\r\n            return new SelectElementContainer(element);\r\n        }\r\n        if (isTextareaElement(element)) {\r\n            return new TextareaElementContainer(element);\r\n        }\r\n        if (isIFrameElement(element)) {\r\n            return new IFrameElementContainer(element);\r\n        }\r\n        return new ElementContainer(element);\r\n    };\r\n    var parseTree = function (element) {\r\n        var container = createContainer(element);\r\n        container.flags |= 4 /* CREATES_REAL_STACKING_CONTEXT */;\r\n        parseNodeTree(element, container, container);\r\n        return container;\r\n    };\r\n    var createsRealStackingContext = function (node, container, root) {\r\n        return (container.styles.isPositionedWithZIndex() ||\r\n            container.styles.opacity < 1 ||\r\n            container.styles.isTransformed() ||\r\n            (isBodyElement(node) && root.styles.isTransparent()));\r\n    };\r\n    var createsStackingContext = function (styles) { return styles.isPositioned() || styles.isFloating(); };\r\n    var isTextNode = function (node) { return node.nodeType === Node.TEXT_NODE; };\r\n    var isElementNode = function (node) { return node.nodeType === Node.ELEMENT_NODE; };\r\n    var isHTMLElementNode = function (node) {\r\n        return isElementNode(node) && typeof node.style !== 'undefined' && !isSVGElementNode(node);\r\n    };\r\n    var isSVGElementNode = function (element) {\r\n        return typeof element.className === 'object';\r\n    };\r\n    var isLIElement = function (node) { return node.tagName === 'LI'; };\r\n    var isOLElement = function (node) { return node.tagName === 'OL'; };\r\n    var isInputElement = function (node) { return node.tagName === 'INPUT'; };\r\n    var isHTMLElement = function (node) { return node.tagName === 'HTML'; };\r\n    var isSVGElement = function (node) { return node.tagName === 'svg'; };\r\n    var isBodyElement = function (node) { return node.tagName === 'BODY'; };\r\n    var isCanvasElement = function (node) { return node.tagName === 'CANVAS'; };\r\n    var isImageElement = function (node) { return node.tagName === 'IMG'; };\r\n    var isIFrameElement = function (node) { return node.tagName === 'IFRAME'; };\r\n    var isStyleElement = function (node) { return node.tagName === 'STYLE'; };\r\n    var isScriptElement = function (node) { return node.tagName === 'SCRIPT'; };\r\n    var isTextareaElement = function (node) { return node.tagName === 'TEXTAREA'; };\r\n    var isSelectElement = function (node) { return node.tagName === 'SELECT'; };\n\n    var CounterState = /** @class */ (function () {\r\n        function CounterState() {\r\n            this.counters = {};\r\n        }\r\n        CounterState.prototype.getCounterValue = function (name) {\r\n            var counter = this.counters[name];\r\n            if (counter && counter.length) {\r\n                return counter[counter.length - 1];\r\n            }\r\n            return 1;\r\n        };\r\n        CounterState.prototype.getCounterValues = function (name) {\r\n            var counter = this.counters[name];\r\n            return counter ? counter : [];\r\n        };\r\n        CounterState.prototype.pop = function (counters) {\r\n            var _this = this;\r\n            counters.forEach(function (counter) { return _this.counters[counter].pop(); });\r\n        };\r\n        CounterState.prototype.parse = function (style) {\r\n            var _this = this;\r\n            var counterIncrement = style.counterIncrement;\r\n            var counterReset = style.counterReset;\r\n            var canReset = true;\r\n            if (counterIncrement !== null) {\r\n                counterIncrement.forEach(function (entry) {\r\n                    var counter = _this.counters[entry.counter];\r\n                    if (counter && entry.increment !== 0) {\r\n                        canReset = false;\r\n                        counter[Math.max(0, counter.length - 1)] += entry.increment;\r\n                    }\r\n                });\r\n            }\r\n            var counterNames = [];\r\n            if (canReset) {\r\n                counterReset.forEach(function (entry) {\r\n                    var counter = _this.counters[entry.counter];\r\n                    counterNames.push(entry.counter);\r\n                    if (!counter) {\r\n                        counter = _this.counters[entry.counter] = [];\r\n                    }\r\n                    counter.push(entry.reset);\r\n                });\r\n            }\r\n            return counterNames;\r\n        };\r\n        return CounterState;\r\n    }());\r\n    var ROMAN_UPPER = {\r\n        integers: [1000, 900, 500, 400, 100, 90, 50, 40, 10, 9, 5, 4, 1],\r\n        values: ['M', 'CM', 'D', 'CD', 'C', 'XC', 'L', 'XL', 'X', 'IX', 'V', 'IV', 'I']\r\n    };\r\n    var ARMENIAN = {\r\n        integers: [\r\n            9000,\r\n            8000,\r\n            7000,\r\n            6000,\r\n            5000,\r\n            4000,\r\n            3000,\r\n            2000,\r\n            1000,\r\n            900,\r\n            800,\r\n            700,\r\n            600,\r\n            500,\r\n            400,\r\n            300,\r\n            200,\r\n            100,\r\n            90,\r\n            80,\r\n            70,\r\n            60,\r\n            50,\r\n            40,\r\n            30,\r\n            20,\r\n            10,\r\n            9,\r\n            8,\r\n            7,\r\n            6,\r\n            5,\r\n            4,\r\n            3,\r\n            2,\r\n            1\r\n        ],\r\n        values: [\r\n            'Ք',\r\n            'Փ',\r\n            'Ւ',\r\n            'Ց',\r\n            'Ր',\r\n            'Տ',\r\n            'Վ',\r\n            'Ս',\r\n            'Ռ',\r\n            'Ջ',\r\n            'Պ',\r\n            'Չ',\r\n            'Ո',\r\n            'Շ',\r\n            'Ն',\r\n            'Յ',\r\n            'Մ',\r\n            'Ճ',\r\n            'Ղ',\r\n            'Ձ',\r\n            'Հ',\r\n            'Կ',\r\n            'Ծ',\r\n            'Խ',\r\n            'Լ',\r\n            'Ի',\r\n            'Ժ',\r\n            'Թ',\r\n            'Ը',\r\n            'Է',\r\n            'Զ',\r\n            'Ե',\r\n            'Դ',\r\n            'Գ',\r\n            'Բ',\r\n            'Ա'\r\n        ]\r\n    };\r\n    var HEBREW = {\r\n        integers: [\r\n            10000,\r\n            9000,\r\n            8000,\r\n            7000,\r\n            6000,\r\n            5000,\r\n            4000,\r\n            3000,\r\n            2000,\r\n            1000,\r\n            400,\r\n            300,\r\n            200,\r\n            100,\r\n            90,\r\n            80,\r\n            70,\r\n            60,\r\n            50,\r\n            40,\r\n            30,\r\n            20,\r\n            19,\r\n            18,\r\n            17,\r\n            16,\r\n            15,\r\n            10,\r\n            9,\r\n            8,\r\n            7,\r\n            6,\r\n            5,\r\n            4,\r\n            3,\r\n            2,\r\n            1\r\n        ],\r\n        values: [\r\n            'י׳',\r\n            'ט׳',\r\n            'ח׳',\r\n            'ז׳',\r\n            'ו׳',\r\n            'ה׳',\r\n            'ד׳',\r\n            'ג׳',\r\n            'ב׳',\r\n            'א׳',\r\n            'ת',\r\n            'ש',\r\n            'ר',\r\n            'ק',\r\n            'צ',\r\n            'פ',\r\n            'ע',\r\n            'ס',\r\n            'נ',\r\n            'מ',\r\n            'ל',\r\n            'כ',\r\n            'יט',\r\n            'יח',\r\n            'יז',\r\n            'טז',\r\n            'טו',\r\n            'י',\r\n            'ט',\r\n            'ח',\r\n            'ז',\r\n            'ו',\r\n            'ה',\r\n            'ד',\r\n            'ג',\r\n            'ב',\r\n            'א'\r\n        ]\r\n    };\r\n    var GEORGIAN = {\r\n        integers: [\r\n            10000,\r\n            9000,\r\n            8000,\r\n            7000,\r\n            6000,\r\n            5000,\r\n            4000,\r\n            3000,\r\n            2000,\r\n            1000,\r\n            900,\r\n            800,\r\n            700,\r\n            600,\r\n            500,\r\n            400,\r\n            300,\r\n            200,\r\n            100,\r\n            90,\r\n            80,\r\n            70,\r\n            60,\r\n            50,\r\n            40,\r\n            30,\r\n            20,\r\n            10,\r\n            9,\r\n            8,\r\n            7,\r\n            6,\r\n            5,\r\n            4,\r\n            3,\r\n            2,\r\n            1\r\n        ],\r\n        values: [\r\n            'ჵ',\r\n            'ჰ',\r\n            'ჯ',\r\n            'ჴ',\r\n            'ხ',\r\n            'ჭ',\r\n            'წ',\r\n            'ძ',\r\n            'ც',\r\n            'ჩ',\r\n            'შ',\r\n            'ყ',\r\n            'ღ',\r\n            'ქ',\r\n            'ფ',\r\n            'ჳ',\r\n            'ტ',\r\n            'ს',\r\n            'რ',\r\n            'ჟ',\r\n            'პ',\r\n            'ო',\r\n            'ჲ',\r\n            'ნ',\r\n            'მ',\r\n            'ლ',\r\n            'კ',\r\n            'ი',\r\n            'თ',\r\n            'ჱ',\r\n            'ზ',\r\n            'ვ',\r\n            'ე',\r\n            'დ',\r\n            'გ',\r\n            'ბ',\r\n            'ა'\r\n        ]\r\n    };\r\n    var createAdditiveCounter = function (value, min, max, symbols, fallback, suffix) {\r\n        if (value < min || value > max) {\r\n            return createCounterText(value, fallback, suffix.length > 0);\r\n        }\r\n        return (symbols.integers.reduce(function (string, integer, index) {\r\n            while (value >= integer) {\r\n                value -= integer;\r\n                string += symbols.values[index];\r\n            }\r\n            return string;\r\n        }, '') + suffix);\r\n    };\r\n    var createCounterStyleWithSymbolResolver = function (value, codePointRangeLength, isNumeric, resolver) {\r\n        var string = '';\r\n        do {\r\n            if (!isNumeric) {\r\n                value--;\r\n            }\r\n            string = resolver(value) + string;\r\n            value /= codePointRangeLength;\r\n        } while (value * codePointRangeLength >= codePointRangeLength);\r\n        return string;\r\n    };\r\n    var createCounterStyleFromRange = function (value, codePointRangeStart, codePointRangeEnd, isNumeric, suffix) {\r\n        var codePointRangeLength = codePointRangeEnd - codePointRangeStart + 1;\r\n        return ((value < 0 ? '-' : '') +\r\n            (createCounterStyleWithSymbolResolver(Math.abs(value), codePointRangeLength, isNumeric, function (codePoint) {\r\n                return fromCodePoint(Math.floor(codePoint % codePointRangeLength) + codePointRangeStart);\r\n            }) +\r\n                suffix));\r\n    };\r\n    var createCounterStyleFromSymbols = function (value, symbols, suffix) {\r\n        if (suffix === void 0) { suffix = '. '; }\r\n        var codePointRangeLength = symbols.length;\r\n        return (createCounterStyleWithSymbolResolver(Math.abs(value), codePointRangeLength, false, function (codePoint) { return symbols[Math.floor(codePoint % codePointRangeLength)]; }) + suffix);\r\n    };\r\n    var CJK_ZEROS = 1 << 0;\r\n    var CJK_TEN_COEFFICIENTS = 1 << 1;\r\n    var CJK_TEN_HIGH_COEFFICIENTS = 1 << 2;\r\n    var CJK_HUNDRED_COEFFICIENTS = 1 << 3;\r\n    var createCJKCounter = function (value, numbers, multipliers, negativeSign, suffix, flags) {\r\n        if (value < -9999 || value > 9999) {\r\n            return createCounterText(value, LIST_STYLE_TYPE.CJK_DECIMAL, suffix.length > 0);\r\n        }\r\n        var tmp = Math.abs(value);\r\n        var string = suffix;\r\n        if (tmp === 0) {\r\n            return numbers[0] + string;\r\n        }\r\n        for (var digit = 0; tmp > 0 && digit <= 4; digit++) {\r\n            var coefficient = tmp % 10;\r\n            if (coefficient === 0 && contains(flags, CJK_ZEROS) && string !== '') {\r\n                string = numbers[coefficient] + string;\r\n            }\r\n            else if (coefficient > 1 ||\r\n                (coefficient === 1 && digit === 0) ||\r\n                (coefficient === 1 && digit === 1 && contains(flags, CJK_TEN_COEFFICIENTS)) ||\r\n                (coefficient === 1 && digit === 1 && contains(flags, CJK_TEN_HIGH_COEFFICIENTS) && value > 100) ||\r\n                (coefficient === 1 && digit > 1 && contains(flags, CJK_HUNDRED_COEFFICIENTS))) {\r\n                string = numbers[coefficient] + (digit > 0 ? multipliers[digit - 1] : '') + string;\r\n            }\r\n            else if (coefficient === 1 && digit > 0) {\r\n                string = multipliers[digit - 1] + string;\r\n            }\r\n            tmp = Math.floor(tmp / 10);\r\n        }\r\n        return (value < 0 ? negativeSign : '') + string;\r\n    };\r\n    var CHINESE_INFORMAL_MULTIPLIERS = '十百千萬';\r\n    var CHINESE_FORMAL_MULTIPLIERS = '拾佰仟萬';\r\n    var JAPANESE_NEGATIVE = 'マイナス';\r\n    var KOREAN_NEGATIVE = '마이너스';\r\n    var createCounterText = function (value, type, appendSuffix) {\r\n        var defaultSuffix = appendSuffix ? '. ' : '';\r\n        var cjkSuffix = appendSuffix ? '、' : '';\r\n        var koreanSuffix = appendSuffix ? ', ' : '';\r\n        var spaceSuffix = appendSuffix ? ' ' : '';\r\n        switch (type) {\r\n            case LIST_STYLE_TYPE.DISC:\r\n                return '•' + spaceSuffix;\r\n            case LIST_STYLE_TYPE.CIRCLE:\r\n                return '◦' + spaceSuffix;\r\n            case LIST_STYLE_TYPE.SQUARE:\r\n                return '◾' + spaceSuffix;\r\n            case LIST_STYLE_TYPE.DECIMAL_LEADING_ZERO:\r\n                var string = createCounterStyleFromRange(value, 48, 57, true, defaultSuffix);\r\n                return string.length < 4 ? \"0\" + string : string;\r\n            case LIST_STYLE_TYPE.CJK_DECIMAL:\r\n                return createCounterStyleFromSymbols(value, '〇一二三四五六七八九', cjkSuffix);\r\n            case LIST_STYLE_TYPE.LOWER_ROMAN:\r\n                return createAdditiveCounter(value, 1, 3999, ROMAN_UPPER, LIST_STYLE_TYPE.DECIMAL, defaultSuffix).toLowerCase();\r\n            case LIST_STYLE_TYPE.UPPER_ROMAN:\r\n                return createAdditiveCounter(value, 1, 3999, ROMAN_UPPER, LIST_STYLE_TYPE.DECIMAL, defaultSuffix);\r\n            case LIST_STYLE_TYPE.LOWER_GREEK:\r\n                return createCounterStyleFromRange(value, 945, 969, false, defaultSuffix);\r\n            case LIST_STYLE_TYPE.LOWER_ALPHA:\r\n                return createCounterStyleFromRange(value, 97, 122, false, defaultSuffix);\r\n            case LIST_STYLE_TYPE.UPPER_ALPHA:\r\n                return createCounterStyleFromRange(value, 65, 90, false, defaultSuffix);\r\n            case LIST_STYLE_TYPE.ARABIC_INDIC:\r\n                return createCounterStyleFromRange(value, 1632, 1641, true, defaultSuffix);\r\n            case LIST_STYLE_TYPE.ARMENIAN:\r\n            case LIST_STYLE_TYPE.UPPER_ARMENIAN:\r\n                return createAdditiveCounter(value, 1, 9999, ARMENIAN, LIST_STYLE_TYPE.DECIMAL, defaultSuffix);\r\n            case LIST_STYLE_TYPE.LOWER_ARMENIAN:\r\n                return createAdditiveCounter(value, 1, 9999, ARMENIAN, LIST_STYLE_TYPE.DECIMAL, defaultSuffix).toLowerCase();\r\n            case LIST_STYLE_TYPE.BENGALI:\r\n                return createCounterStyleFromRange(value, 2534, 2543, true, defaultSuffix);\r\n            case LIST_STYLE_TYPE.CAMBODIAN:\r\n            case LIST_STYLE_TYPE.KHMER:\r\n                return createCounterStyleFromRange(value, 6112, 6121, true, defaultSuffix);\r\n            case LIST_STYLE_TYPE.CJK_EARTHLY_BRANCH:\r\n                return createCounterStyleFromSymbols(value, '子丑寅卯辰巳午未申酉戌亥', cjkSuffix);\r\n            case LIST_STYLE_TYPE.CJK_HEAVENLY_STEM:\r\n                return createCounterStyleFromSymbols(value, '甲乙丙丁戊己庚辛壬癸', cjkSuffix);\r\n            case LIST_STYLE_TYPE.CJK_IDEOGRAPHIC:\r\n            case LIST_STYLE_TYPE.TRAD_CHINESE_INFORMAL:\r\n                return createCJKCounter(value, '零一二三四五六七八九', CHINESE_INFORMAL_MULTIPLIERS, '負', cjkSuffix, CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS);\r\n            case LIST_STYLE_TYPE.TRAD_CHINESE_FORMAL:\r\n                return createCJKCounter(value, '零壹貳參肆伍陸柒捌玖', CHINESE_FORMAL_MULTIPLIERS, '負', cjkSuffix, CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS);\r\n            case LIST_STYLE_TYPE.SIMP_CHINESE_INFORMAL:\r\n                return createCJKCounter(value, '零一二三四五六七八九', CHINESE_INFORMAL_MULTIPLIERS, '负', cjkSuffix, CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS);\r\n            case LIST_STYLE_TYPE.SIMP_CHINESE_FORMAL:\r\n                return createCJKCounter(value, '零壹贰叁肆伍陆柒捌玖', CHINESE_FORMAL_MULTIPLIERS, '负', cjkSuffix, CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS);\r\n            case LIST_STYLE_TYPE.JAPANESE_INFORMAL:\r\n                return createCJKCounter(value, '〇一二三四五六七八九', '十百千万', JAPANESE_NEGATIVE, cjkSuffix, 0);\r\n            case LIST_STYLE_TYPE.JAPANESE_FORMAL:\r\n                return createCJKCounter(value, '零壱弐参四伍六七八九', '拾百千万', JAPANESE_NEGATIVE, cjkSuffix, CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS);\r\n            case LIST_STYLE_TYPE.KOREAN_HANGUL_FORMAL:\r\n                return createCJKCounter(value, '영일이삼사오육칠팔구', '십백천만', KOREAN_NEGATIVE, koreanSuffix, CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS);\r\n            case LIST_STYLE_TYPE.KOREAN_HANJA_INFORMAL:\r\n                return createCJKCounter(value, '零一二三四五六七八九', '十百千萬', KOREAN_NEGATIVE, koreanSuffix, 0);\r\n            case LIST_STYLE_TYPE.KOREAN_HANJA_FORMAL:\r\n                return createCJKCounter(value, '零壹貳參四五六七八九', '拾百千', KOREAN_NEGATIVE, koreanSuffix, CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS);\r\n            case LIST_STYLE_TYPE.DEVANAGARI:\r\n                return createCounterStyleFromRange(value, 0x966, 0x96f, true, defaultSuffix);\r\n            case LIST_STYLE_TYPE.GEORGIAN:\r\n                return createAdditiveCounter(value, 1, 19999, GEORGIAN, LIST_STYLE_TYPE.DECIMAL, defaultSuffix);\r\n            case LIST_STYLE_TYPE.GUJARATI:\r\n                return createCounterStyleFromRange(value, 0xae6, 0xaef, true, defaultSuffix);\r\n            case LIST_STYLE_TYPE.GURMUKHI:\r\n                return createCounterStyleFromRange(value, 0xa66, 0xa6f, true, defaultSuffix);\r\n            case LIST_STYLE_TYPE.HEBREW:\r\n                return createAdditiveCounter(value, 1, 10999, HEBREW, LIST_STYLE_TYPE.DECIMAL, defaultSuffix);\r\n            case LIST_STYLE_TYPE.HIRAGANA:\r\n                return createCounterStyleFromSymbols(value, 'あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん');\r\n            case LIST_STYLE_TYPE.HIRAGANA_IROHA:\r\n                return createCounterStyleFromSymbols(value, 'いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす');\r\n            case LIST_STYLE_TYPE.KANNADA:\r\n                return createCounterStyleFromRange(value, 0xce6, 0xcef, true, defaultSuffix);\r\n            case LIST_STYLE_TYPE.KATAKANA:\r\n                return createCounterStyleFromSymbols(value, 'アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン', cjkSuffix);\r\n            case LIST_STYLE_TYPE.KATAKANA_IROHA:\r\n                return createCounterStyleFromSymbols(value, 'イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス', cjkSuffix);\r\n            case LIST_STYLE_TYPE.LAO:\r\n                return createCounterStyleFromRange(value, 0xed0, 0xed9, true, defaultSuffix);\r\n            case LIST_STYLE_TYPE.MONGOLIAN:\r\n                return createCounterStyleFromRange(value, 0x1810, 0x1819, true, defaultSuffix);\r\n            case LIST_STYLE_TYPE.MYANMAR:\r\n                return createCounterStyleFromRange(value, 0x1040, 0x1049, true, defaultSuffix);\r\n            case LIST_STYLE_TYPE.ORIYA:\r\n                return createCounterStyleFromRange(value, 0xb66, 0xb6f, true, defaultSuffix);\r\n            case LIST_STYLE_TYPE.PERSIAN:\r\n                return createCounterStyleFromRange(value, 0x6f0, 0x6f9, true, defaultSuffix);\r\n            case LIST_STYLE_TYPE.TAMIL:\r\n                return createCounterStyleFromRange(value, 0xbe6, 0xbef, true, defaultSuffix);\r\n            case LIST_STYLE_TYPE.TELUGU:\r\n                return createCounterStyleFromRange(value, 0xc66, 0xc6f, true, defaultSuffix);\r\n            case LIST_STYLE_TYPE.THAI:\r\n                return createCounterStyleFromRange(value, 0xe50, 0xe59, true, defaultSuffix);\r\n            case LIST_STYLE_TYPE.TIBETAN:\r\n                return createCounterStyleFromRange(value, 0xf20, 0xf29, true, defaultSuffix);\r\n            case LIST_STYLE_TYPE.DECIMAL:\r\n            default:\r\n                return createCounterStyleFromRange(value, 48, 57, true, defaultSuffix);\r\n        }\r\n    };\n\n    var IGNORE_ATTRIBUTE = 'data-html2canvas-ignore';\r\n    var DocumentCloner = /** @class */ (function () {\r\n        function DocumentCloner(element, options) {\r\n            this.options = options;\r\n            this.scrolledElements = [];\r\n            this.referenceElement = element;\r\n            this.counters = new CounterState();\r\n            this.quoteDepth = 0;\r\n            if (!element.ownerDocument) {\r\n                throw new Error('Cloned element does not have an owner document');\r\n            }\r\n            this.documentElement = this.cloneNode(element.ownerDocument.documentElement);\r\n        }\r\n        DocumentCloner.prototype.toIFrame = function (ownerDocument, windowSize) {\r\n            var _this = this;\r\n            var iframe = createIFrameContainer(ownerDocument, windowSize);\r\n            if (!iframe.contentWindow) {\r\n                return Promise.reject(\"Unable to find iframe window\");\r\n            }\r\n            var scrollX = ownerDocument.defaultView.pageXOffset;\r\n            var scrollY = ownerDocument.defaultView.pageYOffset;\r\n            var cloneWindow = iframe.contentWindow;\r\n            var documentClone = cloneWindow.document;\r\n            /* Chrome doesn't detect relative background-images assigned in inline <style> sheets when fetched through getComputedStyle\r\n             if window url is about:blank, we can assign the url to current by writing onto the document\r\n             */\r\n            var iframeLoad = iframeLoader(iframe).then(function () { return __awaiter(_this, void 0, void 0, function () {\r\n                var onclone;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            this.scrolledElements.forEach(restoreNodeScroll);\r\n                            if (cloneWindow) {\r\n                                cloneWindow.scrollTo(windowSize.left, windowSize.top);\r\n                                if (/(iPad|iPhone|iPod)/g.test(navigator.userAgent) &&\r\n                                    (cloneWindow.scrollY !== windowSize.top || cloneWindow.scrollX !== windowSize.left)) {\r\n                                    documentClone.documentElement.style.top = -windowSize.top + 'px';\r\n                                    documentClone.documentElement.style.left = -windowSize.left + 'px';\r\n                                    documentClone.documentElement.style.position = 'absolute';\r\n                                }\r\n                            }\r\n                            onclone = this.options.onclone;\r\n                            if (typeof this.clonedReferenceElement === 'undefined') {\r\n                                return [2 /*return*/, Promise.reject(\"Error finding the \" + this.referenceElement.nodeName + \" in the cloned document\")];\r\n                            }\r\n                            if (!(documentClone.fonts && documentClone.fonts.ready)) return [3 /*break*/, 2];\r\n                            return [4 /*yield*/, documentClone.fonts.ready];\r\n                        case 1:\r\n                            _a.sent();\r\n                            _a.label = 2;\r\n                        case 2:\r\n                            if (typeof onclone === 'function') {\r\n                                return [2 /*return*/, Promise.resolve()\r\n                                        .then(function () { return onclone(documentClone); })\r\n                                        .then(function () { return iframe; })];\r\n                            }\r\n                            return [2 /*return*/, iframe];\r\n                    }\r\n                });\r\n            }); });\r\n            documentClone.open();\r\n            documentClone.write(serializeDoctype(document.doctype) + \"<html></html>\");\r\n            // Chrome scrolls the parent document for some reason after the write to the cloned window???\r\n            restoreOwnerScroll(this.referenceElement.ownerDocument, scrollX, scrollY);\r\n            documentClone.replaceChild(documentClone.adoptNode(this.documentElement), documentClone.documentElement);\r\n            documentClone.close();\r\n            return iframeLoad;\r\n        };\r\n        DocumentCloner.prototype.createElementClone = function (node) {\r\n            if (isCanvasElement(node)) {\r\n                return this.createCanvasClone(node);\r\n            }\r\n            /*\r\n            if (isIFrameElement(node)) {\r\n                return this.createIFrameClone(node);\r\n            }\r\n    */\r\n            if (isStyleElement(node)) {\r\n                return this.createStyleClone(node);\r\n            }\r\n            var clone = node.cloneNode(false);\r\n            // @ts-ignore\r\n            if (isImageElement(clone) && clone.loading === 'lazy') {\r\n                // @ts-ignore\r\n                clone.loading = 'eager';\r\n            }\r\n            return clone;\r\n        };\r\n        DocumentCloner.prototype.createStyleClone = function (node) {\r\n            try {\r\n                var sheet = node.sheet;\r\n                if (sheet && sheet.cssRules) {\r\n                    var css = [].slice.call(sheet.cssRules, 0).reduce(function (css, rule) {\r\n                        if (rule && typeof rule.cssText === 'string') {\r\n                            return css + rule.cssText;\r\n                        }\r\n                        return css;\r\n                    }, '');\r\n                    var style = node.cloneNode(false);\r\n                    style.textContent = css;\r\n                    return style;\r\n                }\r\n            }\r\n            catch (e) {\r\n                // accessing node.sheet.cssRules throws a DOMException\r\n                Logger.getInstance(this.options.id).error('Unable to access cssRules property', e);\r\n                if (e.name !== 'SecurityError') {\r\n                    throw e;\r\n                }\r\n            }\r\n            return node.cloneNode(false);\r\n        };\r\n        DocumentCloner.prototype.createCanvasClone = function (canvas) {\r\n            if (this.options.inlineImages && canvas.ownerDocument) {\r\n                var img = canvas.ownerDocument.createElement('img');\r\n                try {\r\n                    img.src = canvas.toDataURL();\r\n                    return img;\r\n                }\r\n                catch (e) {\r\n                    Logger.getInstance(this.options.id).info(\"Unable to clone canvas contents, canvas is tainted\");\r\n                }\r\n            }\r\n            var clonedCanvas = canvas.cloneNode(false);\r\n            try {\r\n                clonedCanvas.width = canvas.width;\r\n                clonedCanvas.height = canvas.height;\r\n                var ctx = canvas.getContext('2d');\r\n                var clonedCtx = clonedCanvas.getContext('2d');\r\n                if (clonedCtx) {\r\n                    if (ctx) {\r\n                        clonedCtx.putImageData(ctx.getImageData(0, 0, canvas.width, canvas.height), 0, 0);\r\n                    }\r\n                    else {\r\n                        clonedCtx.drawImage(canvas, 0, 0);\r\n                    }\r\n                }\r\n                return clonedCanvas;\r\n            }\r\n            catch (e) { }\r\n            return clonedCanvas;\r\n        };\r\n        /*\r\n        createIFrameClone(iframe: HTMLIFrameElement) {\r\n            const tempIframe = <HTMLIFrameElement>iframe.cloneNode(false);\r\n            const iframeKey = generateIframeKey();\r\n            tempIframe.setAttribute('data-html2canvas-internal-iframe-key', iframeKey);\r\n\n            const {width, height} = parseBounds(iframe);\r\n\n            this.resourceLoader.cache[iframeKey] = getIframeDocumentElement(iframe, this.options)\r\n                .then(documentElement => {\r\n                    return this.renderer(\r\n                        documentElement,\r\n                        {\r\n                            allowTaint: this.options.allowTaint,\r\n                            backgroundColor: '#ffffff',\r\n                            canvas: null,\r\n                            imageTimeout: this.options.imageTimeout,\r\n                            logging: this.options.logging,\r\n                            proxy: this.options.proxy,\r\n                            removeContainer: this.options.removeContainer,\r\n                            scale: this.options.scale,\r\n                            foreignObjectRendering: this.options.foreignObjectRendering,\r\n                            useCORS: this.options.useCORS,\r\n                            target: new CanvasRenderer(),\r\n                            width,\r\n                            height,\r\n                            x: 0,\r\n                            y: 0,\r\n                            windowWidth: documentElement.ownerDocument.defaultView.innerWidth,\r\n                            windowHeight: documentElement.ownerDocument.defaultView.innerHeight,\r\n                            scrollX: documentElement.ownerDocument.defaultView.pageXOffset,\r\n                            scrollY: documentElement.ownerDocument.defaultView.pageYOffset\r\n                        },\r\n                    );\r\n                })\r\n                .then(\r\n                    (canvas: HTMLCanvasElement) =>\r\n                        new Promise((resolve, reject) => {\r\n                            const iframeCanvas = document.createElement('img');\r\n                            iframeCanvas.onload = () => resolve(canvas);\r\n                            iframeCanvas.onerror = (event) => {\r\n                                // Empty iframes may result in empty \"data:,\" URLs, which are invalid from the <img>'s point of view\r\n                                // and instead of `onload` cause `onerror` and unhandled rejection warnings\r\n                                // https://github.com/niklasvh/html2canvas/issues/1502\r\n                                iframeCanvas.src == 'data:,' ? resolve(canvas) : reject(event);\r\n                            };\r\n                            iframeCanvas.src = canvas.toDataURL();\r\n                            if (tempIframe.parentNode && iframe.ownerDocument && iframe.ownerDocument.defaultView) {\r\n                                tempIframe.parentNode.replaceChild(\r\n                                    copyCSSStyles(\r\n                                        iframe.ownerDocument.defaultView.getComputedStyle(iframe),\r\n                                        iframeCanvas\r\n                                    ),\r\n                                    tempIframe\r\n                                );\r\n                            }\r\n                        })\r\n                );\r\n            return tempIframe;\r\n        }\r\n    */\r\n        DocumentCloner.prototype.cloneNode = function (node) {\r\n            if (isTextNode(node)) {\r\n                return document.createTextNode(node.data);\r\n            }\r\n            if (!node.ownerDocument) {\r\n                return node.cloneNode(false);\r\n            }\r\n            var window = node.ownerDocument.defaultView;\r\n            if (window && isElementNode(node) && (isHTMLElementNode(node) || isSVGElementNode(node))) {\r\n                var clone = this.createElementClone(node);\r\n                var style = window.getComputedStyle(node);\r\n                var styleBefore = window.getComputedStyle(node, ':before');\r\n                var styleAfter = window.getComputedStyle(node, ':after');\r\n                if (this.referenceElement === node && isHTMLElementNode(clone)) {\r\n                    this.clonedReferenceElement = clone;\r\n                }\r\n                if (isBodyElement(clone)) {\r\n                    createPseudoHideStyles(clone);\r\n                }\r\n                var counters = this.counters.parse(new CSSParsedCounterDeclaration(style));\r\n                var before = this.resolvePseudoContent(node, clone, styleBefore, PseudoElementType.BEFORE);\r\n                for (var child = node.firstChild; child; child = child.nextSibling) {\r\n                    if (!isElementNode(child) ||\r\n                        (!isScriptElement(child) &&\r\n                            !child.hasAttribute(IGNORE_ATTRIBUTE) &&\r\n                            (typeof this.options.ignoreElements !== 'function' || !this.options.ignoreElements(child)))) {\r\n                        if (!this.options.copyStyles || !isElementNode(child) || !isStyleElement(child)) {\r\n                            clone.appendChild(this.cloneNode(child));\r\n                        }\r\n                    }\r\n                }\r\n                if (before) {\r\n                    clone.insertBefore(before, clone.firstChild);\r\n                }\r\n                var after = this.resolvePseudoContent(node, clone, styleAfter, PseudoElementType.AFTER);\r\n                if (after) {\r\n                    clone.appendChild(after);\r\n                }\r\n                this.counters.pop(counters);\r\n                if (style && (this.options.copyStyles || isSVGElementNode(node)) && !isIFrameElement(node)) {\r\n                    copyCSSStyles(style, clone);\r\n                }\r\n                //this.inlineAllImages(clone);\r\n                if (node.scrollTop !== 0 || node.scrollLeft !== 0) {\r\n                    this.scrolledElements.push([clone, node.scrollLeft, node.scrollTop]);\r\n                }\r\n                if ((isTextareaElement(node) || isSelectElement(node)) &&\r\n                    (isTextareaElement(clone) || isSelectElement(clone))) {\r\n                    clone.value = node.value;\r\n                }\r\n                return clone;\r\n            }\r\n            return node.cloneNode(false);\r\n        };\r\n        DocumentCloner.prototype.resolvePseudoContent = function (node, clone, style, pseudoElt) {\r\n            var _this = this;\r\n            if (!style) {\r\n                return;\r\n            }\r\n            var value = style.content;\r\n            var document = clone.ownerDocument;\r\n            if (!document || !value || value === 'none' || value === '-moz-alt-content' || style.display === 'none') {\r\n                return;\r\n            }\r\n            this.counters.parse(new CSSParsedCounterDeclaration(style));\r\n            var declaration = new CSSParsedPseudoDeclaration(style);\r\n            var anonymousReplacedElement = document.createElement('html2canvaspseudoelement');\r\n            copyCSSStyles(style, anonymousReplacedElement);\r\n            declaration.content.forEach(function (token) {\r\n                if (token.type === TokenType.STRING_TOKEN) {\r\n                    anonymousReplacedElement.appendChild(document.createTextNode(token.value));\r\n                }\r\n                else if (token.type === TokenType.URL_TOKEN) {\r\n                    var img = document.createElement('img');\r\n                    img.src = token.value;\r\n                    img.style.opacity = '1';\r\n                    anonymousReplacedElement.appendChild(img);\r\n                }\r\n                else if (token.type === TokenType.FUNCTION) {\r\n                    if (token.name === 'attr') {\r\n                        var attr = token.values.filter(isIdentToken);\r\n                        if (attr.length) {\r\n                            anonymousReplacedElement.appendChild(document.createTextNode(node.getAttribute(attr[0].value) || ''));\r\n                        }\r\n                    }\r\n                    else if (token.name === 'counter') {\r\n                        var _a = token.values.filter(nonFunctionArgSeparator), counter = _a[0], counterStyle = _a[1];\r\n                        if (counter && isIdentToken(counter)) {\r\n                            var counterState = _this.counters.getCounterValue(counter.value);\r\n                            var counterType = counterStyle && isIdentToken(counterStyle)\r\n                                ? listStyleType.parse(counterStyle.value)\r\n                                : LIST_STYLE_TYPE.DECIMAL;\r\n                            anonymousReplacedElement.appendChild(document.createTextNode(createCounterText(counterState, counterType, false)));\r\n                        }\r\n                    }\r\n                    else if (token.name === 'counters') {\r\n                        var _b = token.values.filter(nonFunctionArgSeparator), counter = _b[0], delim = _b[1], counterStyle = _b[2];\r\n                        if (counter && isIdentToken(counter)) {\r\n                            var counterStates = _this.counters.getCounterValues(counter.value);\r\n                            var counterType_1 = counterStyle && isIdentToken(counterStyle)\r\n                                ? listStyleType.parse(counterStyle.value)\r\n                                : LIST_STYLE_TYPE.DECIMAL;\r\n                            var separator = delim && delim.type === TokenType.STRING_TOKEN ? delim.value : '';\r\n                            var text = counterStates\r\n                                .map(function (value) { return createCounterText(value, counterType_1, false); })\r\n                                .join(separator);\r\n                            anonymousReplacedElement.appendChild(document.createTextNode(text));\r\n                        }\r\n                    }\r\n                }\r\n                else if (token.type === TokenType.IDENT_TOKEN) {\r\n                    switch (token.value) {\r\n                        case 'open-quote':\r\n                            anonymousReplacedElement.appendChild(document.createTextNode(getQuote(declaration.quotes, _this.quoteDepth++, true)));\r\n                            break;\r\n                        case 'close-quote':\r\n                            anonymousReplacedElement.appendChild(document.createTextNode(getQuote(declaration.quotes, --_this.quoteDepth, false)));\r\n                            break;\r\n                        default:\r\n                            // safari doesn't parse string tokens correctly because of lack of quotes\r\n                            anonymousReplacedElement.appendChild(document.createTextNode(token.value));\r\n                    }\r\n                }\r\n            });\r\n            anonymousReplacedElement.className = PSEUDO_HIDE_ELEMENT_CLASS_BEFORE + \" \" + PSEUDO_HIDE_ELEMENT_CLASS_AFTER;\r\n            var newClassName = pseudoElt === PseudoElementType.BEFORE\r\n                ? \" \" + PSEUDO_HIDE_ELEMENT_CLASS_BEFORE\r\n                : \" \" + PSEUDO_HIDE_ELEMENT_CLASS_AFTER;\r\n            if (isSVGElementNode(clone)) {\r\n                clone.className.baseValue += newClassName;\r\n            }\r\n            else {\r\n                clone.className += newClassName;\r\n            }\r\n            return anonymousReplacedElement;\r\n        };\r\n        DocumentCloner.destroy = function (container) {\r\n            if (container.parentNode) {\r\n                container.parentNode.removeChild(container);\r\n                return true;\r\n            }\r\n            return false;\r\n        };\r\n        return DocumentCloner;\r\n    }());\r\n    var PseudoElementType;\r\n    (function (PseudoElementType) {\r\n        PseudoElementType[PseudoElementType[\"BEFORE\"] = 0] = \"BEFORE\";\r\n        PseudoElementType[PseudoElementType[\"AFTER\"] = 1] = \"AFTER\";\r\n    })(PseudoElementType || (PseudoElementType = {}));\r\n    var createIFrameContainer = function (ownerDocument, bounds) {\r\n        var cloneIframeContainer = ownerDocument.createElement('iframe');\r\n        cloneIframeContainer.className = 'html2canvas-container';\r\n        cloneIframeContainer.style.visibility = 'hidden';\r\n        cloneIframeContainer.style.position = 'fixed';\r\n        cloneIframeContainer.style.left = '-10000px';\r\n        cloneIframeContainer.style.top = '0px';\r\n        cloneIframeContainer.style.border = '0';\r\n        cloneIframeContainer.width = bounds.width.toString();\r\n        cloneIframeContainer.height = bounds.height.toString();\r\n        cloneIframeContainer.scrolling = 'no'; // ios won't scroll without it\r\n        cloneIframeContainer.setAttribute(IGNORE_ATTRIBUTE, 'true');\r\n        ownerDocument.body.appendChild(cloneIframeContainer);\r\n        return cloneIframeContainer;\r\n    };\r\n    var iframeLoader = function (iframe) {\r\n        return new Promise(function (resolve, reject) {\r\n            var cloneWindow = iframe.contentWindow;\r\n            if (!cloneWindow) {\r\n                return reject(\"No window assigned for iframe\");\r\n            }\r\n            var documentClone = cloneWindow.document;\r\n            cloneWindow.onload = iframe.onload = documentClone.onreadystatechange = function () {\r\n                cloneWindow.onload = iframe.onload = documentClone.onreadystatechange = null;\r\n                var interval = setInterval(function () {\r\n                    if (documentClone.body.childNodes.length > 0 && documentClone.readyState === 'complete') {\r\n                        clearInterval(interval);\r\n                        resolve(iframe);\r\n                    }\r\n                }, 50);\r\n            };\r\n        });\r\n    };\r\n    var copyCSSStyles = function (style, target) {\r\n        // Edge does not provide value for cssText\r\n        for (var i = style.length - 1; i >= 0; i--) {\r\n            var property = style.item(i);\r\n            // Safari shows pseudoelements if content is set\r\n            if (property !== 'content') {\r\n                target.style.setProperty(property, style.getPropertyValue(property));\r\n            }\r\n        }\r\n        return target;\r\n    };\r\n    var serializeDoctype = function (doctype) {\r\n        var str = '';\r\n        if (doctype) {\r\n            str += '<!DOCTYPE ';\r\n            if (doctype.name) {\r\n                str += doctype.name;\r\n            }\r\n            if (doctype.internalSubset) {\r\n                str += doctype.internalSubset;\r\n            }\r\n            if (doctype.publicId) {\r\n                str += \"\\\"\" + doctype.publicId + \"\\\"\";\r\n            }\r\n            if (doctype.systemId) {\r\n                str += \"\\\"\" + doctype.systemId + \"\\\"\";\r\n            }\r\n            str += '>';\r\n        }\r\n        return str;\r\n    };\r\n    var restoreOwnerScroll = function (ownerDocument, x, y) {\r\n        if (ownerDocument &&\r\n            ownerDocument.defaultView &&\r\n            (x !== ownerDocument.defaultView.pageXOffset || y !== ownerDocument.defaultView.pageYOffset)) {\r\n            ownerDocument.defaultView.scrollTo(x, y);\r\n        }\r\n    };\r\n    var restoreNodeScroll = function (_a) {\r\n        var element = _a[0], x = _a[1], y = _a[2];\r\n        element.scrollLeft = x;\r\n        element.scrollTop = y;\r\n    };\r\n    var PSEUDO_BEFORE = ':before';\r\n    var PSEUDO_AFTER = ':after';\r\n    var PSEUDO_HIDE_ELEMENT_CLASS_BEFORE = '___html2canvas___pseudoelement_before';\r\n    var PSEUDO_HIDE_ELEMENT_CLASS_AFTER = '___html2canvas___pseudoelement_after';\r\n    var PSEUDO_HIDE_ELEMENT_STYLE = \"{\\n    content: \\\"\\\" !important;\\n    display: none !important;\\n}\";\r\n    var createPseudoHideStyles = function (body) {\r\n        createStyles(body, \".\" + PSEUDO_HIDE_ELEMENT_CLASS_BEFORE + PSEUDO_BEFORE + PSEUDO_HIDE_ELEMENT_STYLE + \"\\n         .\" + PSEUDO_HIDE_ELEMENT_CLASS_AFTER + PSEUDO_AFTER + PSEUDO_HIDE_ELEMENT_STYLE);\r\n    };\r\n    var createStyles = function (body, styles) {\r\n        var document = body.ownerDocument;\r\n        if (document) {\r\n            var style = document.createElement('style');\r\n            style.textContent = styles;\r\n            body.appendChild(style);\r\n        }\r\n    };\n\n    var PathType;\r\n    (function (PathType) {\r\n        PathType[PathType[\"VECTOR\"] = 0] = \"VECTOR\";\r\n        PathType[PathType[\"BEZIER_CURVE\"] = 1] = \"BEZIER_CURVE\";\r\n    })(PathType || (PathType = {}));\r\n    var equalPath = function (a, b) {\r\n        if (a.length === b.length) {\r\n            return a.some(function (v, i) { return v === b[i]; });\r\n        }\r\n        return false;\r\n    };\r\n    var transformPath = function (path, deltaX, deltaY, deltaW, deltaH) {\r\n        return path.map(function (point, index) {\r\n            switch (index) {\r\n                case 0:\r\n                    return point.add(deltaX, deltaY);\r\n                case 1:\r\n                    return point.add(deltaX + deltaW, deltaY);\r\n                case 2:\r\n                    return point.add(deltaX + deltaW, deltaY + deltaH);\r\n                case 3:\r\n                    return point.add(deltaX, deltaY + deltaH);\r\n            }\r\n            return point;\r\n        });\r\n    };\n\n    var Vector = /** @class */ (function () {\r\n        function Vector(x, y) {\r\n            this.type = PathType.VECTOR;\r\n            this.x = x;\r\n            this.y = y;\r\n        }\r\n        Vector.prototype.add = function (deltaX, deltaY) {\r\n            return new Vector(this.x + deltaX, this.y + deltaY);\r\n        };\r\n        return Vector;\r\n    }());\n\n    var lerp = function (a, b, t) {\r\n        return new Vector(a.x + (b.x - a.x) * t, a.y + (b.y - a.y) * t);\r\n    };\r\n    var BezierCurve = /** @class */ (function () {\r\n        function BezierCurve(start, startControl, endControl, end) {\r\n            this.type = PathType.BEZIER_CURVE;\r\n            this.start = start;\r\n            this.startControl = startControl;\r\n            this.endControl = endControl;\r\n            this.end = end;\r\n        }\r\n        BezierCurve.prototype.subdivide = function (t, firstHalf) {\r\n            var ab = lerp(this.start, this.startControl, t);\r\n            var bc = lerp(this.startControl, this.endControl, t);\r\n            var cd = lerp(this.endControl, this.end, t);\r\n            var abbc = lerp(ab, bc, t);\r\n            var bccd = lerp(bc, cd, t);\r\n            var dest = lerp(abbc, bccd, t);\r\n            return firstHalf ? new BezierCurve(this.start, ab, abbc, dest) : new BezierCurve(dest, bccd, cd, this.end);\r\n        };\r\n        BezierCurve.prototype.add = function (deltaX, deltaY) {\r\n            return new BezierCurve(this.start.add(deltaX, deltaY), this.startControl.add(deltaX, deltaY), this.endControl.add(deltaX, deltaY), this.end.add(deltaX, deltaY));\r\n        };\r\n        BezierCurve.prototype.reverse = function () {\r\n            return new BezierCurve(this.end, this.endControl, this.startControl, this.start);\r\n        };\r\n        return BezierCurve;\r\n    }());\r\n    var isBezierCurve = function (path) { return path.type === PathType.BEZIER_CURVE; };\n\n    var BoundCurves = /** @class */ (function () {\r\n        function BoundCurves(element) {\r\n            var styles = element.styles;\r\n            var bounds = element.bounds;\r\n            var _a = getAbsoluteValueForTuple(styles.borderTopLeftRadius, bounds.width, bounds.height), tlh = _a[0], tlv = _a[1];\r\n            var _b = getAbsoluteValueForTuple(styles.borderTopRightRadius, bounds.width, bounds.height), trh = _b[0], trv = _b[1];\r\n            var _c = getAbsoluteValueForTuple(styles.borderBottomRightRadius, bounds.width, bounds.height), brh = _c[0], brv = _c[1];\r\n            var _d = getAbsoluteValueForTuple(styles.borderBottomLeftRadius, bounds.width, bounds.height), blh = _d[0], blv = _d[1];\r\n            var factors = [];\r\n            factors.push((tlh + trh) / bounds.width);\r\n            factors.push((blh + brh) / bounds.width);\r\n            factors.push((tlv + blv) / bounds.height);\r\n            factors.push((trv + brv) / bounds.height);\r\n            var maxFactor = Math.max.apply(Math, factors);\r\n            if (maxFactor > 1) {\r\n                tlh /= maxFactor;\r\n                tlv /= maxFactor;\r\n                trh /= maxFactor;\r\n                trv /= maxFactor;\r\n                brh /= maxFactor;\r\n                brv /= maxFactor;\r\n                blh /= maxFactor;\r\n                blv /= maxFactor;\r\n            }\r\n            var topWidth = bounds.width - trh;\r\n            var rightHeight = bounds.height - brv;\r\n            var bottomWidth = bounds.width - brh;\r\n            var leftHeight = bounds.height - blv;\r\n            var borderTopWidth = styles.borderTopWidth;\r\n            var borderRightWidth = styles.borderRightWidth;\r\n            var borderBottomWidth = styles.borderBottomWidth;\r\n            var borderLeftWidth = styles.borderLeftWidth;\r\n            var paddingTop = getAbsoluteValue(styles.paddingTop, element.bounds.width);\r\n            var paddingRight = getAbsoluteValue(styles.paddingRight, element.bounds.width);\r\n            var paddingBottom = getAbsoluteValue(styles.paddingBottom, element.bounds.width);\r\n            var paddingLeft = getAbsoluteValue(styles.paddingLeft, element.bounds.width);\r\n            this.topLeftBorderBox =\r\n                tlh > 0 || tlv > 0\r\n                    ? getCurvePoints(bounds.left, bounds.top, tlh, tlv, CORNER.TOP_LEFT)\r\n                    : new Vector(bounds.left, bounds.top);\r\n            this.topRightBorderBox =\r\n                trh > 0 || trv > 0\r\n                    ? getCurvePoints(bounds.left + topWidth, bounds.top, trh, trv, CORNER.TOP_RIGHT)\r\n                    : new Vector(bounds.left + bounds.width, bounds.top);\r\n            this.bottomRightBorderBox =\r\n                brh > 0 || brv > 0\r\n                    ? getCurvePoints(bounds.left + bottomWidth, bounds.top + rightHeight, brh, brv, CORNER.BOTTOM_RIGHT)\r\n                    : new Vector(bounds.left + bounds.width, bounds.top + bounds.height);\r\n            this.bottomLeftBorderBox =\r\n                blh > 0 || blv > 0\r\n                    ? getCurvePoints(bounds.left, bounds.top + leftHeight, blh, blv, CORNER.BOTTOM_LEFT)\r\n                    : new Vector(bounds.left, bounds.top + bounds.height);\r\n            this.topLeftPaddingBox =\r\n                tlh > 0 || tlv > 0\r\n                    ? getCurvePoints(bounds.left + borderLeftWidth, bounds.top + borderTopWidth, Math.max(0, tlh - borderLeftWidth), Math.max(0, tlv - borderTopWidth), CORNER.TOP_LEFT)\r\n                    : new Vector(bounds.left + borderLeftWidth, bounds.top + borderTopWidth);\r\n            this.topRightPaddingBox =\r\n                trh > 0 || trv > 0\r\n                    ? getCurvePoints(bounds.left + Math.min(topWidth, bounds.width + borderLeftWidth), bounds.top + borderTopWidth, topWidth > bounds.width + borderLeftWidth ? 0 : trh - borderLeftWidth, trv - borderTopWidth, CORNER.TOP_RIGHT)\r\n                    : new Vector(bounds.left + bounds.width - borderRightWidth, bounds.top + borderTopWidth);\r\n            this.bottomRightPaddingBox =\r\n                brh > 0 || brv > 0\r\n                    ? getCurvePoints(bounds.left + Math.min(bottomWidth, bounds.width - borderLeftWidth), bounds.top + Math.min(rightHeight, bounds.height + borderTopWidth), Math.max(0, brh - borderRightWidth), brv - borderBottomWidth, CORNER.BOTTOM_RIGHT)\r\n                    : new Vector(bounds.left + bounds.width - borderRightWidth, bounds.top + bounds.height - borderBottomWidth);\r\n            this.bottomLeftPaddingBox =\r\n                blh > 0 || blv > 0\r\n                    ? getCurvePoints(bounds.left + borderLeftWidth, bounds.top + leftHeight, Math.max(0, blh - borderLeftWidth), blv - borderBottomWidth, CORNER.BOTTOM_LEFT)\r\n                    : new Vector(bounds.left + borderLeftWidth, bounds.top + bounds.height - borderBottomWidth);\r\n            this.topLeftContentBox =\r\n                tlh > 0 || tlv > 0\r\n                    ? getCurvePoints(bounds.left + borderLeftWidth + paddingLeft, bounds.top + borderTopWidth + paddingTop, Math.max(0, tlh - (borderLeftWidth + paddingLeft)), Math.max(0, tlv - (borderTopWidth + paddingTop)), CORNER.TOP_LEFT)\r\n                    : new Vector(bounds.left + borderLeftWidth + paddingLeft, bounds.top + borderTopWidth + paddingTop);\r\n            this.topRightContentBox =\r\n                trh > 0 || trv > 0\r\n                    ? getCurvePoints(bounds.left + Math.min(topWidth, bounds.width + borderLeftWidth + paddingLeft), bounds.top + borderTopWidth + paddingTop, topWidth > bounds.width + borderLeftWidth + paddingLeft ? 0 : trh - borderLeftWidth + paddingLeft, trv - (borderTopWidth + paddingTop), CORNER.TOP_RIGHT)\r\n                    : new Vector(bounds.left + bounds.width - (borderRightWidth + paddingRight), bounds.top + borderTopWidth + paddingTop);\r\n            this.bottomRightContentBox =\r\n                brh > 0 || brv > 0\r\n                    ? getCurvePoints(bounds.left + Math.min(bottomWidth, bounds.width - (borderLeftWidth + paddingLeft)), bounds.top + Math.min(rightHeight, bounds.height + borderTopWidth + paddingTop), Math.max(0, brh - (borderRightWidth + paddingRight)), brv - (borderBottomWidth + paddingBottom), CORNER.BOTTOM_RIGHT)\r\n                    : new Vector(bounds.left + bounds.width - (borderRightWidth + paddingRight), bounds.top + bounds.height - (borderBottomWidth + paddingBottom));\r\n            this.bottomLeftContentBox =\r\n                blh > 0 || blv > 0\r\n                    ? getCurvePoints(bounds.left + borderLeftWidth + paddingLeft, bounds.top + leftHeight, Math.max(0, blh - (borderLeftWidth + paddingLeft)), blv - (borderBottomWidth + paddingBottom), CORNER.BOTTOM_LEFT)\r\n                    : new Vector(bounds.left + borderLeftWidth + paddingLeft, bounds.top + bounds.height - (borderBottomWidth + paddingBottom));\r\n        }\r\n        return BoundCurves;\r\n    }());\r\n    var CORNER;\r\n    (function (CORNER) {\r\n        CORNER[CORNER[\"TOP_LEFT\"] = 0] = \"TOP_LEFT\";\r\n        CORNER[CORNER[\"TOP_RIGHT\"] = 1] = \"TOP_RIGHT\";\r\n        CORNER[CORNER[\"BOTTOM_RIGHT\"] = 2] = \"BOTTOM_RIGHT\";\r\n        CORNER[CORNER[\"BOTTOM_LEFT\"] = 3] = \"BOTTOM_LEFT\";\r\n    })(CORNER || (CORNER = {}));\r\n    var getCurvePoints = function (x, y, r1, r2, position) {\r\n        var kappa = 4 * ((Math.sqrt(2) - 1) / 3);\r\n        var ox = r1 * kappa; // control point offset horizontal\r\n        var oy = r2 * kappa; // control point offset vertical\r\n        var xm = x + r1; // x-middle\r\n        var ym = y + r2; // y-middle\r\n        switch (position) {\r\n            case CORNER.TOP_LEFT:\r\n                return new BezierCurve(new Vector(x, ym), new Vector(x, ym - oy), new Vector(xm - ox, y), new Vector(xm, y));\r\n            case CORNER.TOP_RIGHT:\r\n                return new BezierCurve(new Vector(x, y), new Vector(x + ox, y), new Vector(xm, ym - oy), new Vector(xm, ym));\r\n            case CORNER.BOTTOM_RIGHT:\r\n                return new BezierCurve(new Vector(xm, y), new Vector(xm, y + oy), new Vector(x + ox, ym), new Vector(x, ym));\r\n            case CORNER.BOTTOM_LEFT:\r\n            default:\r\n                return new BezierCurve(new Vector(xm, ym), new Vector(xm - ox, ym), new Vector(x, y + oy), new Vector(x, y));\r\n        }\r\n    };\r\n    var calculateBorderBoxPath = function (curves) {\r\n        return [curves.topLeftBorderBox, curves.topRightBorderBox, curves.bottomRightBorderBox, curves.bottomLeftBorderBox];\r\n    };\r\n    var calculateContentBoxPath = function (curves) {\r\n        return [\r\n            curves.topLeftContentBox,\r\n            curves.topRightContentBox,\r\n            curves.bottomRightContentBox,\r\n            curves.bottomLeftContentBox\r\n        ];\r\n    };\r\n    var calculatePaddingBoxPath = function (curves) {\r\n        return [\r\n            curves.topLeftPaddingBox,\r\n            curves.topRightPaddingBox,\r\n            curves.bottomRightPaddingBox,\r\n            curves.bottomLeftPaddingBox\r\n        ];\r\n    };\n\n    var TransformEffect = /** @class */ (function () {\r\n        function TransformEffect(offsetX, offsetY, matrix) {\r\n            this.type = 0 /* TRANSFORM */;\r\n            this.offsetX = offsetX;\r\n            this.offsetY = offsetY;\r\n            this.matrix = matrix;\r\n            this.target = 2 /* BACKGROUND_BORDERS */ | 4 /* CONTENT */;\r\n        }\r\n        return TransformEffect;\r\n    }());\r\n    var ClipEffect = /** @class */ (function () {\r\n        function ClipEffect(path, target) {\r\n            this.type = 1 /* CLIP */;\r\n            this.target = target;\r\n            this.path = path;\r\n        }\r\n        return ClipEffect;\r\n    }());\r\n    var isTransformEffect = function (effect) {\r\n        return effect.type === 0 /* TRANSFORM */;\r\n    };\r\n    var isClipEffect = function (effect) { return effect.type === 1 /* CLIP */; };\n\n    var StackingContext = /** @class */ (function () {\r\n        function StackingContext(container) {\r\n            this.element = container;\r\n            this.inlineLevel = [];\r\n            this.nonInlineLevel = [];\r\n            this.negativeZIndex = [];\r\n            this.zeroOrAutoZIndexOrTransformedOrOpacity = [];\r\n            this.positiveZIndex = [];\r\n            this.nonPositionedFloats = [];\r\n            this.nonPositionedInlineLevel = [];\r\n        }\r\n        return StackingContext;\r\n    }());\r\n    var ElementPaint = /** @class */ (function () {\r\n        function ElementPaint(element, parentStack) {\r\n            this.container = element;\r\n            this.effects = parentStack.slice(0);\r\n            this.curves = new BoundCurves(element);\r\n            if (element.styles.transform !== null) {\r\n                var offsetX = element.bounds.left + element.styles.transformOrigin[0].number;\r\n                var offsetY = element.bounds.top + element.styles.transformOrigin[1].number;\r\n                var matrix = element.styles.transform;\r\n                this.effects.push(new TransformEffect(offsetX, offsetY, matrix));\r\n            }\r\n            if (element.styles.overflowX !== OVERFLOW.VISIBLE) {\r\n                var borderBox = calculateBorderBoxPath(this.curves);\r\n                var paddingBox = calculatePaddingBoxPath(this.curves);\r\n                if (equalPath(borderBox, paddingBox)) {\r\n                    this.effects.push(new ClipEffect(borderBox, 2 /* BACKGROUND_BORDERS */ | 4 /* CONTENT */));\r\n                }\r\n                else {\r\n                    this.effects.push(new ClipEffect(borderBox, 2 /* BACKGROUND_BORDERS */));\r\n                    this.effects.push(new ClipEffect(paddingBox, 4 /* CONTENT */));\r\n                }\r\n            }\r\n        }\r\n        ElementPaint.prototype.getParentEffects = function () {\r\n            var effects = this.effects.slice(0);\r\n            if (this.container.styles.overflowX !== OVERFLOW.VISIBLE) {\r\n                var borderBox = calculateBorderBoxPath(this.curves);\r\n                var paddingBox = calculatePaddingBoxPath(this.curves);\r\n                if (!equalPath(borderBox, paddingBox)) {\r\n                    effects.push(new ClipEffect(paddingBox, 2 /* BACKGROUND_BORDERS */ | 4 /* CONTENT */));\r\n                }\r\n            }\r\n            return effects;\r\n        };\r\n        return ElementPaint;\r\n    }());\r\n    var parseStackTree = function (parent, stackingContext, realStackingContext, listItems) {\r\n        parent.container.elements.forEach(function (child) {\r\n            var treatAsRealStackingContext = contains(child.flags, 4 /* CREATES_REAL_STACKING_CONTEXT */);\r\n            var createsStackingContext = contains(child.flags, 2 /* CREATES_STACKING_CONTEXT */);\r\n            var paintContainer = new ElementPaint(child, parent.getParentEffects());\r\n            if (contains(child.styles.display, 2048 /* LIST_ITEM */)) {\r\n                listItems.push(paintContainer);\r\n            }\r\n            var listOwnerItems = contains(child.flags, 8 /* IS_LIST_OWNER */) ? [] : listItems;\r\n            if (treatAsRealStackingContext || createsStackingContext) {\r\n                var parentStack = treatAsRealStackingContext || child.styles.isPositioned() ? realStackingContext : stackingContext;\r\n                var stack = new StackingContext(paintContainer);\r\n                if (child.styles.isPositioned() || child.styles.opacity < 1 || child.styles.isTransformed()) {\r\n                    var order_1 = child.styles.zIndex.order;\r\n                    if (order_1 < 0) {\r\n                        var index_1 = 0;\r\n                        parentStack.negativeZIndex.some(function (current, i) {\r\n                            if (order_1 > current.element.container.styles.zIndex.order) {\r\n                                index_1 = i;\r\n                                return false;\r\n                            }\r\n                            else if (index_1 > 0) {\r\n                                return true;\r\n                            }\r\n                            return false;\r\n                        });\r\n                        parentStack.negativeZIndex.splice(index_1, 0, stack);\r\n                    }\r\n                    else if (order_1 > 0) {\r\n                        var index_2 = 0;\r\n                        parentStack.positiveZIndex.some(function (current, i) {\r\n                            if (order_1 >= current.element.container.styles.zIndex.order) {\r\n                                index_2 = i + 1;\r\n                                return false;\r\n                            }\r\n                            else if (index_2 > 0) {\r\n                                return true;\r\n                            }\r\n                            return false;\r\n                        });\r\n                        parentStack.positiveZIndex.splice(index_2, 0, stack);\r\n                    }\r\n                    else {\r\n                        parentStack.zeroOrAutoZIndexOrTransformedOrOpacity.push(stack);\r\n                    }\r\n                }\r\n                else {\r\n                    if (child.styles.isFloating()) {\r\n                        parentStack.nonPositionedFloats.push(stack);\r\n                    }\r\n                    else {\r\n                        parentStack.nonPositionedInlineLevel.push(stack);\r\n                    }\r\n                }\r\n                parseStackTree(paintContainer, stack, treatAsRealStackingContext ? stack : realStackingContext, listOwnerItems);\r\n            }\r\n            else {\r\n                if (child.styles.isInlineLevel()) {\r\n                    stackingContext.inlineLevel.push(paintContainer);\r\n                }\r\n                else {\r\n                    stackingContext.nonInlineLevel.push(paintContainer);\r\n                }\r\n                parseStackTree(paintContainer, stackingContext, realStackingContext, listOwnerItems);\r\n            }\r\n            if (contains(child.flags, 8 /* IS_LIST_OWNER */)) {\r\n                processListItems(child, listOwnerItems);\r\n            }\r\n        });\r\n    };\r\n    var processListItems = function (owner, elements) {\r\n        var numbering = owner instanceof OLElementContainer ? owner.start : 1;\r\n        var reversed = owner instanceof OLElementContainer ? owner.reversed : false;\r\n        for (var i = 0; i < elements.length; i++) {\r\n            var item = elements[i];\r\n            if (item.container instanceof LIElementContainer &&\r\n                typeof item.container.value === 'number' &&\r\n                item.container.value !== 0) {\r\n                numbering = item.container.value;\r\n            }\r\n            item.listValue = createCounterText(numbering, item.container.styles.listStyleType, true);\r\n            numbering += reversed ? -1 : 1;\r\n        }\r\n    };\r\n    var parseStackingContexts = function (container) {\r\n        var paintContainer = new ElementPaint(container, []);\r\n        var root = new StackingContext(paintContainer);\r\n        var listItems = [];\r\n        parseStackTree(paintContainer, root, root, listItems);\r\n        processListItems(paintContainer.container, listItems);\r\n        return root;\r\n    };\n\n    var parsePathForBorder = function (curves, borderSide) {\r\n        switch (borderSide) {\r\n            case 0:\r\n                return createPathFromCurves(curves.topLeftBorderBox, curves.topLeftPaddingBox, curves.topRightBorderBox, curves.topRightPaddingBox);\r\n            case 1:\r\n                return createPathFromCurves(curves.topRightBorderBox, curves.topRightPaddingBox, curves.bottomRightBorderBox, curves.bottomRightPaddingBox);\r\n            case 2:\r\n                return createPathFromCurves(curves.bottomRightBorderBox, curves.bottomRightPaddingBox, curves.bottomLeftBorderBox, curves.bottomLeftPaddingBox);\r\n            case 3:\r\n            default:\r\n                return createPathFromCurves(curves.bottomLeftBorderBox, curves.bottomLeftPaddingBox, curves.topLeftBorderBox, curves.topLeftPaddingBox);\r\n        }\r\n    };\r\n    var createPathFromCurves = function (outer1, inner1, outer2, inner2) {\r\n        var path = [];\r\n        if (isBezierCurve(outer1)) {\r\n            path.push(outer1.subdivide(0.5, false));\r\n        }\r\n        else {\r\n            path.push(outer1);\r\n        }\r\n        if (isBezierCurve(outer2)) {\r\n            path.push(outer2.subdivide(0.5, true));\r\n        }\r\n        else {\r\n            path.push(outer2);\r\n        }\r\n        if (isBezierCurve(inner2)) {\r\n            path.push(inner2.subdivide(0.5, true).reverse());\r\n        }\r\n        else {\r\n            path.push(inner2);\r\n        }\r\n        if (isBezierCurve(inner1)) {\r\n            path.push(inner1.subdivide(0.5, false).reverse());\r\n        }\r\n        else {\r\n            path.push(inner1);\r\n        }\r\n        return path;\r\n    };\n\n    var paddingBox = function (element) {\r\n        var bounds = element.bounds;\r\n        var styles = element.styles;\r\n        return bounds.add(styles.borderLeftWidth, styles.borderTopWidth, -(styles.borderRightWidth + styles.borderLeftWidth), -(styles.borderTopWidth + styles.borderBottomWidth));\r\n    };\r\n    var contentBox = function (element) {\r\n        var styles = element.styles;\r\n        var bounds = element.bounds;\r\n        var paddingLeft = getAbsoluteValue(styles.paddingLeft, bounds.width);\r\n        var paddingRight = getAbsoluteValue(styles.paddingRight, bounds.width);\r\n        var paddingTop = getAbsoluteValue(styles.paddingTop, bounds.width);\r\n        var paddingBottom = getAbsoluteValue(styles.paddingBottom, bounds.width);\r\n        return bounds.add(paddingLeft + styles.borderLeftWidth, paddingTop + styles.borderTopWidth, -(styles.borderRightWidth + styles.borderLeftWidth + paddingLeft + paddingRight), -(styles.borderTopWidth + styles.borderBottomWidth + paddingTop + paddingBottom));\r\n    };\n\n    var calculateBackgroundPositioningArea = function (backgroundOrigin, element) {\r\n        if (backgroundOrigin === 0 /* BORDER_BOX */) {\r\n            return element.bounds;\r\n        }\r\n        if (backgroundOrigin === 2 /* CONTENT_BOX */) {\r\n            return contentBox(element);\r\n        }\r\n        return paddingBox(element);\r\n    };\r\n    var calculateBackgroundPaintingArea = function (backgroundClip, element) {\r\n        if (backgroundClip === BACKGROUND_CLIP.BORDER_BOX) {\r\n            return element.bounds;\r\n        }\r\n        if (backgroundClip === BACKGROUND_CLIP.CONTENT_BOX) {\r\n            return contentBox(element);\r\n        }\r\n        return paddingBox(element);\r\n    };\r\n    var calculateBackgroundRendering = function (container, index, intrinsicSize) {\r\n        var backgroundPositioningArea = calculateBackgroundPositioningArea(getBackgroundValueForIndex(container.styles.backgroundOrigin, index), container);\r\n        var backgroundPaintingArea = calculateBackgroundPaintingArea(getBackgroundValueForIndex(container.styles.backgroundClip, index), container);\r\n        var backgroundImageSize = calculateBackgroundSize(getBackgroundValueForIndex(container.styles.backgroundSize, index), intrinsicSize, backgroundPositioningArea);\r\n        var sizeWidth = backgroundImageSize[0], sizeHeight = backgroundImageSize[1];\r\n        var position = getAbsoluteValueForTuple(getBackgroundValueForIndex(container.styles.backgroundPosition, index), backgroundPositioningArea.width - sizeWidth, backgroundPositioningArea.height - sizeHeight);\r\n        var path = calculateBackgroundRepeatPath(getBackgroundValueForIndex(container.styles.backgroundRepeat, index), position, backgroundImageSize, backgroundPositioningArea, backgroundPaintingArea);\r\n        var offsetX = Math.round(backgroundPositioningArea.left + position[0]);\r\n        var offsetY = Math.round(backgroundPositioningArea.top + position[1]);\r\n        return [path, offsetX, offsetY, sizeWidth, sizeHeight];\r\n    };\r\n    var isAuto = function (token) { return isIdentToken(token) && token.value === BACKGROUND_SIZE.AUTO; };\r\n    var hasIntrinsicValue = function (value) { return typeof value === 'number'; };\r\n    var calculateBackgroundSize = function (size, _a, bounds) {\r\n        var intrinsicWidth = _a[0], intrinsicHeight = _a[1], intrinsicProportion = _a[2];\r\n        var first = size[0], second = size[1];\r\n        if (isLengthPercentage(first) && second && isLengthPercentage(second)) {\r\n            return [getAbsoluteValue(first, bounds.width), getAbsoluteValue(second, bounds.height)];\r\n        }\r\n        var hasIntrinsicProportion = hasIntrinsicValue(intrinsicProportion);\r\n        if (isIdentToken(first) && (first.value === BACKGROUND_SIZE.CONTAIN || first.value === BACKGROUND_SIZE.COVER)) {\r\n            if (hasIntrinsicValue(intrinsicProportion)) {\r\n                var targetRatio = bounds.width / bounds.height;\r\n                return targetRatio < intrinsicProportion !== (first.value === BACKGROUND_SIZE.COVER)\r\n                    ? [bounds.width, bounds.width / intrinsicProportion]\r\n                    : [bounds.height * intrinsicProportion, bounds.height];\r\n            }\r\n            return [bounds.width, bounds.height];\r\n        }\r\n        var hasIntrinsicWidth = hasIntrinsicValue(intrinsicWidth);\r\n        var hasIntrinsicHeight = hasIntrinsicValue(intrinsicHeight);\r\n        var hasIntrinsicDimensions = hasIntrinsicWidth || hasIntrinsicHeight;\r\n        // If the background-size is auto or auto auto:\r\n        if (isAuto(first) && (!second || isAuto(second))) {\r\n            // If the image has both horizontal and vertical intrinsic dimensions, it's rendered at that size.\r\n            if (hasIntrinsicWidth && hasIntrinsicHeight) {\r\n                return [intrinsicWidth, intrinsicHeight];\r\n            }\r\n            // If the image has no intrinsic dimensions and has no intrinsic proportions,\r\n            // it's rendered at the size of the background positioning area.\r\n            if (!hasIntrinsicProportion && !hasIntrinsicDimensions) {\r\n                return [bounds.width, bounds.height];\r\n            }\r\n            // TODO If the image has no intrinsic dimensions but has intrinsic proportions, it's rendered as if contain had been specified instead.\r\n            // If the image has only one intrinsic dimension and has intrinsic proportions, it's rendered at the size corresponding to that one dimension.\r\n            // The other dimension is computed using the specified dimension and the intrinsic proportions.\r\n            if (hasIntrinsicDimensions && hasIntrinsicProportion) {\r\n                var width_1 = hasIntrinsicWidth\r\n                    ? intrinsicWidth\r\n                    : intrinsicHeight * intrinsicProportion;\r\n                var height_1 = hasIntrinsicHeight\r\n                    ? intrinsicHeight\r\n                    : intrinsicWidth / intrinsicProportion;\r\n                return [width_1, height_1];\r\n            }\r\n            // If the image has only one intrinsic dimension but has no intrinsic proportions,\r\n            // it's rendered using the specified dimension and the other dimension of the background positioning area.\r\n            var width_2 = hasIntrinsicWidth ? intrinsicWidth : bounds.width;\r\n            var height_2 = hasIntrinsicHeight ? intrinsicHeight : bounds.height;\r\n            return [width_2, height_2];\r\n        }\r\n        // If the image has intrinsic proportions, it's stretched to the specified dimension.\r\n        // The unspecified dimension is computed using the specified dimension and the intrinsic proportions.\r\n        if (hasIntrinsicProportion) {\r\n            var width_3 = 0;\r\n            var height_3 = 0;\r\n            if (isLengthPercentage(first)) {\r\n                width_3 = getAbsoluteValue(first, bounds.width);\r\n            }\r\n            else if (isLengthPercentage(second)) {\r\n                height_3 = getAbsoluteValue(second, bounds.height);\r\n            }\r\n            if (isAuto(first)) {\r\n                width_3 = height_3 * intrinsicProportion;\r\n            }\r\n            else if (!second || isAuto(second)) {\r\n                height_3 = width_3 / intrinsicProportion;\r\n            }\r\n            return [width_3, height_3];\r\n        }\r\n        // If the image has no intrinsic proportions, it's stretched to the specified dimension.\r\n        // The unspecified dimension is computed using the image's corresponding intrinsic dimension,\r\n        // if there is one. If there is no such intrinsic dimension,\r\n        // it becomes the corresponding dimension of the background positioning area.\r\n        var width = null;\r\n        var height = null;\r\n        if (isLengthPercentage(first)) {\r\n            width = getAbsoluteValue(first, bounds.width);\r\n        }\r\n        else if (second && isLengthPercentage(second)) {\r\n            height = getAbsoluteValue(second, bounds.height);\r\n        }\r\n        if (width !== null && (!second || isAuto(second))) {\r\n            height =\r\n                hasIntrinsicWidth && hasIntrinsicHeight\r\n                    ? (width / intrinsicWidth) * intrinsicHeight\r\n                    : bounds.height;\r\n        }\r\n        if (height !== null && isAuto(first)) {\r\n            width =\r\n                hasIntrinsicWidth && hasIntrinsicHeight\r\n                    ? (height / intrinsicHeight) * intrinsicWidth\r\n                    : bounds.width;\r\n        }\r\n        if (width !== null && height !== null) {\r\n            return [width, height];\r\n        }\r\n        throw new Error(\"Unable to calculate background-size for element\");\r\n    };\r\n    var getBackgroundValueForIndex = function (values, index) {\r\n        var value = values[index];\r\n        if (typeof value === 'undefined') {\r\n            return values[0];\r\n        }\r\n        return value;\r\n    };\r\n    var calculateBackgroundRepeatPath = function (repeat, _a, _b, backgroundPositioningArea, backgroundPaintingArea) {\r\n        var x = _a[0], y = _a[1];\r\n        var width = _b[0], height = _b[1];\r\n        switch (repeat) {\r\n            case BACKGROUND_REPEAT.REPEAT_X:\r\n                return [\r\n                    new Vector(Math.round(backgroundPositioningArea.left), Math.round(backgroundPositioningArea.top + y)),\r\n                    new Vector(Math.round(backgroundPositioningArea.left + backgroundPositioningArea.width), Math.round(backgroundPositioningArea.top + y)),\r\n                    new Vector(Math.round(backgroundPositioningArea.left + backgroundPositioningArea.width), Math.round(height + backgroundPositioningArea.top + y)),\r\n                    new Vector(Math.round(backgroundPositioningArea.left), Math.round(height + backgroundPositioningArea.top + y))\r\n                ];\r\n            case BACKGROUND_REPEAT.REPEAT_Y:\r\n                return [\r\n                    new Vector(Math.round(backgroundPositioningArea.left + x), Math.round(backgroundPositioningArea.top)),\r\n                    new Vector(Math.round(backgroundPositioningArea.left + x + width), Math.round(backgroundPositioningArea.top)),\r\n                    new Vector(Math.round(backgroundPositioningArea.left + x + width), Math.round(backgroundPositioningArea.height + backgroundPositioningArea.top)),\r\n                    new Vector(Math.round(backgroundPositioningArea.left + x), Math.round(backgroundPositioningArea.height + backgroundPositioningArea.top))\r\n                ];\r\n            case BACKGROUND_REPEAT.NO_REPEAT:\r\n                return [\r\n                    new Vector(Math.round(backgroundPositioningArea.left + x), Math.round(backgroundPositioningArea.top + y)),\r\n                    new Vector(Math.round(backgroundPositioningArea.left + x + width), Math.round(backgroundPositioningArea.top + y)),\r\n                    new Vector(Math.round(backgroundPositioningArea.left + x + width), Math.round(backgroundPositioningArea.top + y + height)),\r\n                    new Vector(Math.round(backgroundPositioningArea.left + x), Math.round(backgroundPositioningArea.top + y + height))\r\n                ];\r\n            default:\r\n                return [\r\n                    new Vector(Math.round(backgroundPaintingArea.left), Math.round(backgroundPaintingArea.top)),\r\n                    new Vector(Math.round(backgroundPaintingArea.left + backgroundPaintingArea.width), Math.round(backgroundPaintingArea.top)),\r\n                    new Vector(Math.round(backgroundPaintingArea.left + backgroundPaintingArea.width), Math.round(backgroundPaintingArea.height + backgroundPaintingArea.top)),\r\n                    new Vector(Math.round(backgroundPaintingArea.left), Math.round(backgroundPaintingArea.height + backgroundPaintingArea.top))\r\n                ];\r\n        }\r\n    };\n\n    var SMALL_IMAGE = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\n\n    var SAMPLE_TEXT = 'Hidden Text';\r\n    var FontMetrics = /** @class */ (function () {\r\n        function FontMetrics(document) {\r\n            this._data = {};\r\n            this._document = document;\r\n        }\r\n        FontMetrics.prototype.parseMetrics = function (fontFamily, fontSize) {\r\n            var container = this._document.createElement('div');\r\n            var img = this._document.createElement('img');\r\n            var span = this._document.createElement('span');\r\n            var body = this._document.body;\r\n            container.style.visibility = 'hidden';\r\n            container.style.fontFamily = fontFamily;\r\n            container.style.fontSize = fontSize;\r\n            container.style.margin = '0';\r\n            container.style.padding = '0';\r\n            body.appendChild(container);\r\n            img.src = SMALL_IMAGE;\r\n            img.width = 1;\r\n            img.height = 1;\r\n            img.style.margin = '0';\r\n            img.style.padding = '0';\r\n            img.style.verticalAlign = 'baseline';\r\n            span.style.fontFamily = fontFamily;\r\n            span.style.fontSize = fontSize;\r\n            span.style.margin = '0';\r\n            span.style.padding = '0';\r\n            span.appendChild(this._document.createTextNode(SAMPLE_TEXT));\r\n            container.appendChild(span);\r\n            container.appendChild(img);\r\n            var baseline = img.offsetTop - span.offsetTop + 2;\r\n            container.removeChild(span);\r\n            container.appendChild(this._document.createTextNode(SAMPLE_TEXT));\r\n            container.style.lineHeight = 'normal';\r\n            img.style.verticalAlign = 'super';\r\n            var middle = img.offsetTop - container.offsetTop + 2;\r\n            body.removeChild(container);\r\n            return { baseline: baseline, middle: middle };\r\n        };\r\n        FontMetrics.prototype.getMetrics = function (fontFamily, fontSize) {\r\n            var key = fontFamily + \" \" + fontSize;\r\n            if (typeof this._data[key] === 'undefined') {\r\n                this._data[key] = this.parseMetrics(fontFamily, fontSize);\r\n            }\r\n            return this._data[key];\r\n        };\r\n        return FontMetrics;\r\n    }());\n\n    var MASK_OFFSET = 10000;\r\n    var CanvasRenderer = /** @class */ (function () {\r\n        function CanvasRenderer(options) {\r\n            this._activeEffects = [];\r\n            this.canvas = options.canvas ? options.canvas : document.createElement('canvas');\r\n            this.ctx = this.canvas.getContext('2d');\r\n            this.options = options;\r\n            if (!options.canvas) {\r\n                this.canvas.width = Math.floor(options.width * options.scale);\r\n                this.canvas.height = Math.floor(options.height * options.scale);\r\n                this.canvas.style.width = options.width + \"px\";\r\n                this.canvas.style.height = options.height + \"px\";\r\n            }\r\n            this.fontMetrics = new FontMetrics(document);\r\n            this.ctx.scale(this.options.scale, this.options.scale);\r\n            this.ctx.translate(-options.x + options.scrollX, -options.y + options.scrollY);\r\n            this.ctx.textBaseline = 'bottom';\r\n            this._activeEffects = [];\r\n            Logger.getInstance(options.id).debug(\"Canvas renderer initialized (\" + options.width + \"x\" + options.height + \" at \" + options.x + \",\" + options.y + \") with scale \" + options.scale);\r\n        }\r\n        CanvasRenderer.prototype.applyEffects = function (effects, target) {\r\n            var _this = this;\r\n            while (this._activeEffects.length) {\r\n                this.popEffect();\r\n            }\r\n            effects.filter(function (effect) { return contains(effect.target, target); }).forEach(function (effect) { return _this.applyEffect(effect); });\r\n        };\r\n        CanvasRenderer.prototype.applyEffect = function (effect) {\r\n            this.ctx.save();\r\n            if (isTransformEffect(effect)) {\r\n                this.ctx.translate(effect.offsetX, effect.offsetY);\r\n                this.ctx.transform(effect.matrix[0], effect.matrix[1], effect.matrix[2], effect.matrix[3], effect.matrix[4], effect.matrix[5]);\r\n                this.ctx.translate(-effect.offsetX, -effect.offsetY);\r\n            }\r\n            if (isClipEffect(effect)) {\r\n                this.path(effect.path);\r\n                this.ctx.clip();\r\n            }\r\n            this._activeEffects.push(effect);\r\n        };\r\n        CanvasRenderer.prototype.popEffect = function () {\r\n            this._activeEffects.pop();\r\n            this.ctx.restore();\r\n        };\r\n        CanvasRenderer.prototype.renderStack = function (stack) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var styles;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            styles = stack.element.container.styles;\r\n                            if (!styles.isVisible()) return [3 /*break*/, 2];\r\n                            this.ctx.globalAlpha = styles.opacity;\r\n                            return [4 /*yield*/, this.renderStackContent(stack)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            _a.label = 2;\r\n                        case 2: return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        CanvasRenderer.prototype.renderNode = function (paint) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (!paint.container.styles.isVisible()) return [3 /*break*/, 3];\r\n                            return [4 /*yield*/, this.renderNodeBackgroundAndBorders(paint)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [4 /*yield*/, this.renderNodeContent(paint)];\r\n                        case 2:\r\n                            _a.sent();\r\n                            _a.label = 3;\r\n                        case 3: return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        CanvasRenderer.prototype.renderTextWithLetterSpacing = function (text, letterSpacing) {\r\n            var _this = this;\r\n            if (letterSpacing === 0) {\r\n                this.ctx.fillText(text.text, text.bounds.left, text.bounds.top + text.bounds.height);\r\n            }\r\n            else {\r\n                var letters = toCodePoints(text.text).map(function (i) { return fromCodePoint(i); });\r\n                letters.reduce(function (left, letter) {\r\n                    _this.ctx.fillText(letter, left, text.bounds.top + text.bounds.height);\r\n                    return left + _this.ctx.measureText(letter).width;\r\n                }, text.bounds.left);\r\n            }\r\n        };\r\n        CanvasRenderer.prototype.createFontStyle = function (styles) {\r\n            var fontVariant = styles.fontVariant\r\n                .filter(function (variant) { return variant === 'normal' || variant === 'small-caps'; })\r\n                .join('');\r\n            var fontFamily = styles.fontFamily.join(', ');\r\n            var fontSize = isDimensionToken(styles.fontSize)\r\n                ? \"\" + styles.fontSize.number + styles.fontSize.unit\r\n                : styles.fontSize.number + \"px\";\r\n            return [\r\n                [styles.fontStyle, fontVariant, styles.fontWeight, fontSize, fontFamily].join(' '),\r\n                fontFamily,\r\n                fontSize\r\n            ];\r\n        };\r\n        CanvasRenderer.prototype.renderTextNode = function (text, styles) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var _a, font, fontFamily, fontSize;\r\n                var _this = this;\r\n                return __generator(this, function (_b) {\r\n                    _a = this.createFontStyle(styles), font = _a[0], fontFamily = _a[1], fontSize = _a[2];\r\n                    this.ctx.font = font;\r\n                    text.textBounds.forEach(function (text) {\r\n                        _this.ctx.fillStyle = asString(styles.color);\r\n                        _this.renderTextWithLetterSpacing(text, styles.letterSpacing);\r\n                        var textShadows = styles.textShadow;\r\n                        if (textShadows.length && text.text.trim().length) {\r\n                            textShadows\r\n                                .slice(0)\r\n                                .reverse()\r\n                                .forEach(function (textShadow) {\r\n                                _this.ctx.shadowColor = asString(textShadow.color);\r\n                                _this.ctx.shadowOffsetX = textShadow.offsetX.number * _this.options.scale;\r\n                                _this.ctx.shadowOffsetY = textShadow.offsetY.number * _this.options.scale;\r\n                                _this.ctx.shadowBlur = textShadow.blur.number;\r\n                                _this.ctx.fillText(text.text, text.bounds.left, text.bounds.top + text.bounds.height);\r\n                            });\r\n                            _this.ctx.shadowColor = '';\r\n                            _this.ctx.shadowOffsetX = 0;\r\n                            _this.ctx.shadowOffsetY = 0;\r\n                            _this.ctx.shadowBlur = 0;\r\n                        }\r\n                        if (styles.textDecorationLine.length) {\r\n                            _this.ctx.fillStyle = asString(styles.textDecorationColor || styles.color);\r\n                            styles.textDecorationLine.forEach(function (textDecorationLine) {\r\n                                switch (textDecorationLine) {\r\n                                    case 1 /* UNDERLINE */:\r\n                                        // Draws a line at the baseline of the font\r\n                                        // TODO As some browsers display the line as more than 1px if the font-size is big,\r\n                                        // need to take that into account both in position and size\r\n                                        var baseline = _this.fontMetrics.getMetrics(fontFamily, fontSize).baseline;\r\n                                        _this.ctx.fillRect(text.bounds.left, Math.round(text.bounds.top + baseline), text.bounds.width, 1);\r\n                                        break;\r\n                                    case 2 /* OVERLINE */:\r\n                                        _this.ctx.fillRect(text.bounds.left, Math.round(text.bounds.top), text.bounds.width, 1);\r\n                                        break;\r\n                                    case 3 /* LINE_THROUGH */:\r\n                                        // TODO try and find exact position for line-through\r\n                                        var middle = _this.fontMetrics.getMetrics(fontFamily, fontSize).middle;\r\n                                        _this.ctx.fillRect(text.bounds.left, Math.ceil(text.bounds.top + middle), text.bounds.width, 1);\r\n                                        break;\r\n                                }\r\n                            });\r\n                        }\r\n                    });\r\n                    return [2 /*return*/];\r\n                });\r\n            });\r\n        };\r\n        CanvasRenderer.prototype.renderReplacedElement = function (container, curves, image) {\r\n            if (image && container.intrinsicWidth > 0 && container.intrinsicHeight > 0) {\r\n                var box = contentBox(container);\r\n                var path = calculatePaddingBoxPath(curves);\r\n                this.path(path);\r\n                this.ctx.save();\r\n                this.ctx.clip();\r\n                this.ctx.drawImage(image, 0, 0, container.intrinsicWidth, container.intrinsicHeight, box.left, box.top, box.width, box.height);\r\n                this.ctx.restore();\r\n            }\r\n        };\r\n        CanvasRenderer.prototype.renderNodeContent = function (paint) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var container, curves, styles, _i, _a, child, image, e_1, image, e_2, iframeRenderer, canvas, size, bounds, x, textBounds, img, image, url, e_3, bounds;\r\n                return __generator(this, function (_b) {\r\n                    switch (_b.label) {\r\n                        case 0:\r\n                            this.applyEffects(paint.effects, 4 /* CONTENT */);\r\n                            container = paint.container;\r\n                            curves = paint.curves;\r\n                            styles = container.styles;\r\n                            _i = 0, _a = container.textNodes;\r\n                            _b.label = 1;\r\n                        case 1:\r\n                            if (!(_i < _a.length)) return [3 /*break*/, 4];\r\n                            child = _a[_i];\r\n                            return [4 /*yield*/, this.renderTextNode(child, styles)];\r\n                        case 2:\r\n                            _b.sent();\r\n                            _b.label = 3;\r\n                        case 3:\r\n                            _i++;\r\n                            return [3 /*break*/, 1];\r\n                        case 4:\r\n                            if (!(container instanceof ImageElementContainer)) return [3 /*break*/, 8];\r\n                            _b.label = 5;\r\n                        case 5:\r\n                            _b.trys.push([5, 7, , 8]);\r\n                            return [4 /*yield*/, this.options.cache.match(container.src)];\r\n                        case 6:\r\n                            image = _b.sent();\r\n                            this.renderReplacedElement(container, curves, image);\r\n                            return [3 /*break*/, 8];\r\n                        case 7:\r\n                            e_1 = _b.sent();\r\n                            Logger.getInstance(this.options.id).error(\"Error loading image \" + container.src);\r\n                            return [3 /*break*/, 8];\r\n                        case 8:\r\n                            if (container instanceof CanvasElementContainer) {\r\n                                this.renderReplacedElement(container, curves, container.canvas);\r\n                            }\r\n                            if (!(container instanceof SVGElementContainer)) return [3 /*break*/, 12];\r\n                            _b.label = 9;\r\n                        case 9:\r\n                            _b.trys.push([9, 11, , 12]);\r\n                            return [4 /*yield*/, this.options.cache.match(container.svg)];\r\n                        case 10:\r\n                            image = _b.sent();\r\n                            this.renderReplacedElement(container, curves, image);\r\n                            return [3 /*break*/, 12];\r\n                        case 11:\r\n                            e_2 = _b.sent();\r\n                            Logger.getInstance(this.options.id).error(\"Error loading svg \" + container.svg.substring(0, 255));\r\n                            return [3 /*break*/, 12];\r\n                        case 12:\r\n                            if (!(container instanceof IFrameElementContainer && container.tree)) return [3 /*break*/, 14];\r\n                            iframeRenderer = new CanvasRenderer({\r\n                                id: this.options.id,\r\n                                scale: this.options.scale,\r\n                                backgroundColor: container.backgroundColor,\r\n                                x: 0,\r\n                                y: 0,\r\n                                scrollX: 0,\r\n                                scrollY: 0,\r\n                                width: container.width,\r\n                                height: container.height,\r\n                                cache: this.options.cache,\r\n                                windowWidth: container.width,\r\n                                windowHeight: container.height\r\n                            });\r\n                            return [4 /*yield*/, iframeRenderer.render(container.tree)];\r\n                        case 13:\r\n                            canvas = _b.sent();\r\n                            if (container.width && container.height) {\r\n                                this.ctx.drawImage(canvas, 0, 0, container.width, container.height, container.bounds.left, container.bounds.top, container.bounds.width, container.bounds.height);\r\n                            }\r\n                            _b.label = 14;\r\n                        case 14:\r\n                            if (container instanceof InputElementContainer) {\r\n                                size = Math.min(container.bounds.width, container.bounds.height);\r\n                                if (container.type === CHECKBOX) {\r\n                                    if (container.checked) {\r\n                                        this.ctx.save();\r\n                                        this.path([\r\n                                            new Vector(container.bounds.left + size * 0.39363, container.bounds.top + size * 0.79),\r\n                                            new Vector(container.bounds.left + size * 0.16, container.bounds.top + size * 0.5549),\r\n                                            new Vector(container.bounds.left + size * 0.27347, container.bounds.top + size * 0.44071),\r\n                                            new Vector(container.bounds.left + size * 0.39694, container.bounds.top + size * 0.5649),\r\n                                            new Vector(container.bounds.left + size * 0.72983, container.bounds.top + size * 0.23),\r\n                                            new Vector(container.bounds.left + size * 0.84, container.bounds.top + size * 0.34085),\r\n                                            new Vector(container.bounds.left + size * 0.39363, container.bounds.top + size * 0.79)\r\n                                        ]);\r\n                                        this.ctx.fillStyle = asString(INPUT_COLOR);\r\n                                        this.ctx.fill();\r\n                                        this.ctx.restore();\r\n                                    }\r\n                                }\r\n                                else if (container.type === RADIO) {\r\n                                    if (container.checked) {\r\n                                        this.ctx.save();\r\n                                        this.ctx.beginPath();\r\n                                        this.ctx.arc(container.bounds.left + size / 2, container.bounds.top + size / 2, size / 4, 0, Math.PI * 2, true);\r\n                                        this.ctx.fillStyle = asString(INPUT_COLOR);\r\n                                        this.ctx.fill();\r\n                                        this.ctx.restore();\r\n                                    }\r\n                                }\r\n                            }\r\n                            if (isTextInputElement(container) && container.value.length) {\r\n                                this.ctx.font = this.createFontStyle(styles)[0];\r\n                                this.ctx.fillStyle = asString(styles.color);\r\n                                this.ctx.textBaseline = 'middle';\r\n                                this.ctx.textAlign = canvasTextAlign(container.styles.textAlign);\r\n                                bounds = contentBox(container);\r\n                                x = 0;\r\n                                switch (container.styles.textAlign) {\r\n                                    case TEXT_ALIGN.CENTER:\r\n                                        x += bounds.width / 2;\r\n                                        break;\r\n                                    case TEXT_ALIGN.RIGHT:\r\n                                        x += bounds.width;\r\n                                        break;\r\n                                }\r\n                                textBounds = bounds.add(x, 0, 0, -bounds.height / 2 + 1);\r\n                                this.ctx.save();\r\n                                this.path([\r\n                                    new Vector(bounds.left, bounds.top),\r\n                                    new Vector(bounds.left + bounds.width, bounds.top),\r\n                                    new Vector(bounds.left + bounds.width, bounds.top + bounds.height),\r\n                                    new Vector(bounds.left, bounds.top + bounds.height)\r\n                                ]);\r\n                                this.ctx.clip();\r\n                                this.renderTextWithLetterSpacing(new TextBounds(container.value, textBounds), styles.letterSpacing);\r\n                                this.ctx.restore();\r\n                                this.ctx.textBaseline = 'bottom';\r\n                                this.ctx.textAlign = 'left';\r\n                            }\r\n                            if (!contains(container.styles.display, 2048 /* LIST_ITEM */)) return [3 /*break*/, 20];\r\n                            if (!(container.styles.listStyleImage !== null)) return [3 /*break*/, 19];\r\n                            img = container.styles.listStyleImage;\r\n                            if (!(img.type === CSSImageType.URL)) return [3 /*break*/, 18];\r\n                            image = void 0;\r\n                            url = img.url;\r\n                            _b.label = 15;\r\n                        case 15:\r\n                            _b.trys.push([15, 17, , 18]);\r\n                            return [4 /*yield*/, this.options.cache.match(url)];\r\n                        case 16:\r\n                            image = _b.sent();\r\n                            this.ctx.drawImage(image, container.bounds.left - (image.width + 10), container.bounds.top);\r\n                            return [3 /*break*/, 18];\r\n                        case 17:\r\n                            e_3 = _b.sent();\r\n                            Logger.getInstance(this.options.id).error(\"Error loading list-style-image \" + url);\r\n                            return [3 /*break*/, 18];\r\n                        case 18: return [3 /*break*/, 20];\r\n                        case 19:\r\n                            if (paint.listValue && container.styles.listStyleType !== LIST_STYLE_TYPE.NONE) {\r\n                                this.ctx.font = this.createFontStyle(styles)[0];\r\n                                this.ctx.fillStyle = asString(styles.color);\r\n                                this.ctx.textBaseline = 'middle';\r\n                                this.ctx.textAlign = 'right';\r\n                                bounds = new Bounds(container.bounds.left, container.bounds.top + getAbsoluteValue(container.styles.paddingTop, container.bounds.width), container.bounds.width, computeLineHeight(styles.lineHeight, styles.fontSize.number) / 2 + 1);\r\n                                this.renderTextWithLetterSpacing(new TextBounds(paint.listValue, bounds), styles.letterSpacing);\r\n                                this.ctx.textBaseline = 'bottom';\r\n                                this.ctx.textAlign = 'left';\r\n                            }\r\n                            _b.label = 20;\r\n                        case 20: return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        CanvasRenderer.prototype.renderStackContent = function (stack) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var _i, _a, child, _b, _c, child, _d, _e, child, _f, _g, child, _h, _j, child, _k, _l, child, _m, _o, child;\r\n                return __generator(this, function (_p) {\r\n                    switch (_p.label) {\r\n                        case 0: \r\n                        // https://www.w3.org/TR/css-position-3/#painting-order\r\n                        // 1. the background and borders of the element forming the stacking context.\r\n                        return [4 /*yield*/, this.renderNodeBackgroundAndBorders(stack.element)];\r\n                        case 1:\r\n                            // https://www.w3.org/TR/css-position-3/#painting-order\r\n                            // 1. the background and borders of the element forming the stacking context.\r\n                            _p.sent();\r\n                            _i = 0, _a = stack.negativeZIndex;\r\n                            _p.label = 2;\r\n                        case 2:\r\n                            if (!(_i < _a.length)) return [3 /*break*/, 5];\r\n                            child = _a[_i];\r\n                            return [4 /*yield*/, this.renderStack(child)];\r\n                        case 3:\r\n                            _p.sent();\r\n                            _p.label = 4;\r\n                        case 4:\r\n                            _i++;\r\n                            return [3 /*break*/, 2];\r\n                        case 5: \r\n                        // 3. For all its in-flow, non-positioned, block-level descendants in tree order:\r\n                        return [4 /*yield*/, this.renderNodeContent(stack.element)];\r\n                        case 6:\r\n                            // 3. For all its in-flow, non-positioned, block-level descendants in tree order:\r\n                            _p.sent();\r\n                            _b = 0, _c = stack.nonInlineLevel;\r\n                            _p.label = 7;\r\n                        case 7:\r\n                            if (!(_b < _c.length)) return [3 /*break*/, 10];\r\n                            child = _c[_b];\r\n                            return [4 /*yield*/, this.renderNode(child)];\r\n                        case 8:\r\n                            _p.sent();\r\n                            _p.label = 9;\r\n                        case 9:\r\n                            _b++;\r\n                            return [3 /*break*/, 7];\r\n                        case 10:\r\n                            _d = 0, _e = stack.nonPositionedFloats;\r\n                            _p.label = 11;\r\n                        case 11:\r\n                            if (!(_d < _e.length)) return [3 /*break*/, 14];\r\n                            child = _e[_d];\r\n                            return [4 /*yield*/, this.renderStack(child)];\r\n                        case 12:\r\n                            _p.sent();\r\n                            _p.label = 13;\r\n                        case 13:\r\n                            _d++;\r\n                            return [3 /*break*/, 11];\r\n                        case 14:\r\n                            _f = 0, _g = stack.nonPositionedInlineLevel;\r\n                            _p.label = 15;\r\n                        case 15:\r\n                            if (!(_f < _g.length)) return [3 /*break*/, 18];\r\n                            child = _g[_f];\r\n                            return [4 /*yield*/, this.renderStack(child)];\r\n                        case 16:\r\n                            _p.sent();\r\n                            _p.label = 17;\r\n                        case 17:\r\n                            _f++;\r\n                            return [3 /*break*/, 15];\r\n                        case 18:\r\n                            _h = 0, _j = stack.inlineLevel;\r\n                            _p.label = 19;\r\n                        case 19:\r\n                            if (!(_h < _j.length)) return [3 /*break*/, 22];\r\n                            child = _j[_h];\r\n                            return [4 /*yield*/, this.renderNode(child)];\r\n                        case 20:\r\n                            _p.sent();\r\n                            _p.label = 21;\r\n                        case 21:\r\n                            _h++;\r\n                            return [3 /*break*/, 19];\r\n                        case 22:\r\n                            _k = 0, _l = stack.zeroOrAutoZIndexOrTransformedOrOpacity;\r\n                            _p.label = 23;\r\n                        case 23:\r\n                            if (!(_k < _l.length)) return [3 /*break*/, 26];\r\n                            child = _l[_k];\r\n                            return [4 /*yield*/, this.renderStack(child)];\r\n                        case 24:\r\n                            _p.sent();\r\n                            _p.label = 25;\r\n                        case 25:\r\n                            _k++;\r\n                            return [3 /*break*/, 23];\r\n                        case 26:\r\n                            _m = 0, _o = stack.positiveZIndex;\r\n                            _p.label = 27;\r\n                        case 27:\r\n                            if (!(_m < _o.length)) return [3 /*break*/, 30];\r\n                            child = _o[_m];\r\n                            return [4 /*yield*/, this.renderStack(child)];\r\n                        case 28:\r\n                            _p.sent();\r\n                            _p.label = 29;\r\n                        case 29:\r\n                            _m++;\r\n                            return [3 /*break*/, 27];\r\n                        case 30: return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        CanvasRenderer.prototype.mask = function (paths) {\r\n            this.ctx.beginPath();\r\n            this.ctx.moveTo(0, 0);\r\n            this.ctx.lineTo(this.canvas.width, 0);\r\n            this.ctx.lineTo(this.canvas.width, this.canvas.height);\r\n            this.ctx.lineTo(0, this.canvas.height);\r\n            this.ctx.lineTo(0, 0);\r\n            this.formatPath(paths.slice(0).reverse());\r\n            this.ctx.closePath();\r\n        };\r\n        CanvasRenderer.prototype.path = function (paths) {\r\n            this.ctx.beginPath();\r\n            this.formatPath(paths);\r\n            this.ctx.closePath();\r\n        };\r\n        CanvasRenderer.prototype.formatPath = function (paths) {\r\n            var _this = this;\r\n            paths.forEach(function (point, index) {\r\n                var start = isBezierCurve(point) ? point.start : point;\r\n                if (index === 0) {\r\n                    _this.ctx.moveTo(start.x, start.y);\r\n                }\r\n                else {\r\n                    _this.ctx.lineTo(start.x, start.y);\r\n                }\r\n                if (isBezierCurve(point)) {\r\n                    _this.ctx.bezierCurveTo(point.startControl.x, point.startControl.y, point.endControl.x, point.endControl.y, point.end.x, point.end.y);\r\n                }\r\n            });\r\n        };\r\n        CanvasRenderer.prototype.renderRepeat = function (path, pattern, offsetX, offsetY) {\r\n            this.path(path);\r\n            this.ctx.fillStyle = pattern;\r\n            this.ctx.translate(offsetX, offsetY);\r\n            this.ctx.fill();\r\n            this.ctx.translate(-offsetX, -offsetY);\r\n        };\r\n        CanvasRenderer.prototype.resizeImage = function (image, width, height) {\r\n            if (image.width === width && image.height === height) {\r\n                return image;\r\n            }\r\n            var canvas = this.canvas.ownerDocument.createElement('canvas');\r\n            canvas.width = width;\r\n            canvas.height = height;\r\n            var ctx = canvas.getContext('2d');\r\n            ctx.drawImage(image, 0, 0, image.width, image.height, 0, 0, width, height);\r\n            return canvas;\r\n        };\r\n        CanvasRenderer.prototype.renderBackgroundImage = function (container) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var index, _loop_1, this_1, _i, _a, backgroundImage;\r\n                return __generator(this, function (_b) {\r\n                    switch (_b.label) {\r\n                        case 0:\r\n                            index = container.styles.backgroundImage.length - 1;\r\n                            _loop_1 = function (backgroundImage) {\r\n                                var image, url, e_4, _a, path, x, y, width, height, pattern, _b, path, x, y, width, height, _c, lineLength, x0, x1, y0, y1, canvas, ctx, gradient_1, pattern, _d, path, left, top_1, width, height, position, x, y, _e, rx, ry, radialGradient_1, midX, midY, f, invF;\r\n                                return __generator(this, function (_f) {\r\n                                    switch (_f.label) {\r\n                                        case 0:\r\n                                            if (!(backgroundImage.type === CSSImageType.URL)) return [3 /*break*/, 5];\r\n                                            image = void 0;\r\n                                            url = backgroundImage.url;\r\n                                            _f.label = 1;\r\n                                        case 1:\r\n                                            _f.trys.push([1, 3, , 4]);\r\n                                            return [4 /*yield*/, this_1.options.cache.match(url)];\r\n                                        case 2:\r\n                                            image = _f.sent();\r\n                                            return [3 /*break*/, 4];\r\n                                        case 3:\r\n                                            e_4 = _f.sent();\r\n                                            Logger.getInstance(this_1.options.id).error(\"Error loading background-image \" + url);\r\n                                            return [3 /*break*/, 4];\r\n                                        case 4:\r\n                                            if (image) {\r\n                                                _a = calculateBackgroundRendering(container, index, [\r\n                                                    image.width,\r\n                                                    image.height,\r\n                                                    image.width / image.height\r\n                                                ]), path = _a[0], x = _a[1], y = _a[2], width = _a[3], height = _a[4];\r\n                                                pattern = this_1.ctx.createPattern(this_1.resizeImage(image, width, height), 'repeat');\r\n                                                this_1.renderRepeat(path, pattern, x, y);\r\n                                            }\r\n                                            return [3 /*break*/, 6];\r\n                                        case 5:\r\n                                            if (isLinearGradient(backgroundImage)) {\r\n                                                _b = calculateBackgroundRendering(container, index, [null, null, null]), path = _b[0], x = _b[1], y = _b[2], width = _b[3], height = _b[4];\r\n                                                _c = calculateGradientDirection(backgroundImage.angle, width, height), lineLength = _c[0], x0 = _c[1], x1 = _c[2], y0 = _c[3], y1 = _c[4];\r\n                                                canvas = document.createElement('canvas');\r\n                                                canvas.width = width;\r\n                                                canvas.height = height;\r\n                                                ctx = canvas.getContext('2d');\r\n                                                gradient_1 = ctx.createLinearGradient(x0, y0, x1, y1);\r\n                                                processColorStops(backgroundImage.stops, lineLength).forEach(function (colorStop) {\r\n                                                    return gradient_1.addColorStop(colorStop.stop, asString(colorStop.color));\r\n                                                });\r\n                                                ctx.fillStyle = gradient_1;\r\n                                                ctx.fillRect(0, 0, width, height);\r\n                                                if (width > 0 && height > 0) {\r\n                                                    pattern = this_1.ctx.createPattern(canvas, 'repeat');\r\n                                                    this_1.renderRepeat(path, pattern, x, y);\r\n                                                }\r\n                                            }\r\n                                            else if (isRadialGradient(backgroundImage)) {\r\n                                                _d = calculateBackgroundRendering(container, index, [\r\n                                                    null,\r\n                                                    null,\r\n                                                    null\r\n                                                ]), path = _d[0], left = _d[1], top_1 = _d[2], width = _d[3], height = _d[4];\r\n                                                position = backgroundImage.position.length === 0 ? [FIFTY_PERCENT] : backgroundImage.position;\r\n                                                x = getAbsoluteValue(position[0], width);\r\n                                                y = getAbsoluteValue(position[position.length - 1], height);\r\n                                                _e = calculateRadius(backgroundImage, x, y, width, height), rx = _e[0], ry = _e[1];\r\n                                                if (rx > 0 && rx > 0) {\r\n                                                    radialGradient_1 = this_1.ctx.createRadialGradient(left + x, top_1 + y, 0, left + x, top_1 + y, rx);\r\n                                                    processColorStops(backgroundImage.stops, rx * 2).forEach(function (colorStop) {\r\n                                                        return radialGradient_1.addColorStop(colorStop.stop, asString(colorStop.color));\r\n                                                    });\r\n                                                    this_1.path(path);\r\n                                                    this_1.ctx.fillStyle = radialGradient_1;\r\n                                                    if (rx !== ry) {\r\n                                                        midX = container.bounds.left + 0.5 * container.bounds.width;\r\n                                                        midY = container.bounds.top + 0.5 * container.bounds.height;\r\n                                                        f = ry / rx;\r\n                                                        invF = 1 / f;\r\n                                                        this_1.ctx.save();\r\n                                                        this_1.ctx.translate(midX, midY);\r\n                                                        this_1.ctx.transform(1, 0, 0, f, 0, 0);\r\n                                                        this_1.ctx.translate(-midX, -midY);\r\n                                                        this_1.ctx.fillRect(left, invF * (top_1 - midY) + midY, width, height * invF);\r\n                                                        this_1.ctx.restore();\r\n                                                    }\r\n                                                    else {\r\n                                                        this_1.ctx.fill();\r\n                                                    }\r\n                                                }\r\n                                            }\r\n                                            _f.label = 6;\r\n                                        case 6:\r\n                                            index--;\r\n                                            return [2 /*return*/];\r\n                                    }\r\n                                });\r\n                            };\r\n                            this_1 = this;\r\n                            _i = 0, _a = container.styles.backgroundImage.slice(0).reverse();\r\n                            _b.label = 1;\r\n                        case 1:\r\n                            if (!(_i < _a.length)) return [3 /*break*/, 4];\r\n                            backgroundImage = _a[_i];\r\n                            return [5 /*yield**/, _loop_1(backgroundImage)];\r\n                        case 2:\r\n                            _b.sent();\r\n                            _b.label = 3;\r\n                        case 3:\r\n                            _i++;\r\n                            return [3 /*break*/, 1];\r\n                        case 4: return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        CanvasRenderer.prototype.renderBorder = function (color, side, curvePoints) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    this.path(parsePathForBorder(curvePoints, side));\r\n                    this.ctx.fillStyle = asString(color);\r\n                    this.ctx.fill();\r\n                    return [2 /*return*/];\r\n                });\r\n            });\r\n        };\r\n        CanvasRenderer.prototype.renderNodeBackgroundAndBorders = function (paint) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var styles, hasBackground, borders, backgroundPaintingArea, side, _i, borders_1, border;\r\n                var _this = this;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            this.applyEffects(paint.effects, 2 /* BACKGROUND_BORDERS */);\r\n                            styles = paint.container.styles;\r\n                            hasBackground = !isTransparent(styles.backgroundColor) || styles.backgroundImage.length;\r\n                            borders = [\r\n                                { style: styles.borderTopStyle, color: styles.borderTopColor },\r\n                                { style: styles.borderRightStyle, color: styles.borderRightColor },\r\n                                { style: styles.borderBottomStyle, color: styles.borderBottomColor },\r\n                                { style: styles.borderLeftStyle, color: styles.borderLeftColor }\r\n                            ];\r\n                            backgroundPaintingArea = calculateBackgroundCurvedPaintingArea(getBackgroundValueForIndex(styles.backgroundClip, 0), paint.curves);\r\n                            if (!(hasBackground || styles.boxShadow.length)) return [3 /*break*/, 2];\r\n                            this.ctx.save();\r\n                            this.path(backgroundPaintingArea);\r\n                            this.ctx.clip();\r\n                            if (!isTransparent(styles.backgroundColor)) {\r\n                                this.ctx.fillStyle = asString(styles.backgroundColor);\r\n                                this.ctx.fill();\r\n                            }\r\n                            return [4 /*yield*/, this.renderBackgroundImage(paint.container)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            this.ctx.restore();\r\n                            styles.boxShadow\r\n                                .slice(0)\r\n                                .reverse()\r\n                                .forEach(function (shadow) {\r\n                                _this.ctx.save();\r\n                                var borderBoxArea = calculateBorderBoxPath(paint.curves);\r\n                                var maskOffset = shadow.inset ? 0 : MASK_OFFSET;\r\n                                var shadowPaintingArea = transformPath(borderBoxArea, -maskOffset + (shadow.inset ? 1 : -1) * shadow.spread.number, (shadow.inset ? 1 : -1) * shadow.spread.number, shadow.spread.number * (shadow.inset ? -2 : 2), shadow.spread.number * (shadow.inset ? -2 : 2));\r\n                                if (shadow.inset) {\r\n                                    _this.path(borderBoxArea);\r\n                                    _this.ctx.clip();\r\n                                    _this.mask(shadowPaintingArea);\r\n                                }\r\n                                else {\r\n                                    _this.mask(borderBoxArea);\r\n                                    _this.ctx.clip();\r\n                                    _this.path(shadowPaintingArea);\r\n                                }\r\n                                _this.ctx.shadowOffsetX = shadow.offsetX.number + maskOffset;\r\n                                _this.ctx.shadowOffsetY = shadow.offsetY.number;\r\n                                _this.ctx.shadowColor = asString(shadow.color);\r\n                                _this.ctx.shadowBlur = shadow.blur.number;\r\n                                _this.ctx.fillStyle = shadow.inset ? asString(shadow.color) : 'rgba(0,0,0,1)';\r\n                                _this.ctx.fill();\r\n                                _this.ctx.restore();\r\n                            });\r\n                            _a.label = 2;\r\n                        case 2:\r\n                            side = 0;\r\n                            _i = 0, borders_1 = borders;\r\n                            _a.label = 3;\r\n                        case 3:\r\n                            if (!(_i < borders_1.length)) return [3 /*break*/, 7];\r\n                            border = borders_1[_i];\r\n                            if (!(border.style !== BORDER_STYLE.NONE && !isTransparent(border.color))) return [3 /*break*/, 5];\r\n                            return [4 /*yield*/, this.renderBorder(border.color, side, paint.curves)];\r\n                        case 4:\r\n                            _a.sent();\r\n                            _a.label = 5;\r\n                        case 5:\r\n                            side++;\r\n                            _a.label = 6;\r\n                        case 6:\r\n                            _i++;\r\n                            return [3 /*break*/, 3];\r\n                        case 7: return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        CanvasRenderer.prototype.render = function (element) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var stack;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (this.options.backgroundColor) {\r\n                                this.ctx.fillStyle = asString(this.options.backgroundColor);\r\n                                this.ctx.fillRect(this.options.x - this.options.scrollX, this.options.y - this.options.scrollY, this.options.width, this.options.height);\r\n                            }\r\n                            stack = parseStackingContexts(element);\r\n                            return [4 /*yield*/, this.renderStack(stack)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            this.applyEffects([], 2 /* BACKGROUND_BORDERS */);\r\n                            return [2 /*return*/, this.canvas];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        return CanvasRenderer;\r\n    }());\r\n    var isTextInputElement = function (container) {\r\n        if (container instanceof TextareaElementContainer) {\r\n            return true;\r\n        }\r\n        else if (container instanceof SelectElementContainer) {\r\n            return true;\r\n        }\r\n        else if (container instanceof InputElementContainer && container.type !== RADIO && container.type !== CHECKBOX) {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    var calculateBackgroundCurvedPaintingArea = function (clip, curves) {\r\n        switch (clip) {\r\n            case BACKGROUND_CLIP.BORDER_BOX:\r\n                return calculateBorderBoxPath(curves);\r\n            case BACKGROUND_CLIP.CONTENT_BOX:\r\n                return calculateContentBoxPath(curves);\r\n            case BACKGROUND_CLIP.PADDING_BOX:\r\n            default:\r\n                return calculatePaddingBoxPath(curves);\r\n        }\r\n    };\r\n    var canvasTextAlign = function (textAlign) {\r\n        switch (textAlign) {\r\n            case TEXT_ALIGN.CENTER:\r\n                return 'center';\r\n            case TEXT_ALIGN.RIGHT:\r\n                return 'right';\r\n            case TEXT_ALIGN.LEFT:\r\n            default:\r\n                return 'left';\r\n        }\r\n    };\n\n    var ForeignObjectRenderer = /** @class */ (function () {\r\n        function ForeignObjectRenderer(options) {\r\n            this.canvas = options.canvas ? options.canvas : document.createElement('canvas');\r\n            this.ctx = this.canvas.getContext('2d');\r\n            this.options = options;\r\n            this.canvas.width = Math.floor(options.width * options.scale);\r\n            this.canvas.height = Math.floor(options.height * options.scale);\r\n            this.canvas.style.width = options.width + \"px\";\r\n            this.canvas.style.height = options.height + \"px\";\r\n            this.ctx.scale(this.options.scale, this.options.scale);\r\n            this.ctx.translate(-options.x + options.scrollX, -options.y + options.scrollY);\r\n            Logger.getInstance(options.id).debug(\"EXPERIMENTAL ForeignObject renderer initialized (\" + options.width + \"x\" + options.height + \" at \" + options.x + \",\" + options.y + \") with scale \" + options.scale);\r\n        }\r\n        ForeignObjectRenderer.prototype.render = function (element) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var svg, img;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            svg = createForeignObjectSVG(Math.max(this.options.windowWidth, this.options.width) * this.options.scale, Math.max(this.options.windowHeight, this.options.height) * this.options.scale, this.options.scrollX * this.options.scale, this.options.scrollY * this.options.scale, element);\r\n                            return [4 /*yield*/, loadSerializedSVG$1(svg)];\r\n                        case 1:\r\n                            img = _a.sent();\r\n                            if (this.options.backgroundColor) {\r\n                                this.ctx.fillStyle = asString(this.options.backgroundColor);\r\n                                this.ctx.fillRect(0, 0, this.options.width * this.options.scale, this.options.height * this.options.scale);\r\n                            }\r\n                            this.ctx.drawImage(img, -this.options.x * this.options.scale, -this.options.y * this.options.scale);\r\n                            return [2 /*return*/, this.canvas];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        return ForeignObjectRenderer;\r\n    }());\r\n    var loadSerializedSVG$1 = function (svg) {\r\n        return new Promise(function (resolve, reject) {\r\n            var img = new Image();\r\n            img.onload = function () {\r\n                resolve(img);\r\n            };\r\n            img.onerror = reject;\r\n            img.src = \"data:image/svg+xml;charset=utf-8,\" + encodeURIComponent(new XMLSerializer().serializeToString(svg));\r\n        });\r\n    };\n\n    var _this = undefined;\r\n    var parseColor$1 = function (value) { return color.parse(Parser.create(value).parseComponentValue()); };\r\n    var html2canvas = function (element, options) {\r\n        if (options === void 0) { options = {}; }\r\n        return renderElement(element, options);\r\n    };\r\n    if (typeof window !== 'undefined') {\r\n        CacheStorage.setContext(window);\r\n    }\r\n    var renderElement = function (element, opts) { return __awaiter(_this, void 0, void 0, function () {\r\n        var ownerDocument, defaultView, instanceName, _a, width, height, left, top, defaultResourceOptions, resourceOptions, defaultOptions, options, windowBounds, documentCloner, clonedElement, container, documentBackgroundColor, bodyBackgroundColor, bgColor, defaultBackgroundColor, backgroundColor, renderOptions, canvas, renderer, root, renderer;\r\n        return __generator(this, function (_b) {\r\n            switch (_b.label) {\r\n                case 0:\r\n                    ownerDocument = element.ownerDocument;\r\n                    if (!ownerDocument) {\r\n                        throw new Error(\"Element is not attached to a Document\");\r\n                    }\r\n                    defaultView = ownerDocument.defaultView;\r\n                    if (!defaultView) {\r\n                        throw new Error(\"Document is not attached to a Window\");\r\n                    }\r\n                    instanceName = (Math.round(Math.random() * 1000) + Date.now()).toString(16);\r\n                    _a = isBodyElement(element) || isHTMLElement(element) ? parseDocumentSize(ownerDocument) : parseBounds(element), width = _a.width, height = _a.height, left = _a.left, top = _a.top;\r\n                    defaultResourceOptions = {\r\n                        allowTaint: false,\r\n                        imageTimeout: 15000,\r\n                        proxy: undefined,\r\n                        useCORS: false\r\n                    };\r\n                    resourceOptions = __assign({}, defaultResourceOptions, opts);\r\n                    defaultOptions = {\r\n                        backgroundColor: '#ffffff',\r\n                        cache: opts.cache ? opts.cache : CacheStorage.create(instanceName, resourceOptions),\r\n                        logging: true,\r\n                        removeContainer: true,\r\n                        foreignObjectRendering: false,\r\n                        scale: defaultView.devicePixelRatio || 1,\r\n                        windowWidth: defaultView.innerWidth,\r\n                        windowHeight: defaultView.innerHeight,\r\n                        scrollX: defaultView.pageXOffset,\r\n                        scrollY: defaultView.pageYOffset,\r\n                        x: left,\r\n                        y: top,\r\n                        width: Math.ceil(width),\r\n                        height: Math.ceil(height),\r\n                        id: instanceName\r\n                    };\r\n                    options = __assign({}, defaultOptions, resourceOptions, opts);\r\n                    windowBounds = new Bounds(options.scrollX, options.scrollY, options.windowWidth, options.windowHeight);\r\n                    Logger.create({ id: instanceName, enabled: options.logging });\r\n                    Logger.getInstance(instanceName).debug(\"Starting document clone\");\r\n                    documentCloner = new DocumentCloner(element, {\r\n                        id: instanceName,\r\n                        onclone: options.onclone,\r\n                        ignoreElements: options.ignoreElements,\r\n                        inlineImages: options.foreignObjectRendering,\r\n                        copyStyles: options.foreignObjectRendering\r\n                    });\r\n                    clonedElement = documentCloner.clonedReferenceElement;\r\n                    if (!clonedElement) {\r\n                        return [2 /*return*/, Promise.reject(\"Unable to find element in cloned iframe\")];\r\n                    }\r\n                    return [4 /*yield*/, documentCloner.toIFrame(ownerDocument, windowBounds)];\r\n                case 1:\r\n                    container = _b.sent();\r\n                    documentBackgroundColor = ownerDocument.documentElement\r\n                        ? parseColor$1(getComputedStyle(ownerDocument.documentElement).backgroundColor)\r\n                        : COLORS.TRANSPARENT;\r\n                    bodyBackgroundColor = ownerDocument.body\r\n                        ? parseColor$1(getComputedStyle(ownerDocument.body).backgroundColor)\r\n                        : COLORS.TRANSPARENT;\r\n                    bgColor = opts.backgroundColor;\r\n                    defaultBackgroundColor = typeof bgColor === 'string' ? parseColor$1(bgColor) : bgColor === null ? COLORS.TRANSPARENT : 0xffffffff;\r\n                    backgroundColor = element === ownerDocument.documentElement\r\n                        ? isTransparent(documentBackgroundColor)\r\n                            ? isTransparent(bodyBackgroundColor)\r\n                                ? defaultBackgroundColor\r\n                                : bodyBackgroundColor\r\n                            : documentBackgroundColor\r\n                        : defaultBackgroundColor;\r\n                    renderOptions = {\r\n                        id: instanceName,\r\n                        cache: options.cache,\r\n                        canvas: options.canvas,\r\n                        backgroundColor: backgroundColor,\r\n                        scale: options.scale,\r\n                        x: options.x,\r\n                        y: options.y,\r\n                        scrollX: options.scrollX,\r\n                        scrollY: options.scrollY,\r\n                        width: options.width,\r\n                        height: options.height,\r\n                        windowWidth: options.windowWidth,\r\n                        windowHeight: options.windowHeight\r\n                    };\r\n                    if (!options.foreignObjectRendering) return [3 /*break*/, 3];\r\n                    Logger.getInstance(instanceName).debug(\"Document cloned, using foreign object rendering\");\r\n                    renderer = new ForeignObjectRenderer(renderOptions);\r\n                    return [4 /*yield*/, renderer.render(clonedElement)];\r\n                case 2:\r\n                    canvas = _b.sent();\r\n                    return [3 /*break*/, 5];\r\n                case 3:\r\n                    Logger.getInstance(instanceName).debug(\"Document cloned, using computed rendering\");\r\n                    CacheStorage.attachInstance(options.cache);\r\n                    Logger.getInstance(instanceName).debug(\"Starting DOM parsing\");\r\n                    root = parseTree(clonedElement);\r\n                    CacheStorage.detachInstance();\r\n                    if (backgroundColor === root.styles.backgroundColor) {\r\n                        root.styles.backgroundColor = COLORS.TRANSPARENT;\r\n                    }\r\n                    Logger.getInstance(instanceName).debug(\"Starting renderer\");\r\n                    renderer = new CanvasRenderer(renderOptions);\r\n                    return [4 /*yield*/, renderer.render(root)];\r\n                case 4:\r\n                    canvas = _b.sent();\r\n                    _b.label = 5;\r\n                case 5:\r\n                    if (options.removeContainer === true) {\r\n                        if (!DocumentCloner.destroy(container)) {\r\n                            Logger.getInstance(instanceName).error(\"Cannot detach cloned iframe as it is not in the DOM anymore\");\r\n                        }\r\n                    }\r\n                    Logger.getInstance(instanceName).debug(\"Finished rendering\");\r\n                    Logger.destroy(instanceName);\r\n                    CacheStorage.destroy(instanceName);\r\n                    return [2 /*return*/, canvas];\r\n            }\r\n        });\r\n    }); };\n\n    return html2canvas;\n\n}));\n//# sourceMappingURL=html2canvas.js.map\n","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","// BigPicture.js | license MIT | henrygd.me/bigpicture\n\n// trigger element used to open popup\nvar el;\n\n// set to true after first interaction\nvar initialized;\n\n// container element holding html needed for script\nvar container;\n\n// currently active display element (image, video, youtube / vimeo iframe container)\nvar displayElement;\n\n// popup image element\nvar displayImage;\n\n// popup video element\nvar displayVideo;\n\n// popup audio element\nvar displayAudio;\n\n// container element to hold youtube / vimeo iframe\nvar iframeContainer;\n\n// iframe to hold youtube / vimeo player\nvar iframeSiteVid;\n\n// store requested image source\nvar imgSrc;\n\n// button that closes the container\nvar closeButton;\n\n// youtube / vimeo video id\nvar siteVidID;\n\n// keeps track of loading icon display state\nvar isLoading;\n\n// timeout to check video status while loading\nvar checkMediaTimeout;\n\n// loading icon element\nvar loadingIcon;\n\n// caption element\nvar caption;\n\n// caption content element\nvar captionText;\n\n// store caption content\nvar captionContent;\n\n// hide caption button element\nvar captionHideButton;\n\n// open state for container element\nvar isOpen;\n\n// gallery open state\nvar galleryOpen;\n\n// used during close animation to avoid triggering timeout twice\nvar isClosing;\n\n// array of prev viewed image urls to check if cached before showing loading icon\nvar imgCache = [];\n\n// store whether image requested is remote or local\nvar remoteImage;\n\n// store animation opening callbacks\nvar animationStart;\nvar animationEnd;\n\n// store changeGalleryImage callback\nvar onChangeImage;\n\n// gallery left / right icons\nvar rightArrowBtn;\n\nvar leftArrowBtn;\n\n// position of gallery\nvar galleryPosition;\n\n// hold active gallery els / image src\nvar galleryEls;\n\n// counter element\nvar galleryCounter;\n\n// store images in gallery that are being loaded\nvar preloadedImages = {};\n\n// whether device supports touch events\nvar supportsTouch;\n\n// options object\nvar opts;\n\n// Save bytes in the minified version\nvar appendEl = 'appendChild';\nvar createEl = 'createElement';\nvar removeEl = 'removeChild';\n\nfunction BigPicture (options) {\n\t// initialize called on initial open to create elements / style / event handlers\n\tinitialized || initialize();\n\n\t// clear currently loading stuff\n\tif (isLoading) {\n\t\tclearTimeout(checkMediaTimeout);\n\t\tremoveContainer();\n\t}\n\n\topts = options;\n\n\t// store video id if youtube / vimeo video is requested\n\tsiteVidID = options.ytSrc || options.vimeoSrc;\n\n\t// store optional callbacks\n\tanimationStart = options.animationStart;\n\tanimationEnd = options.animationEnd;\n\tonChangeImage = options.onChangeImage;\n\n\t// set trigger element\n\tel = options.el;\n\n\t// wipe existing remoteImage state\n\tremoteImage = false;\n\n\t// set caption if provided\n\tcaptionContent = el.getAttribute('data-caption');\n\n\tif (options.gallery) {\n\t\tmakeGallery(options.gallery, options.position);\n\t} else if (siteVidID || options.iframeSrc) {\n\t\t// if vimeo, youtube, or iframe video\n\t\t// toggleLoadingIcon(true)\n\t\tdisplayElement = iframeContainer;\n\t\tcreateIframe();\n\t} else if (options.imgSrc) {\n\t\t// if remote image\n\t\tremoteImage = true;\n\t\timgSrc = options.imgSrc;\n\t\t!~imgCache.indexOf(imgSrc) && toggleLoadingIcon(true);\n\t\tdisplayElement = displayImage;\n\t\tdisplayElement.src = imgSrc;\n\t} else if (options.audio) {\n\t\t// if direct video link\n\t\ttoggleLoadingIcon(true);\n\t\tdisplayElement = displayAudio;\n\t\tdisplayElement.src = options.audio;\n\t\tcheckMedia('audio file');\n\t} else if (options.vidSrc) {\n\t\t// if direct video link\n\t\ttoggleLoadingIcon(true);\n\t\tif (options.dimensions) {\n\t\t\tchangeCSS(displayVideo, (\"width:\" + (options.dimensions[0]) + \"px\"));\n\t\t}\n\t\tmakeVidSrc(options.vidSrc);\n\t\tcheckMedia('video');\n\t} else {\n\t\t// local image / background image already loaded on page\n\t\tdisplayElement = displayImage;\n\t\t// get img source or element background image\n\t\tdisplayElement.src =\n\t\t\tel.tagName === 'IMG'\n\t\t\t\t? el.src\n\t\t\t\t: window\n\t\t\t\t\t\t.getComputedStyle(el)\n\t\t\t\t\t\t.backgroundImage.replace(/^url|[(|)|'|\"]/g, '');\n\t}\n\n\t// add container to page\n\tcontainer[appendEl](displayElement);\n\tdocument.body[appendEl](container);\n\treturn {\n\t\tclose: close,\n\t\tnext: function () { return updateGallery(1); },\n\t\tprev: function () { return updateGallery(-1); },\n\t}\n}\n\n// create all needed methods / store dom elements on first use\nfunction initialize() {\n\tvar startX;\n\t// return close button elements\n\tfunction createCloseButton(className) {\n\t\tvar el = document[createEl]('button');\n\t\tel.className = className;\n\t\tel.innerHTML =\n\t\t\t'<svg viewBox=\"0 0 48 48\"><path d=\"M28 24L47 5a3 3 0 1 0-4-4L24 20 5 1a3 3 0 1 0-4 4l19 19L1 43a3 3 0 1 0 4 4l19-19 19 19a3 3 0 0 0 4 0v-4L28 24z\"/></svg>';\n\t\treturn el\n\t}\n\n\tfunction createArrowSymbol(direction, style) {\n\t\tvar el = document[createEl]('button');\n\t\tel.className = 'bp-lr';\n\t\tel.innerHTML =\n\t\t\t'<svg viewBox=\"0 0 129 129\" height=\"70\" fill=\"#fff\"><path d=\"M88.6 121.3c.8.8 1.8 1.2 2.9 1.2s2.1-.4 2.9-1.2a4.1 4.1 0 0 0 0-5.8l-51-51 51-51a4.1 4.1 0 0 0-5.8-5.8l-54 53.9a4.1 4.1 0 0 0 0 5.8l54 53.9z\"/></svg>';\n\t\tchangeCSS(el, style);\n\t\tel.onclick = function (e) {\n\t\t\te.stopPropagation();\n\t\t\tupdateGallery(direction);\n\t\t};\n\t\treturn el\n\t}\n\n\t// add style - if you want to tweak, run through beautifier\n\tvar style = document[createEl]('STYLE');\n\tstyle.innerHTML =\n\t\t'#bp_caption,#bp_container{bottom:0;left:0;right:0;position:fixed;opacity:0}#bp_container>*,#bp_loader{position:absolute;right:0;z-index:10}#bp_container,#bp_caption,#bp_container svg{pointer-events:none}#bp_container{top:0;z-index:9999;background:rgba(0,0,0,.7);opacity:0;transition:opacity .35s}#bp_loader{top:0;left:0;bottom:0;display:flex;align-items:center;cursor:wait;background:0;z-index:9}#bp_loader svg{width:50%;max-width:300px;max-height:50%;margin:auto;animation:bpturn 1s infinite linear}#bp_aud,#bp_container img,#bp_sv,#bp_vid{user-select:none;max-height:96%;max-width:96%;top:0;bottom:0;left:0;margin:auto;box-shadow:0 0 3em rgba(0,0,0,.4);z-index:-1}#bp_sv{background:#111}#bp_sv svg{width:66px}#bp_caption{font-size:.9em;padding:1.3em;background:rgba(15,15,15,.94);color:#fff;text-align:center;transition:opacity .3s}#bp_aud{width:650px;top:calc(50% - 20px);bottom:auto;box-shadow:none}#bp_count{left:0;right:auto;padding:14px;color:rgba(255,255,255,.7);font-size:22px;cursor:default}#bp_container button{position:absolute;border:0;outline:0;background:0;cursor:pointer;transition:all .1s}#bp_container>.bp-x{padding:0;height:41px;width:41px;border-radius:100%;top:8px;right:14px;opacity:.8;line-height:1}#bp_container>.bp-x:focus,#bp_container>.bp-x:hover{background:rgba(255,255,255,.2)}.bp-x svg,.bp-xc svg{height:21px;width:20px;fill:#fff;vertical-align:top;}.bp-xc svg{width:16px}#bp_container .bp-xc{left:2%;bottom:100%;padding:9px 20px 7px;background:#d04444;border-radius:2px 2px 0 0;opacity:.85}#bp_container .bp-xc:focus,#bp_container .bp-xc:hover{opacity:1}.bp-lr{top:50%;top:calc(50% - 130px);padding:99px 0;width:6%;background:0;border:0;opacity:.4;transition:opacity .1s}.bp-lr:focus,.bp-lr:hover{opacity:.8}@keyframes bpf{50%{transform:translatex(15px)}100%{transform:none}}@keyframes bpl{50%{transform:translatex(-15px)}100%{transform:none}}@keyframes bpfl{0%{opacity:0;transform:translatex(70px)}100%{opacity:1;transform:none}}@keyframes bpfr{0%{opacity:0;transform:translatex(-70px)}100%{opacity:1;transform:none}}@keyframes bpfol{0%{opacity:1;transform:none}100%{opacity:0;transform:translatex(-70px)}}@keyframes bpfor{0%{opacity:1;transform:none}100%{opacity:0;transform:translatex(70px)}}@keyframes bpturn{0%{transform:none}100%{transform:rotate(360deg)}}@media (max-width:600px){.bp-lr{font-size:15vw}}';\n\tdocument.head[appendEl](style);\n\n\t// create container element\n\tcontainer = document[createEl]('DIV');\n\tcontainer.id = 'bp_container';\n\tcontainer.onclick = close;\n\tcloseButton = createCloseButton('bp-x');\n\tcontainer[appendEl](closeButton);\n\t// gallery swipe listeners\n\tif ('ontouchstart' in window) {\n\t\tsupportsTouch = true;\n\t\tcontainer.ontouchstart = function (ref) {\n\t\t\tvar changedTouches = ref.changedTouches;\n\n\t\t\tstartX = changedTouches[0].pageX;\n\t\t};\n\t\tcontainer.ontouchmove = function (e) {\n\t\t\te.preventDefault();\n\t\t};\n\t\tcontainer.ontouchend = function (ref) {\n\t\t\tvar changedTouches = ref.changedTouches;\n\n\t\t\tif (!galleryOpen) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tvar distX = changedTouches[0].pageX - startX;\n\t\t\t// swipe right\n\t\t\tdistX < -30 && updateGallery(1);\n\t\t\t// swipe left\n\t\t\tdistX > 30 && updateGallery(-1);\n\t\t};\n\t}\n\n\t// create display image element\n\tdisplayImage = document[createEl]('IMG');\n\n\t// create display video element\n\tdisplayVideo = document[createEl]('VIDEO');\n\tdisplayVideo.id = 'bp_vid';\n\tdisplayVideo.setAttribute('playsinline', true);\n\tdisplayVideo.controls = true;\n\tdisplayVideo.loop = true;\n\n\t// create audio element\n\tdisplayAudio = document[createEl]('audio');\n\tdisplayAudio.id = 'bp_aud';\n\tdisplayAudio.controls = true;\n\tdisplayAudio.loop = true;\n\n\t// create gallery counter\n\tgalleryCounter = document[createEl]('span');\n\tgalleryCounter.id = 'bp_count';\n\n\t// create caption elements\n\tcaption = document[createEl]('DIV');\n\tcaption.id = 'bp_caption';\n\tcaptionHideButton = createCloseButton('bp-xc');\n\tcaptionHideButton.onclick = toggleCaption.bind(null, false);\n\tcaption[appendEl](captionHideButton);\n\tcaptionText = document[createEl]('SPAN');\n\tcaption[appendEl](captionText);\n\tcontainer[appendEl](caption);\n\n\t// left / right arrow icons\n\trightArrowBtn = createArrowSymbol(1, 'transform:scalex(-1)');\n\tleftArrowBtn = createArrowSymbol(-1, 'left:0;right:auto');\n\n\t// create loading icon element\n\tloadingIcon = document[createEl]('DIV');\n\tloadingIcon.id = 'bp_loader';\n\tloadingIcon.innerHTML =\n\t\t'<svg viewbox=\"0 0 32 32\" fill=\"#fff\" opacity=\".8\"><path d=\"M16 0a16 16 0 0 0 0 32 16 16 0 0 0 0-32m0 4a12 12 0 0 1 0 24 12 12 0 0 1 0-24\" fill=\"#000\" opacity=\".5\"/><path d=\"M16 0a16 16 0 0 1 16 16h-4A12 12 0 0 0 16 4z\"/></svg>';\n\t// create youtube / vimeo container\n\tiframeContainer = document[createEl]('DIV');\n\tiframeContainer.id = 'bp_sv';\n\n\t// create iframe to hold youtube / vimeo player\n\tiframeSiteVid = document[createEl]('IFRAME');\n\tiframeSiteVid.setAttribute('allowfullscreen', true);\n\tiframeSiteVid.allow = 'autoplay; fullscreen';\n\tiframeSiteVid.onload = function () { return iframeContainer[removeEl](loadingIcon); };\n\tchangeCSS(\n\t\tiframeSiteVid,\n\t\t'border:0;position:absolute;height:100%;width:100%;left:0;top:0'\n\t);\n\tiframeContainer[appendEl](iframeSiteVid);\n\n\t// display image bindings for image load and error\n\tdisplayImage.onload = open;\n\tdisplayImage.onerror = open.bind(null, 'image');\n\n\twindow.addEventListener('resize', function () {\n\t\t// adjust loader position on window resize\n\t\tgalleryOpen || (isLoading && toggleLoadingIcon(true));\n\t\t// adjust iframe dimensions\n\t\tdisplayElement === iframeContainer && updateIframeDimensions();\n\t});\n\n\t// close container on escape key press and arrow buttons for gallery\n\tdocument.addEventListener('keyup', function (ref) {\n\t\tvar keyCode = ref.keyCode;\n\n\t\tkeyCode === 27 && isOpen && close();\n\t\tif (galleryOpen) {\n\t\t\tkeyCode === 39 && updateGallery(1);\n\t\t\tkeyCode === 37 && updateGallery(-1);\n\t\t\tkeyCode === 38 && updateGallery(10);\n\t\t\tkeyCode === 40 && updateGallery(-10);\n\t\t}\n\t});\n\t// prevent scrolling with arrow keys if gallery open\n\tdocument.addEventListener('keydown', function (e) {\n\t\tvar usedKeys = [37, 38, 39, 40];\n\t\tif (galleryOpen && ~usedKeys.indexOf(e.keyCode)) {\n\t\t\te.preventDefault();\n\t\t}\n\t});\n\n\t// trap focus within conainer while open\n\tdocument.addEventListener(\n\t\t'focus',\n\t\tfunction (e) {\n\t\t\tif (isOpen && !container.contains(e.target)) {\n\t\t\t\te.stopPropagation();\n\t\t\t\tcloseButton.focus();\n\t\t\t}\n\t\t},\n\t\ttrue\n\t);\n\n\t// all done\n\tinitialized = true;\n}\n\n// return transform style to make full size display el match trigger el size\nfunction getRect() {\n\tvar ref = el.getBoundingClientRect();\n\tvar top = ref.top;\n\tvar left = ref.left;\n\tvar width = ref.width;\n\tvar height = ref.height;\n\tvar leftOffset = left - (container.clientWidth - width) / 2;\n\tvar centerTop = top - (container.clientHeight - height) / 2;\n\tvar scaleWidth = el.clientWidth / displayElement.clientWidth;\n\tvar scaleHeight = el.clientHeight / displayElement.clientHeight;\n\treturn (\"transform:translate3D(\" + leftOffset + \"px, \" + centerTop + \"px, 0) scale3D(\" + scaleWidth + \", \" + scaleHeight + \", 0)\")\n}\n\nfunction makeVidSrc(source) {\n\tif (Array.isArray(source)) {\n\t\tdisplayElement = displayVideo.cloneNode();\n\t\tsource.forEach(function (src) {\n\t\t\tvar source = document[createEl]('SOURCE');\n\t\t\tsource.src = src;\n\t\t\tsource.type = \"video/\" + (src.match(/.(\\w+)$/)[1]);\n\t\t\tdisplayElement[appendEl](source);\n\t\t});\n\t} else {\n\t\tdisplayElement = displayVideo;\n\t\tdisplayElement.src = source;\n\t}\n}\n\nfunction makeGallery(gallery, position) {\n\tvar galleryAttribute = opts.galleryAttribute || 'data-bp';\n\tif (Array.isArray(gallery)) {\n\t\t// is array of images\n\t\tgalleryPosition = position || 0;\n\t\tgalleryEls = gallery;\n\t\tcaptionContent = gallery[galleryPosition].caption;\n\t} else {\n\t\t// is element selector or nodelist\n\t\tgalleryEls = [].slice.call(\n\t\t\ttypeof gallery === 'string'\n\t\t\t\t? document.querySelectorAll((gallery + \" [\" + galleryAttribute + \"]\"))\n\t\t\t\t: gallery\n\t\t);\n\t\t// find initial gallery position\n\t\tvar elIndex = galleryEls.indexOf(el);\n\t\tgalleryPosition =\n\t\t\tposition === 0 || position ? position : elIndex !== -1 ? elIndex : 0;\n\t\t// make gallery object w/ els / src / caption\n\t\tgalleryEls = galleryEls.map(function (el) { return ({\n\t\t\tel: el,\n\t\t\tsrc: el.getAttribute(galleryAttribute),\n\t\t\tcaption: el.getAttribute('data-caption'),\n\t\t}); });\n\t}\n\t// show loading icon if needed\n\tremoteImage = true;\n\t// set initial src to imgSrc so it will be cached in open func\n\timgSrc = galleryEls[galleryPosition].src;\n\t!~imgCache.indexOf(imgSrc) && toggleLoadingIcon(true);\n\tif (galleryEls.length > 1) {\n\t\t// if length is greater than one, add gallery stuff\n\t\tcontainer[appendEl](galleryCounter);\n\t\tgalleryCounter.innerHTML = (galleryPosition + 1) + \"/\" + (galleryEls.length);\n\t\tif (!supportsTouch) {\n\t\t\t// add arrows if device doesn't support touch\n\t\t\tcontainer[appendEl](rightArrowBtn);\n\t\t\tcontainer[appendEl](leftArrowBtn);\n\t\t}\n\t} else {\n\t\t// gallery is one, just show without clutter\n\t\tgalleryEls = false;\n\t}\n\tdisplayElement = displayImage;\n\t// set initial image src\n\tdisplayElement.src = imgSrc;\n}\n\nfunction updateGallery(movement) {\n\tvar galleryLength = galleryEls.length - 1;\n\n\t// only allow one change at a time\n\tif (isLoading) {\n\t\treturn\n\t}\n\n\t// return if requesting out of range image\n\tvar isEnd =\n\t\t(movement > 0 && galleryPosition === galleryLength) ||\n\t\t(movement < 0 && !galleryPosition);\n\tif (isEnd) {\n\t\t// if beginning or end of gallery, run end animation\n\t\tif (!opts.loop) {\n\t\t\tchangeCSS(displayImage, '');\n\t\t\tsetTimeout(\n\t\t\t\tchangeCSS,\n\t\t\t\t9,\n\t\t\t\tdisplayImage,\n\t\t\t\t(\"animation:\" + (movement > 0 ? 'bpl' : 'bpf') + \" .3s;transition:transform .35s\")\n\t\t\t);\n\t\t\treturn\n\t\t}\n\t\t// if gallery is looped, adjust position to beginning / end\n\t\tgalleryPosition = movement > 0 ? -1 : galleryLength + 1;\n\t}\n\n\t// normalize position\n\tgalleryPosition = Math.max(\n\t\t0,\n\t\tMath.min(galleryPosition + movement, galleryLength)\n\t)\n\n\t// load images before and after for quicker scrolling through pictures\n\t;[galleryPosition - 1, galleryPosition, galleryPosition + 1].forEach(\n\t\tfunction (position) {\n\t\t\t// normalize position\n\t\t\tposition = Math.max(0, Math.min(position, galleryLength));\n\t\t\t// cancel if image has already been preloaded\n\t\t\tif (preloadedImages[position]) { return }\n\t\t\tvar src = galleryEls[position].src;\n\t\t\t// create image for preloadedImages\n\t\t\tvar img = document[createEl]('IMG');\n\t\t\timg.addEventListener('load', addToImgCache.bind(null, src));\n\t\t\timg.src = src;\n\t\t\tpreloadedImages[position] = img;\n\t\t}\n\t);\n\t// if image is loaded, show it\n\tif (preloadedImages[galleryPosition].complete) {\n\t\treturn changeGalleryImage(movement)\n\t}\n\t// if not, show loading icon and change when loaded\n\tisLoading = true;\n\tchangeCSS(loadingIcon, 'opacity:.4;');\n\tcontainer[appendEl](loadingIcon);\n\tpreloadedImages[galleryPosition].onload = function () {\n\t\tgalleryOpen && changeGalleryImage(movement);\n\t};\n\t// if error, store error object in el array\n\tpreloadedImages[galleryPosition].onerror = function () {\n\t\tgalleryEls[galleryPosition] = {\n\t\t\terror: 'Error loading image',\n\t\t};\n\t\tgalleryOpen && changeGalleryImage(movement);\n\t};\n}\n\nfunction changeGalleryImage(movement) {\n\tif (isLoading) {\n\t\tcontainer[removeEl](loadingIcon);\n\t\tisLoading = false;\n\t}\n\tvar activeEl = galleryEls[galleryPosition];\n\tif (activeEl.error) {\n\t\t// show alert if error\n\t\talert(activeEl.error);\n\t} else {\n\t\t// add new image, animate images in and out w/ css animation\n\t\tvar oldimg = container.querySelector('img:last-of-type');\n\t\tdisplayImage = displayElement = preloadedImages[galleryPosition];\n\t\tchangeCSS(\n\t\t\tdisplayImage,\n\t\t\t(\"animation:\" + (movement > 0 ? 'bpfl' : 'bpfr') + \" .35s;transition:transform .35s\")\n\t\t);\n\t\tchangeCSS(oldimg, (\"animation:\" + (movement > 0 ? 'bpfol' : 'bpfor') + \" .35s both\"));\n\t\tcontainer[appendEl](displayImage);\n\t\t// update el for closing animation\n\t\tif (activeEl.el) {\n\t\t\tel = activeEl.el;\n\t\t}\n\t}\n\t// update counter\n\tgalleryCounter.innerHTML = (galleryPosition + 1) + \"/\" + (galleryEls.length);\n\t// show / hide caption\n\ttoggleCaption(galleryEls[galleryPosition].caption);\n\t// execute onChangeImage callback\n\tonChangeImage && onChangeImage([displayImage, galleryEls[galleryPosition]]);\n}\n\n// create video iframe\nfunction createIframe() {\n\tvar url;\n\tvar prefix = 'https://';\n\tvar suffix = 'autoplay=1';\n\n\t// create appropriate url\n\tif (opts.ytSrc) {\n\t\turl = prefix + \"www.youtube\" + (opts.ytNoCookie ? '-nocookie' : '') + \".com/embed/\" + siteVidID + \"?html5=1&rel=0&playsinline=1&\" + suffix;\n\t} else if (opts.vimeoSrc) {\n\t\turl = prefix + \"player.vimeo.com/video/\" + siteVidID + \"?\" + suffix;\n\t} else if (opts.iframeSrc) {\n\t\turl = opts.iframeSrc;\n\t}\n\n\t// add loading spinner to iframe container\n\tchangeCSS(loadingIcon, '');\n\tiframeContainer[appendEl](loadingIcon);\n\n\t// set iframe src to url\n\tiframeSiteVid.src = url;\n\n\tupdateIframeDimensions();\n\n\tsetTimeout(open, 9);\n}\n\nfunction updateIframeDimensions() {\n\tvar height;\n\tvar width;\n\n\t// handle height / width / aspect / max width for iframe\n\tvar windowHeight = window.innerHeight * 0.95;\n\tvar windowWidth = window.innerWidth * 0.95;\n\tvar windowAspect = windowHeight / windowWidth;\n\n\tvar ref = opts.dimensions || [1920, 1080];\n\tvar dimensionWidth = ref[0];\n\tvar dimensionHeight = ref[1];\n\n\tvar iframeAspect = dimensionHeight / dimensionWidth;\n\n\tif (iframeAspect > windowAspect) {\n\t\theight = Math.min(dimensionHeight, windowHeight);\n\t\twidth = height / iframeAspect;\n\t} else {\n\t\twidth = Math.min(dimensionWidth, windowWidth);\n\t\theight = width * iframeAspect;\n\t}\n\n\tiframeContainer.style.cssText += \"width:\" + width + \"px;height:\" + height + \"px;\";\n}\n\n// timeout to check video status while loading\nfunction checkMedia(errMsg) {\n\tif (~[1, 4].indexOf(displayElement.readyState)) {\n\t\topen();\n\t\t// short timeout to to make sure controls show in safari 11\n\t\tsetTimeout(function () {\n\t\t\tdisplayElement.play();\n\t\t}, 99);\n\t} else if (displayElement.error) {\n\t\topen(errMsg);\n\t} else {\n\t\tcheckMediaTimeout = setTimeout(checkMedia, 35, errMsg);\n\t}\n}\n\n// hide / show loading icon\nfunction toggleLoadingIcon(bool) {\n\t// don't show loading icon if noLoader is specified\n\tif (opts.noLoader) {\n\t\treturn\n\t}\n\t// bool is true if we want to show icon, false if we want to remove\n\t// change style to match trigger element dimensions if we want to show\n\tbool &&\n\t\tchangeCSS(\n\t\t\tloadingIcon,\n\t\t\t(\"top:\" + (el.offsetTop) + \"px;left:\" + (el.offsetLeft) + \"px;height:\" + (el.clientHeight) + \"px;width:\" + (el.clientWidth) + \"px\")\n\t\t);\n\t// add or remove loader from DOM\n\tel.parentElement[bool ? appendEl : removeEl](loadingIcon);\n\tisLoading = bool;\n}\n\n// hide & show caption\nfunction toggleCaption(captionContent) {\n\tif (captionContent) {\n\t\tcaptionText.innerHTML = captionContent;\n\t}\n\tchangeCSS(\n\t\tcaption,\n\t\t(\"opacity:\" + (captionContent ? \"1;pointer-events:auto\" : '0'))\n\t);\n}\n\nfunction addToImgCache(url) {\n\t!~imgCache.indexOf(url) && imgCache.push(url);\n}\n\n// animate open of image / video; display caption if needed\nfunction open(err) {\n\t// hide loading spinner\n\tisLoading && toggleLoadingIcon();\n\n\t// execute animationStart callback\n\tanimationStart && animationStart();\n\n\t// check if we have an error string instead of normal event\n\tif (typeof err === 'string') {\n\t\tremoveContainer();\n\t\treturn opts.onError\n\t\t\t? opts.onError()\n\t\t\t: alert((\"Error: The requested \" + err + \" could not be loaded.\"))\n\t}\n\n\t// if remote image is loaded, add url to imgCache array\n\tremoteImage && addToImgCache(imgSrc);\n\n\t// transform displayEl to match trigger el\n\tdisplayElement.style.cssText += getRect();\n\n\t// fade in container\n\tchangeCSS(container, \"opacity:1;pointer-events:auto\");\n\n\t// set animationEnd callback to run after animation ends (cleared if container closed)\n\tif (animationEnd) {\n\t\tanimationEnd = setTimeout(animationEnd, 410);\n\t}\n\n\tisOpen = true;\n\n\tgalleryOpen = !!galleryEls;\n\n\t// enlarge displayEl, fade in caption if hasCaption\n\tsetTimeout(function () {\n\t\tdisplayElement.style.cssText += 'transition:transform .35s;transform:none';\n\t\tcaptionContent && setTimeout(toggleCaption, 250, captionContent);\n\t}, 60);\n}\n\n// close active display element\nfunction close(e) {\n\tvar target = e ? e.target : container;\n\tvar clickEls = [\n\t\tcaption,\n\t\tcaptionHideButton,\n\t\tdisplayVideo,\n\t\tdisplayAudio,\n\t\tcaptionText,\n\t\tleftArrowBtn,\n\t\trightArrowBtn,\n\t\tloadingIcon ];\n\n\t// blur to hide close button focus style\n\ttarget.blur();\n\n\t// don't close if one of the clickEls was clicked or container is already closing\n\tif (isClosing || ~clickEls.indexOf(target)) {\n\t\treturn\n\t}\n\n\t// animate closing\n\tdisplayElement.style.cssText += getRect();\n\tchangeCSS(container, 'pointer-events:auto');\n\n\t// timeout to remove els from dom; use variable to avoid calling more than once\n\tsetTimeout(removeContainer, 350);\n\n\t// clear animationEnd timeout\n\tclearTimeout(animationEnd);\n\n\tisOpen = false;\n\tisClosing = true;\n}\n\n// remove container / display element from the DOM\nfunction removeContainer() {\n\t// clear src of displayElement (or iframe if display el is iframe container)\n\t// needs to be done before removing container in IE\n\tvar srcEl =\n\t\tdisplayElement === iframeContainer ? iframeSiteVid : displayElement;\n\tsrcEl.removeAttribute('src');\n\n\t// remove container from DOM & clear inline style\n\tdocument.body[removeEl](container);\n\tcontainer[removeEl](displayElement);\n\tchangeCSS(container, '');\n\tchangeCSS(displayElement, '');\n\n\t// remove caption\n\ttoggleCaption(false);\n\n\tif (galleryOpen) {\n\t\t// remove all gallery stuff\n\t\tvar images = container.querySelectorAll('img');\n\t\tfor (var i = 0; i < images.length; i++) {\n\t\t\tcontainer[removeEl](images[i]);\n\t\t}\n\t\tisLoading && container[removeEl](loadingIcon);\n\t\tcontainer[removeEl](galleryCounter);\n\t\tgalleryOpen = galleryEls = false;\n\t\tpreloadedImages = {};\n\t\tsupportsTouch || container[removeEl](rightArrowBtn);\n\t\tsupportsTouch || container[removeEl](leftArrowBtn);\n\t\t// in case displayimage changed, we need to update event listeners\n\t\tdisplayImage.onload = open;\n\t\tdisplayImage.onerror = open.bind(null, 'image');\n\t}\n\n\t// run close callback\n\topts.onClose && opts.onClose();\n\n\tisClosing = isLoading = false;\n}\n\n// style helper functions\nfunction changeCSS(ref, newStyle) {\n\tvar style = ref.style;\n\n\tstyle.cssText = newStyle;\n}\n\nmodule.exports = BigPicture;\n","function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var objectWithoutPropertiesLoose = require(\"./objectWithoutPropertiesLoose.js\");\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutProperties;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}\n","/**\r\n * A collection of shims that provide minimal functionality of the ES6 collections.\r\n *\r\n * These implementations are not meant to be used outside of the ResizeObserver\r\n * modules as they cover only a limited range of use cases.\r\n */\r\n/* eslint-disable require-jsdoc, valid-jsdoc */\r\nvar MapShim = (function () {\r\n    if (typeof Map !== 'undefined') {\r\n        return Map;\r\n    }\r\n    /**\r\n     * Returns index in provided array that matches the specified key.\r\n     *\r\n     * @param {Array<Array>} arr\r\n     * @param {*} key\r\n     * @returns {number}\r\n     */\r\n    function getIndex(arr, key) {\r\n        var result = -1;\r\n        arr.some(function (entry, index) {\r\n            if (entry[0] === key) {\r\n                result = index;\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n        return result;\r\n    }\r\n    return /** @class */ (function () {\r\n        function class_1() {\r\n            this.__entries__ = [];\r\n        }\r\n        Object.defineProperty(class_1.prototype, \"size\", {\r\n            /**\r\n             * @returns {boolean}\r\n             */\r\n            get: function () {\r\n                return this.__entries__.length;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        /**\r\n         * @param {*} key\r\n         * @returns {*}\r\n         */\r\n        class_1.prototype.get = function (key) {\r\n            var index = getIndex(this.__entries__, key);\r\n            var entry = this.__entries__[index];\r\n            return entry && entry[1];\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @param {*} value\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.set = function (key, value) {\r\n            var index = getIndex(this.__entries__, key);\r\n            if (~index) {\r\n                this.__entries__[index][1] = value;\r\n            }\r\n            else {\r\n                this.__entries__.push([key, value]);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.delete = function (key) {\r\n            var entries = this.__entries__;\r\n            var index = getIndex(entries, key);\r\n            if (~index) {\r\n                entries.splice(index, 1);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.has = function (key) {\r\n            return !!~getIndex(this.__entries__, key);\r\n        };\r\n        /**\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.clear = function () {\r\n            this.__entries__.splice(0);\r\n        };\r\n        /**\r\n         * @param {Function} callback\r\n         * @param {*} [ctx=null]\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.forEach = function (callback, ctx) {\r\n            if (ctx === void 0) { ctx = null; }\r\n            for (var _i = 0, _a = this.__entries__; _i < _a.length; _i++) {\r\n                var entry = _a[_i];\r\n                callback.call(ctx, entry[1], entry[0]);\r\n            }\r\n        };\r\n        return class_1;\r\n    }());\r\n})();\n\n/**\r\n * Detects whether window and document objects are available in current environment.\r\n */\r\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && window.document === document;\n\n// Returns global object of a current environment.\r\nvar global$1 = (function () {\r\n    if (typeof global !== 'undefined' && global.Math === Math) {\r\n        return global;\r\n    }\r\n    if (typeof self !== 'undefined' && self.Math === Math) {\r\n        return self;\r\n    }\r\n    if (typeof window !== 'undefined' && window.Math === Math) {\r\n        return window;\r\n    }\r\n    // eslint-disable-next-line no-new-func\r\n    return Function('return this')();\r\n})();\n\n/**\r\n * A shim for the requestAnimationFrame which falls back to the setTimeout if\r\n * first one is not supported.\r\n *\r\n * @returns {number} Requests' identifier.\r\n */\r\nvar requestAnimationFrame$1 = (function () {\r\n    if (typeof requestAnimationFrame === 'function') {\r\n        // It's required to use a bounded function because IE sometimes throws\r\n        // an \"Invalid calling object\" error if rAF is invoked without the global\r\n        // object on the left hand side.\r\n        return requestAnimationFrame.bind(global$1);\r\n    }\r\n    return function (callback) { return setTimeout(function () { return callback(Date.now()); }, 1000 / 60); };\r\n})();\n\n// Defines minimum timeout before adding a trailing call.\r\nvar trailingTimeout = 2;\r\n/**\r\n * Creates a wrapper function which ensures that provided callback will be\r\n * invoked only once during the specified delay period.\r\n *\r\n * @param {Function} callback - Function to be invoked after the delay period.\r\n * @param {number} delay - Delay after which to invoke callback.\r\n * @returns {Function}\r\n */\r\nfunction throttle (callback, delay) {\r\n    var leadingCall = false, trailingCall = false, lastCallTime = 0;\r\n    /**\r\n     * Invokes the original callback function and schedules new invocation if\r\n     * the \"proxy\" was called during current request.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function resolvePending() {\r\n        if (leadingCall) {\r\n            leadingCall = false;\r\n            callback();\r\n        }\r\n        if (trailingCall) {\r\n            proxy();\r\n        }\r\n    }\r\n    /**\r\n     * Callback invoked after the specified delay. It will further postpone\r\n     * invocation of the original function delegating it to the\r\n     * requestAnimationFrame.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function timeoutCallback() {\r\n        requestAnimationFrame$1(resolvePending);\r\n    }\r\n    /**\r\n     * Schedules invocation of the original function.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function proxy() {\r\n        var timeStamp = Date.now();\r\n        if (leadingCall) {\r\n            // Reject immediately following calls.\r\n            if (timeStamp - lastCallTime < trailingTimeout) {\r\n                return;\r\n            }\r\n            // Schedule new call to be in invoked when the pending one is resolved.\r\n            // This is important for \"transitions\" which never actually start\r\n            // immediately so there is a chance that we might miss one if change\r\n            // happens amids the pending invocation.\r\n            trailingCall = true;\r\n        }\r\n        else {\r\n            leadingCall = true;\r\n            trailingCall = false;\r\n            setTimeout(timeoutCallback, delay);\r\n        }\r\n        lastCallTime = timeStamp;\r\n    }\r\n    return proxy;\r\n}\n\n// Minimum delay before invoking the update of observers.\r\nvar REFRESH_DELAY = 20;\r\n// A list of substrings of CSS properties used to find transition events that\r\n// might affect dimensions of observed elements.\r\nvar transitionKeys = ['top', 'right', 'bottom', 'left', 'width', 'height', 'size', 'weight'];\r\n// Check if MutationObserver is available.\r\nvar mutationObserverSupported = typeof MutationObserver !== 'undefined';\r\n/**\r\n * Singleton controller class which handles updates of ResizeObserver instances.\r\n */\r\nvar ResizeObserverController = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserverController.\r\n     *\r\n     * @private\r\n     */\r\n    function ResizeObserverController() {\r\n        /**\r\n         * Indicates whether DOM listeners have been added.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.connected_ = false;\r\n        /**\r\n         * Tells that controller has subscribed for Mutation Events.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.mutationEventsAdded_ = false;\r\n        /**\r\n         * Keeps reference to the instance of MutationObserver.\r\n         *\r\n         * @private {MutationObserver}\r\n         */\r\n        this.mutationsObserver_ = null;\r\n        /**\r\n         * A list of connected observers.\r\n         *\r\n         * @private {Array<ResizeObserverSPI>}\r\n         */\r\n        this.observers_ = [];\r\n        this.onTransitionEnd_ = this.onTransitionEnd_.bind(this);\r\n        this.refresh = throttle(this.refresh.bind(this), REFRESH_DELAY);\r\n    }\r\n    /**\r\n     * Adds observer to observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be added.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.addObserver = function (observer) {\r\n        if (!~this.observers_.indexOf(observer)) {\r\n            this.observers_.push(observer);\r\n        }\r\n        // Add listeners if they haven't been added yet.\r\n        if (!this.connected_) {\r\n            this.connect_();\r\n        }\r\n    };\r\n    /**\r\n     * Removes observer from observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be removed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.removeObserver = function (observer) {\r\n        var observers = this.observers_;\r\n        var index = observers.indexOf(observer);\r\n        // Remove observer if it's present in registry.\r\n        if (~index) {\r\n            observers.splice(index, 1);\r\n        }\r\n        // Remove listeners if controller has no connected observers.\r\n        if (!observers.length && this.connected_) {\r\n            this.disconnect_();\r\n        }\r\n    };\r\n    /**\r\n     * Invokes the update of observers. It will continue running updates insofar\r\n     * it detects changes.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.refresh = function () {\r\n        var changesDetected = this.updateObservers_();\r\n        // Continue running updates if changes have been detected as there might\r\n        // be future ones caused by CSS transitions.\r\n        if (changesDetected) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Updates every observer from observers list and notifies them of queued\r\n     * entries.\r\n     *\r\n     * @private\r\n     * @returns {boolean} Returns \"true\" if any observer has detected changes in\r\n     *      dimensions of it's elements.\r\n     */\r\n    ResizeObserverController.prototype.updateObservers_ = function () {\r\n        // Collect observers that have active observations.\r\n        var activeObservers = this.observers_.filter(function (observer) {\r\n            return observer.gatherActive(), observer.hasActive();\r\n        });\r\n        // Deliver notifications in a separate cycle in order to avoid any\r\n        // collisions between observers, e.g. when multiple instances of\r\n        // ResizeObserver are tracking the same element and the callback of one\r\n        // of them changes content dimensions of the observed target. Sometimes\r\n        // this may result in notifications being blocked for the rest of observers.\r\n        activeObservers.forEach(function (observer) { return observer.broadcastActive(); });\r\n        return activeObservers.length > 0;\r\n    };\r\n    /**\r\n     * Initializes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.connect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already added.\r\n        if (!isBrowser || this.connected_) {\r\n            return;\r\n        }\r\n        // Subscription to the \"Transitionend\" event is used as a workaround for\r\n        // delayed transitions. This way it's possible to capture at least the\r\n        // final state of an element.\r\n        document.addEventListener('transitionend', this.onTransitionEnd_);\r\n        window.addEventListener('resize', this.refresh);\r\n        if (mutationObserverSupported) {\r\n            this.mutationsObserver_ = new MutationObserver(this.refresh);\r\n            this.mutationsObserver_.observe(document, {\r\n                attributes: true,\r\n                childList: true,\r\n                characterData: true,\r\n                subtree: true\r\n            });\r\n        }\r\n        else {\r\n            document.addEventListener('DOMSubtreeModified', this.refresh);\r\n            this.mutationEventsAdded_ = true;\r\n        }\r\n        this.connected_ = true;\r\n    };\r\n    /**\r\n     * Removes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.disconnect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already removed.\r\n        if (!isBrowser || !this.connected_) {\r\n            return;\r\n        }\r\n        document.removeEventListener('transitionend', this.onTransitionEnd_);\r\n        window.removeEventListener('resize', this.refresh);\r\n        if (this.mutationsObserver_) {\r\n            this.mutationsObserver_.disconnect();\r\n        }\r\n        if (this.mutationEventsAdded_) {\r\n            document.removeEventListener('DOMSubtreeModified', this.refresh);\r\n        }\r\n        this.mutationsObserver_ = null;\r\n        this.mutationEventsAdded_ = false;\r\n        this.connected_ = false;\r\n    };\r\n    /**\r\n     * \"Transitionend\" event handler.\r\n     *\r\n     * @private\r\n     * @param {TransitionEvent} event\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.onTransitionEnd_ = function (_a) {\r\n        var _b = _a.propertyName, propertyName = _b === void 0 ? '' : _b;\r\n        // Detect whether transition may affect dimensions of an element.\r\n        var isReflowProperty = transitionKeys.some(function (key) {\r\n            return !!~propertyName.indexOf(key);\r\n        });\r\n        if (isReflowProperty) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Returns instance of the ResizeObserverController.\r\n     *\r\n     * @returns {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.getInstance = function () {\r\n        if (!this.instance_) {\r\n            this.instance_ = new ResizeObserverController();\r\n        }\r\n        return this.instance_;\r\n    };\r\n    /**\r\n     * Holds reference to the controller's instance.\r\n     *\r\n     * @private {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.instance_ = null;\r\n    return ResizeObserverController;\r\n}());\n\n/**\r\n * Defines non-writable/enumerable properties of the provided target object.\r\n *\r\n * @param {Object} target - Object for which to define properties.\r\n * @param {Object} props - Properties to be defined.\r\n * @returns {Object} Target object.\r\n */\r\nvar defineConfigurable = (function (target, props) {\r\n    for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {\r\n        var key = _a[_i];\r\n        Object.defineProperty(target, key, {\r\n            value: props[key],\r\n            enumerable: false,\r\n            writable: false,\r\n            configurable: true\r\n        });\r\n    }\r\n    return target;\r\n});\n\n/**\r\n * Returns the global object associated with provided element.\r\n *\r\n * @param {Object} target\r\n * @returns {Object}\r\n */\r\nvar getWindowOf = (function (target) {\r\n    // Assume that the element is an instance of Node, which means that it\r\n    // has the \"ownerDocument\" property from which we can retrieve a\r\n    // corresponding global object.\r\n    var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView;\r\n    // Return the local global object if it's not possible extract one from\r\n    // provided element.\r\n    return ownerGlobal || global$1;\r\n});\n\n// Placeholder of an empty content rectangle.\r\nvar emptyRect = createRectInit(0, 0, 0, 0);\r\n/**\r\n * Converts provided string to a number.\r\n *\r\n * @param {number|string} value\r\n * @returns {number}\r\n */\r\nfunction toFloat(value) {\r\n    return parseFloat(value) || 0;\r\n}\r\n/**\r\n * Extracts borders size from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @param {...string} positions - Borders positions (top, right, ...)\r\n * @returns {number}\r\n */\r\nfunction getBordersSize(styles) {\r\n    var positions = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        positions[_i - 1] = arguments[_i];\r\n    }\r\n    return positions.reduce(function (size, position) {\r\n        var value = styles['border-' + position + '-width'];\r\n        return size + toFloat(value);\r\n    }, 0);\r\n}\r\n/**\r\n * Extracts paddings sizes from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @returns {Object} Paddings box.\r\n */\r\nfunction getPaddings(styles) {\r\n    var positions = ['top', 'right', 'bottom', 'left'];\r\n    var paddings = {};\r\n    for (var _i = 0, positions_1 = positions; _i < positions_1.length; _i++) {\r\n        var position = positions_1[_i];\r\n        var value = styles['padding-' + position];\r\n        paddings[position] = toFloat(value);\r\n    }\r\n    return paddings;\r\n}\r\n/**\r\n * Calculates content rectangle of provided SVG element.\r\n *\r\n * @param {SVGGraphicsElement} target - Element content rectangle of which needs\r\n *      to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getSVGContentRect(target) {\r\n    var bbox = target.getBBox();\r\n    return createRectInit(0, 0, bbox.width, bbox.height);\r\n}\r\n/**\r\n * Calculates content rectangle of provided HTMLElement.\r\n *\r\n * @param {HTMLElement} target - Element for which to calculate the content rectangle.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getHTMLElementContentRect(target) {\r\n    // Client width & height properties can't be\r\n    // used exclusively as they provide rounded values.\r\n    var clientWidth = target.clientWidth, clientHeight = target.clientHeight;\r\n    // By this condition we can catch all non-replaced inline, hidden and\r\n    // detached elements. Though elements with width & height properties less\r\n    // than 0.5 will be discarded as well.\r\n    //\r\n    // Without it we would need to implement separate methods for each of\r\n    // those cases and it's not possible to perform a precise and performance\r\n    // effective test for hidden elements. E.g. even jQuery's ':visible' filter\r\n    // gives wrong results for elements with width & height less than 0.5.\r\n    if (!clientWidth && !clientHeight) {\r\n        return emptyRect;\r\n    }\r\n    var styles = getWindowOf(target).getComputedStyle(target);\r\n    var paddings = getPaddings(styles);\r\n    var horizPad = paddings.left + paddings.right;\r\n    var vertPad = paddings.top + paddings.bottom;\r\n    // Computed styles of width & height are being used because they are the\r\n    // only dimensions available to JS that contain non-rounded values. It could\r\n    // be possible to utilize the getBoundingClientRect if only it's data wasn't\r\n    // affected by CSS transformations let alone paddings, borders and scroll bars.\r\n    var width = toFloat(styles.width), height = toFloat(styles.height);\r\n    // Width & height include paddings and borders when the 'border-box' box\r\n    // model is applied (except for IE).\r\n    if (styles.boxSizing === 'border-box') {\r\n        // Following conditions are required to handle Internet Explorer which\r\n        // doesn't include paddings and borders to computed CSS dimensions.\r\n        //\r\n        // We can say that if CSS dimensions + paddings are equal to the \"client\"\r\n        // properties then it's either IE, and thus we don't need to subtract\r\n        // anything, or an element merely doesn't have paddings/borders styles.\r\n        if (Math.round(width + horizPad) !== clientWidth) {\r\n            width -= getBordersSize(styles, 'left', 'right') + horizPad;\r\n        }\r\n        if (Math.round(height + vertPad) !== clientHeight) {\r\n            height -= getBordersSize(styles, 'top', 'bottom') + vertPad;\r\n        }\r\n    }\r\n    // Following steps can't be applied to the document's root element as its\r\n    // client[Width/Height] properties represent viewport area of the window.\r\n    // Besides, it's as well not necessary as the <html> itself neither has\r\n    // rendered scroll bars nor it can be clipped.\r\n    if (!isDocumentElement(target)) {\r\n        // In some browsers (only in Firefox, actually) CSS width & height\r\n        // include scroll bars size which can be removed at this step as scroll\r\n        // bars are the only difference between rounded dimensions + paddings\r\n        // and \"client\" properties, though that is not always true in Chrome.\r\n        var vertScrollbar = Math.round(width + horizPad) - clientWidth;\r\n        var horizScrollbar = Math.round(height + vertPad) - clientHeight;\r\n        // Chrome has a rather weird rounding of \"client\" properties.\r\n        // E.g. for an element with content width of 314.2px it sometimes gives\r\n        // the client width of 315px and for the width of 314.7px it may give\r\n        // 314px. And it doesn't happen all the time. So just ignore this delta\r\n        // as a non-relevant.\r\n        if (Math.abs(vertScrollbar) !== 1) {\r\n            width -= vertScrollbar;\r\n        }\r\n        if (Math.abs(horizScrollbar) !== 1) {\r\n            height -= horizScrollbar;\r\n        }\r\n    }\r\n    return createRectInit(paddings.left, paddings.top, width, height);\r\n}\r\n/**\r\n * Checks whether provided element is an instance of the SVGGraphicsElement.\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nvar isSVGGraphicsElement = (function () {\r\n    // Some browsers, namely IE and Edge, don't have the SVGGraphicsElement\r\n    // interface.\r\n    if (typeof SVGGraphicsElement !== 'undefined') {\r\n        return function (target) { return target instanceof getWindowOf(target).SVGGraphicsElement; };\r\n    }\r\n    // If it's so, then check that element is at least an instance of the\r\n    // SVGElement and that it has the \"getBBox\" method.\r\n    // eslint-disable-next-line no-extra-parens\r\n    return function (target) { return (target instanceof getWindowOf(target).SVGElement &&\r\n        typeof target.getBBox === 'function'); };\r\n})();\r\n/**\r\n * Checks whether provided element is a document element (<html>).\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nfunction isDocumentElement(target) {\r\n    return target === getWindowOf(target).document.documentElement;\r\n}\r\n/**\r\n * Calculates an appropriate content rectangle for provided html or svg element.\r\n *\r\n * @param {Element} target - Element content rectangle of which needs to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getContentRect(target) {\r\n    if (!isBrowser) {\r\n        return emptyRect;\r\n    }\r\n    if (isSVGGraphicsElement(target)) {\r\n        return getSVGContentRect(target);\r\n    }\r\n    return getHTMLElementContentRect(target);\r\n}\r\n/**\r\n * Creates rectangle with an interface of the DOMRectReadOnly.\r\n * Spec: https://drafts.fxtf.org/geometry/#domrectreadonly\r\n *\r\n * @param {DOMRectInit} rectInit - Object with rectangle's x/y coordinates and dimensions.\r\n * @returns {DOMRectReadOnly}\r\n */\r\nfunction createReadOnlyRect(_a) {\r\n    var x = _a.x, y = _a.y, width = _a.width, height = _a.height;\r\n    // If DOMRectReadOnly is available use it as a prototype for the rectangle.\r\n    var Constr = typeof DOMRectReadOnly !== 'undefined' ? DOMRectReadOnly : Object;\r\n    var rect = Object.create(Constr.prototype);\r\n    // Rectangle's properties are not writable and non-enumerable.\r\n    defineConfigurable(rect, {\r\n        x: x, y: y, width: width, height: height,\r\n        top: y,\r\n        right: x + width,\r\n        bottom: height + y,\r\n        left: x\r\n    });\r\n    return rect;\r\n}\r\n/**\r\n * Creates DOMRectInit object based on the provided dimensions and the x/y coordinates.\r\n * Spec: https://drafts.fxtf.org/geometry/#dictdef-domrectinit\r\n *\r\n * @param {number} x - X coordinate.\r\n * @param {number} y - Y coordinate.\r\n * @param {number} width - Rectangle's width.\r\n * @param {number} height - Rectangle's height.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction createRectInit(x, y, width, height) {\r\n    return { x: x, y: y, width: width, height: height };\r\n}\n\n/**\r\n * Class that is responsible for computations of the content rectangle of\r\n * provided DOM element and for keeping track of it's changes.\r\n */\r\nvar ResizeObservation = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObservation.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     */\r\n    function ResizeObservation(target) {\r\n        /**\r\n         * Broadcasted width of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastWidth = 0;\r\n        /**\r\n         * Broadcasted height of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastHeight = 0;\r\n        /**\r\n         * Reference to the last observed content rectangle.\r\n         *\r\n         * @private {DOMRectInit}\r\n         */\r\n        this.contentRect_ = createRectInit(0, 0, 0, 0);\r\n        this.target = target;\r\n    }\r\n    /**\r\n     * Updates content rectangle and tells whether it's width or height properties\r\n     * have changed since the last broadcast.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObservation.prototype.isActive = function () {\r\n        var rect = getContentRect(this.target);\r\n        this.contentRect_ = rect;\r\n        return (rect.width !== this.broadcastWidth ||\r\n            rect.height !== this.broadcastHeight);\r\n    };\r\n    /**\r\n     * Updates 'broadcastWidth' and 'broadcastHeight' properties with a data\r\n     * from the corresponding properties of the last observed content rectangle.\r\n     *\r\n     * @returns {DOMRectInit} Last observed content rectangle.\r\n     */\r\n    ResizeObservation.prototype.broadcastRect = function () {\r\n        var rect = this.contentRect_;\r\n        this.broadcastWidth = rect.width;\r\n        this.broadcastHeight = rect.height;\r\n        return rect;\r\n    };\r\n    return ResizeObservation;\r\n}());\n\nvar ResizeObserverEntry = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObserverEntry.\r\n     *\r\n     * @param {Element} target - Element that is being observed.\r\n     * @param {DOMRectInit} rectInit - Data of the element's content rectangle.\r\n     */\r\n    function ResizeObserverEntry(target, rectInit) {\r\n        var contentRect = createReadOnlyRect(rectInit);\r\n        // According to the specification following properties are not writable\r\n        // and are also not enumerable in the native implementation.\r\n        //\r\n        // Property accessors are not being used as they'd require to define a\r\n        // private WeakMap storage which may cause memory leaks in browsers that\r\n        // don't support this type of collections.\r\n        defineConfigurable(this, { target: target, contentRect: contentRect });\r\n    }\r\n    return ResizeObserverEntry;\r\n}());\n\nvar ResizeObserverSPI = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback function that is invoked\r\n     *      when one of the observed elements changes it's content dimensions.\r\n     * @param {ResizeObserverController} controller - Controller instance which\r\n     *      is responsible for the updates of observer.\r\n     * @param {ResizeObserver} callbackCtx - Reference to the public\r\n     *      ResizeObserver instance which will be passed to callback function.\r\n     */\r\n    function ResizeObserverSPI(callback, controller, callbackCtx) {\r\n        /**\r\n         * Collection of resize observations that have detected changes in dimensions\r\n         * of elements.\r\n         *\r\n         * @private {Array<ResizeObservation>}\r\n         */\r\n        this.activeObservations_ = [];\r\n        /**\r\n         * Registry of the ResizeObservation instances.\r\n         *\r\n         * @private {Map<Element, ResizeObservation>}\r\n         */\r\n        this.observations_ = new MapShim();\r\n        if (typeof callback !== 'function') {\r\n            throw new TypeError('The callback provided as parameter 1 is not a function.');\r\n        }\r\n        this.callback_ = callback;\r\n        this.controller_ = controller;\r\n        this.callbackCtx_ = callbackCtx;\r\n    }\r\n    /**\r\n     * Starts observing provided element.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.observe = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is already being observed.\r\n        if (observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.set(target, new ResizeObservation(target));\r\n        this.controller_.addObserver(this);\r\n        // Force the update of observations.\r\n        this.controller_.refresh();\r\n    };\r\n    /**\r\n     * Stops observing provided element.\r\n     *\r\n     * @param {Element} target - Element to stop observing.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.unobserve = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is not being observed.\r\n        if (!observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.delete(target);\r\n        if (!observations.size) {\r\n            this.controller_.removeObserver(this);\r\n        }\r\n    };\r\n    /**\r\n     * Stops observing all elements.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.disconnect = function () {\r\n        this.clearActive();\r\n        this.observations_.clear();\r\n        this.controller_.removeObserver(this);\r\n    };\r\n    /**\r\n     * Collects observation instances the associated element of which has changed\r\n     * it's content rectangle.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.gatherActive = function () {\r\n        var _this = this;\r\n        this.clearActive();\r\n        this.observations_.forEach(function (observation) {\r\n            if (observation.isActive()) {\r\n                _this.activeObservations_.push(observation);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Invokes initial callback function with a list of ResizeObserverEntry\r\n     * instances collected from active resize observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.broadcastActive = function () {\r\n        // Do nothing if observer doesn't have active observations.\r\n        if (!this.hasActive()) {\r\n            return;\r\n        }\r\n        var ctx = this.callbackCtx_;\r\n        // Create ResizeObserverEntry instance for every active observation.\r\n        var entries = this.activeObservations_.map(function (observation) {\r\n            return new ResizeObserverEntry(observation.target, observation.broadcastRect());\r\n        });\r\n        this.callback_.call(ctx, entries, ctx);\r\n        this.clearActive();\r\n    };\r\n    /**\r\n     * Clears the collection of active observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.clearActive = function () {\r\n        this.activeObservations_.splice(0);\r\n    };\r\n    /**\r\n     * Tells whether observer has active observations.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObserverSPI.prototype.hasActive = function () {\r\n        return this.activeObservations_.length > 0;\r\n    };\r\n    return ResizeObserverSPI;\r\n}());\n\n// Registry of internal observers. If WeakMap is not available use current shim\r\n// for the Map collection as it has all required methods and because WeakMap\r\n// can't be fully polyfilled anyway.\r\nvar observers = typeof WeakMap !== 'undefined' ? new WeakMap() : new MapShim();\r\n/**\r\n * ResizeObserver API. Encapsulates the ResizeObserver SPI implementation\r\n * exposing only those methods and properties that are defined in the spec.\r\n */\r\nvar ResizeObserver = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback that is invoked when\r\n     *      dimensions of the observed elements change.\r\n     */\r\n    function ResizeObserver(callback) {\r\n        if (!(this instanceof ResizeObserver)) {\r\n            throw new TypeError('Cannot call a class as a function.');\r\n        }\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        var controller = ResizeObserverController.getInstance();\r\n        var observer = new ResizeObserverSPI(callback, controller, this);\r\n        observers.set(this, observer);\r\n    }\r\n    return ResizeObserver;\r\n}());\r\n// Expose public methods of ResizeObserver.\r\n[\r\n    'observe',\r\n    'unobserve',\r\n    'disconnect'\r\n].forEach(function (method) {\r\n    ResizeObserver.prototype[method] = function () {\r\n        var _a;\r\n        return (_a = observers.get(this))[method].apply(_a, arguments);\r\n    };\r\n});\n\nvar index = (function () {\r\n    // Export existing implementation if available.\r\n    if (typeof global$1.ResizeObserver !== 'undefined') {\r\n        return global$1.ResizeObserver;\r\n    }\r\n    return ResizeObserver;\r\n})();\n\nexport default index;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"light\":\"_1a9\",\"success\":\"_3bW\",\"error\":\"_1B5\",\"fade\":\"t7P\",\"notification\":\"_1Cu\"};","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = __importStar(require(\"react\"));\nvar fast_deep_equal_1 = __importDefault(require(\"fast-deep-equal\"));\nvar PropTypes = __importStar(require(\"prop-types\"));\nfunction normalizeHtml(str) {\n    return str && str.replace(/&nbsp;|\\u202F|\\u00A0/g, ' ');\n}\nfunction replaceCaret(el) {\n    // Place the caret at the end of the element\n    var target = document.createTextNode('');\n    el.appendChild(target);\n    // do not move caret if element was not focused\n    var isTargetFocused = document.activeElement === el;\n    if (target !== null && target.nodeValue !== null && isTargetFocused) {\n        var sel = window.getSelection();\n        if (sel !== null) {\n            var range = document.createRange();\n            range.setStart(target, target.nodeValue.length);\n            range.collapse(true);\n            sel.removeAllRanges();\n            sel.addRange(range);\n        }\n        if (el instanceof HTMLElement)\n            el.focus();\n    }\n}\n/**\n * A simple component for an html element with editable contents.\n */\nvar ContentEditable = /** @class */ (function (_super) {\n    __extends(ContentEditable, _super);\n    function ContentEditable() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.lastHtml = _this.props.html;\n        _this.el = typeof _this.props.innerRef === 'function' ? { current: null } : React.createRef();\n        _this.getEl = function () { return (_this.props.innerRef && typeof _this.props.innerRef !== 'function' ? _this.props.innerRef : _this.el).current; };\n        _this.emitChange = function (originalEvt) {\n            var el = _this.getEl();\n            if (!el)\n                return;\n            var html = el.innerHTML;\n            if (_this.props.onChange && html !== _this.lastHtml) {\n                // Clone event with Object.assign to avoid\n                // \"Cannot assign to read only property 'target' of object\"\n                var evt = Object.assign({}, originalEvt, {\n                    target: {\n                        value: html\n                    }\n                });\n                _this.props.onChange(evt);\n            }\n            _this.lastHtml = html;\n        };\n        return _this;\n    }\n    ContentEditable.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, tagName = _a.tagName, html = _a.html, innerRef = _a.innerRef, props = __rest(_a, [\"tagName\", \"html\", \"innerRef\"]);\n        return React.createElement(tagName || 'div', __assign(__assign({}, props), { ref: typeof innerRef === 'function' ? function (current) {\n                innerRef(current);\n                _this.el.current = current;\n            } : innerRef || this.el, onInput: this.emitChange, onBlur: this.props.onBlur || this.emitChange, onKeyUp: this.props.onKeyUp || this.emitChange, onKeyDown: this.props.onKeyDown || this.emitChange, contentEditable: !this.props.disabled, dangerouslySetInnerHTML: { __html: html } }), this.props.children);\n    };\n    ContentEditable.prototype.shouldComponentUpdate = function (nextProps) {\n        var props = this.props;\n        var el = this.getEl();\n        // We need not rerender if the change of props simply reflects the user's edits.\n        // Rerendering in this case would make the cursor/caret jump\n        // Rerender if there is no element yet... (somehow?)\n        if (!el)\n            return true;\n        // ...or if html really changed... (programmatically, not by user edit)\n        if (normalizeHtml(nextProps.html) !== normalizeHtml(el.innerHTML)) {\n            return true;\n        }\n        // Handle additional properties\n        return props.disabled !== nextProps.disabled ||\n            props.tagName !== nextProps.tagName ||\n            props.className !== nextProps.className ||\n            props.innerRef !== nextProps.innerRef ||\n            !fast_deep_equal_1.default(props.style, nextProps.style);\n    };\n    ContentEditable.prototype.componentDidUpdate = function () {\n        var el = this.getEl();\n        if (!el)\n            return;\n        // Perhaps React (whose VDOM gets outdated because we often prevent\n        // rerendering) did not update the DOM. So we update it manually now.\n        if (this.props.html !== el.innerHTML) {\n            el.innerHTML = this.props.html;\n        }\n        this.lastHtml = this.props.html;\n        replaceCaret(el);\n    };\n    ContentEditable.propTypes = {\n        html: PropTypes.string.isRequired,\n        onChange: PropTypes.func,\n        disabled: PropTypes.bool,\n        tagName: PropTypes.string,\n        className: PropTypes.string,\n        style: PropTypes.object,\n        innerRef: PropTypes.oneOfType([\n            PropTypes.object,\n            PropTypes.func,\n        ])\n    };\n    return ContentEditable;\n}(React.Component));\nexports.default = ContentEditable;\n","module.exports=function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=7)}([function(t,e){t.exports=require(\"react\")},function(t,e){t.exports=require(\"immutable\")},function(t,e,n){var o=n(3);\"string\"==typeof o&&(o=[[t.i,o,\"\"]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(5)(o,r);o.locals&&(t.exports=o.locals)},function(t,e,n){(t.exports=n(4)(!1)).push([t.i,\".DraggableTags {\\n  position: relative;\\n  height: 100%;\\n  touch-action: none;\\n}\\n.DraggableTags::after {\\n  content: '';\\n  display: block;\\n  clear: both;\\n}\\n.DraggableTags-tag {\\n  display: inline-block;\\n  position: relative;\\n  color: transparent;\\n  -webkit-touch-callout: none;\\n  -webkit-user-select: none;\\n  -khtml-user-select: none;\\n  -moz-user-select: none;\\n  -ms-user-select: none;\\n  user-select: none;\\n}\\n.DraggableTags-undraggable {\\n  cursor: no-drop;\\n}\\n.DraggableTags-tag-drag {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  z-index: 1;\\n}\\n.hotspot-9485743 {\\n  cursor: move;\\n}\\n.excludedInHotspot-9485743 {\\n  cursor: default;\\n}\\n\",\"\"])},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||\"\",o=t[3];if(!o)return n;if(e&&\"function\"==typeof btoa){var r=(a=o,\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,\"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+\" */\"),i=o.sources.map((function(t){return\"/*# sourceURL=\"+o.sourceRoot+t+\" */\"}));return[n].concat(i).concat([r]).join(\"\\n\")}var a;return[n].join(\"\\n\")}(e,t);return e[2]?\"@media \"+e[2]+\"{\"+n+\"}\":n})).join(\"\")},e.i=function(t,n){\"string\"==typeof t&&(t=[[null,t,\"\"]]);for(var o={},r=0;r<this.length;r++){var i=this[r][0];\"number\"==typeof i&&(o[i]=!0)}for(r=0;r<t.length;r++){var a=t[r];\"number\"==typeof a[0]&&o[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]=\"(\"+a[2]+\") and (\"+n+\")\"),e.push(a))}},e}},function(t,e,n){var o,r,i={},a=(o=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=o.apply(this,arguments)),r}),s=function(t){return document.querySelector(t)},c=function(t){var e={};return function(t){if(\"function\"==typeof t)return t();if(void 0===e[t]){var n=s.call(this,t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}}(),u=null,f=0,l=[],p=n(6);function d(t,e){for(var n=0;n<t.length;n++){var o=t[n],r=i[o.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](o.parts[a]);for(;a<o.parts.length;a++)r.parts.push(y(o.parts[a],e))}else{var s=[];for(a=0;a<o.parts.length;a++)s.push(y(o.parts[a],e));i[o.id]={id:o.id,refs:1,parts:s}}}}function g(t,e){for(var n=[],o={},r=0;r<t.length;r++){var i=t[r],a=e.base?i[0]+e.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};o[a]?o[a].parts.push(s):n.push(o[a]={id:a,parts:[s]})}return n}function h(t,e){var n=c(t.insertInto);if(!n)throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");var o=l[l.length-1];if(\"top\"===t.insertAt)o?o.nextSibling?n.insertBefore(e,o.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),l.push(e);else if(\"bottom\"===t.insertAt)n.appendChild(e);else{if(\"object\"!=typeof t.insertAt||!t.insertAt.before)throw new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");var r=c(t.insertInto+\" \"+t.insertAt.before);n.insertBefore(e,r)}}function v(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=l.indexOf(t);e>=0&&l.splice(e,1)}function b(t){var e=document.createElement(\"style\");return void 0===t.attrs.type&&(t.attrs.type=\"text/css\"),m(e,t.attrs),h(t,e),e}function m(t,e){Object.keys(e).forEach((function(n){t.setAttribute(n,e[n])}))}function y(t,e){var n,o,r,i;if(e.transform&&t.css){if(!(i=e.transform(t.css)))return function(){};t.css=i}if(e.singleton){var a=f++;n=u||(u=b(e)),o=E.bind(null,n,a,!1),r=E.bind(null,n,a,!0)}else t.sourceMap&&\"function\"==typeof URL&&\"function\"==typeof URL.createObjectURL&&\"function\"==typeof URL.revokeObjectURL&&\"function\"==typeof Blob&&\"function\"==typeof btoa?(n=function(t){var e=document.createElement(\"link\");return void 0===t.attrs.type&&(t.attrs.type=\"text/css\"),t.attrs.rel=\"stylesheet\",m(e,t.attrs),h(t,e),e}(e),o=j.bind(null,n,e),r=function(){v(n),n.href&&URL.revokeObjectURL(n.href)}):(n=b(e),o=O.bind(null,n),r=function(){v(n)});return o(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;o(t=e)}else r()}}t.exports=function(t,e){if(\"undefined\"!=typeof DEBUG&&DEBUG&&\"object\"!=typeof document)throw new Error(\"The style-loader cannot be used in a non-browser environment\");(e=e||{}).attrs=\"object\"==typeof e.attrs?e.attrs:{},e.singleton||\"boolean\"==typeof e.singleton||(e.singleton=a()),e.insertInto||(e.insertInto=\"head\"),e.insertAt||(e.insertAt=\"bottom\");var n=g(t,e);return d(n,e),function(t){for(var o=[],r=0;r<n.length;r++){var a=n[r];(s=i[a.id]).refs--,o.push(s)}t&&d(g(t,e),e);for(r=0;r<o.length;r++){var s;if(0===(s=o[r]).refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete i[s.id]}}}};var w,T=(w=[],function(t,e){return w[t]=e,w.filter(Boolean).join(\"\\n\")});function E(t,e,n,o){var r=n?\"\":o.css;if(t.styleSheet)t.styleSheet.cssText=T(e,r);else{var i=document.createTextNode(r),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}function O(t,e){var n=e.css,o=e.media;if(o&&t.setAttribute(\"media\",o),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function j(t,e,n){var o=n.css,r=n.sourceMap,i=void 0===e.convertToAbsoluteUrls&&r;(e.convertToAbsoluteUrls||i)&&(o=p(o)),r&&(o+=\"\\n/*# sourceMappingURL=data:application/json;base64,\"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+\" */\");var a=new Blob([o],{type:\"text/css\"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}},function(t,e){t.exports=function(t){var e=\"undefined\"!=typeof window&&window.location;if(!e)throw new Error(\"fixUrls requires window.location\");if(!t||\"string\"!=typeof t)return t;var n=e.protocol+\"//\"+e.host,o=n+e.pathname.replace(/\\/[^\\/]*$/,\"/\");return t.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi,(function(t,e){var r,i=e.trim().replace(/^\"(.*)\"$/,(function(t,e){return e})).replace(/^'(.*)'$/,(function(t,e){return e}));return/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(i)?t:(r=0===i.indexOf(\"//\")?i:0===i.indexOf(\"/\")?n+i:o+i.replace(/^\\.\\//,\"\"),\"url(\"+JSON.stringify(r)+\")\")}))}},function(t,e,n){\"use strict\";n.r(e),n.d(e,\"DraggableArea\",(function(){return E})),n.d(e,\"DraggableAreasGroup\",(function(){return T}));var o=n(0),r=n.n(o),i=n(1);n(2);function a(t){return(a=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){u(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function l(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function p(t,e,n){return e&&l(t.prototype,e),n&&l(t,n),t}function d(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=b(t);if(e){var r=b(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return v(this,n)}}function v(t,e){return!e||\"object\"!==a(e)&&\"function\"!=typeof e?function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t):e}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var m=void 0!==window.orientation||-1!==navigator.userAgent.indexOf(\"IEMobile\");function y(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.isInAnotherArea,n=void 0===e?function(){}:e,o=t.passAddFunc,a=void 0===o?function(){}:o,s=function(t){var e=t.children;return r.a.createElement(\"div\",{className:\"hotspot-9485743\"},e)},u=function(t){var e=t.children;return r.a.createElement(\"div\",{className:\"excludedInHotspot-9485743\"},e)},l=function(t){d(o,t);var e=h(o);function o(){var t;return f(this,o),(t=e.call(this)).state={tags:Object(i.List)([])},t.draggableTagEles={},t.tagEles={},t.positions=[],t.rect={},t.dragStart={},t.tagChanged=!1,t.tagsElesWhichBindedDrag=new WeakSet,t}return p(o,[{key:\"componentDidMount\",value:function(){this.props.initialTags?this.setTags(Object(i.List)(this.props.initialTags)):this.setTags(Object(i.List)(this.props.tags)),a(this.container,this.addTag.bind(this)),this.props.getAddTagFunc&&this.props.getAddTagFunc(this.addTag.bind(this))}},{key:\"UNSAFE_componentWillReceiveProps\",value:function(t){var e=this,n=t.tags;n&&(n.length===this.props.tags.length&&n.length===this.state.tags.size&&!n.some((function(t,n){return!e.state.tags.get(n)||t.id!==e.state.tags.get(n).id}))||this.forbitSetTagsState||this.setTags(Object(i.List)(n)))}},{key:\"componentDidUpdate\",value:function(t,e){var n=e.tags;this.tagChanged=this.tagChanged||n.size!==this.state.tags.size||this.state.tags.some((function(t,e){return!n.get(e)||t.id!==n.get(e).id}))}},{key:\"dragElement\",value:function(t,e,o){var r,i=this,a=this.props.isList,s=0,c=0,u={},f=!1;this.positions.forEach((function(t,n){t.id===e&&(r=n)}));var l=function(n){if(f=!1,i.props.withHotspot){var o=n.target.closest(\".\".concat(\"hotspot-9485743\")),a=n.target.closest(\".\".concat(\"excludedInHotspot-9485743\"));if(!o)return;if(o.contains(a))return}if(i.tagChanged=!1,!window.dragMouseDown){for(window.dragMouseDown=!0,u=i.container.getBoundingClientRect(),n=n||window.event,s=n.clientX||n.touches[0].clientX,c=n.clientY||n.touches[0].clientY,t.style.zIndex=2,window.parentDragTag=t.parentElement;window.parentDragTag&&!window.parentDragTag.classList.contains(\"DraggableTags-tag-drag\");)window.parentDragTag=window.parentDragTag.parentElement;window.parentDragTag&&(window.parentDragTag.style.zIndex=2),document.addEventListener(\"mouseup\",d,!1),document.addEventListener(\"mousemove\",p,!1),t.addEventListener(\"touchend\",d,!1),t.addEventListener(\"touchcancel\",d,!1),t.addEventListener(\"touchmove\",p,!1),i.positions.forEach((function(t,n){t.id===e&&(r=n)}))}},p=function(e){f=!0,m&&(i.container.style.overflowY=\"visible\"),\"touchmove\"===e.type&&e.preventDefault();var n=(e=e||window.event).clientX||e.touches[0].clientX,u=e.clientY||e.touches[0].clientY,l=n-s,p=u-c;s=n,c=u;var d=t.offsetTop+p,g=t.offsetLeft+l;t.style.top=d+\"px\",t.style.left=g+\"px\";var h,v=o.offsetTop+t.offsetHeight/2,b=o.offsetLeft+t.offsetWidth/2,y=v+d,w=b+g;for(h=0;h<i.positions.length-1;h++)if((r!==h||r===i.positions.length-2&&h===i.positions.length-2)&&(r-1!==h||0===h)){var T=i.positions[h],E=i.positions[h+1],O=!1,j=!1,L=!1,x=!1,S=!1;if(a?(y>T.bottom-4&&y<E.top+4&&(L=!0),0===h&&y<T.top+4&&(O=!0),h===i.positions.length-2&&y>E.bottom-4&&(j=!0)):(0===h&&y>T.top&&y<T.bottom&&w<T.left+8&&(O=!0),h===i.positions.length-2&&(y>E.top&&w>E.left-8||y>E.bottom)&&(j=!0),y>T.top&&y<T.bottom&&w>T.right-8&&w<E.left+8&&(L=!0),y>E.top&&y<E.bottom&&w<E.left+8&&T.top<E.top&&(S=!0),y>T.top&&y<T.bottom&&w>T.right-8&&T.top<E.top&&(x=!0)),!a&&(O||j||L||S||x)||a&&(O||j||L))if(\"break\"===function(){var e=i.state.tags.get(r),n=i.state.tags.splice(r,1);(r<h||O)&&!j?(n=n.splice(h,0,e),r=h):(n=n.splice(h+1,0,e),r=h+1),i.positions=[];var o=i.tagEles[e.id].offsetTop,a=i.tagEles[e.id].offsetLeft;return i.setState({tags:n},(function(){var e,s;n.forEach((function(t,n){var o=i.tagEles[t.id];n===r&&(s=o.offsetLeft,e=o.offsetTop),i.positions.push({id:t.id,top:o.offsetTop,left:o.offsetLeft,bottom:o.offsetTop+o.offsetHeight,right:o.offsetLeft+o.offsetWidth,width:o.offsetWidth,height:o.offsetHeight})})),t.style.left=\"\".concat(s>a?g-(s-a):g+(a-s),\"px\"),t.style.top=\"\".concat(o>e?d+(o-e):d-(e-o),\"px\")})),\"break\"}())break}},d=function e(o){if(f){var a=function t(e){e.stopPropagation(),document.removeEventListener(\"click\",t,!0)};document.addEventListener(\"click\",a,!0),setTimeout((function(){document.removeEventListener(\"click\",a,!0)}),500)}m&&(i.container.style.overflowY=\"auto\"),window.dragMouseDown=!1,document.removeEventListener(\"mouseup\",e,!1),document.removeEventListener(\"mousemove\",p,!1),t.removeEventListener(\"touchend\",e,!1),t.removeEventListener(\"touchcancel\",e,!1),t.removeEventListener(\"touchmove\",p,!1),window.parentDragTag&&(window.parentDragTag.style.zIndex=1);var s=t.getBoundingClientRect(),c=s.left+s.width/2,l=s.top+s.height/2;if(c<u.left||c>u.right||l<u.top||l>u.bottom){i.forbitSetTagsState=!0;var d=n(t.getBoundingClientRect(),i.state.tags.get(r));if(d&&d.isIn){i.positions.splice(r,1);var g=i.state.tags.get(r);return void i.setState({tags:i.state.tags.splice(r,1)},(function(){i.props.onChange&&i.props.onChange(i.state.tags.toJS(),i.buildOnChangeObj({toArea:{id:d.id,tag:g}})),i.forbitSetTagsState=!1}))}i.forbitSetTagsState=!1}t.style.top=0,t.style.left=0,t.style.zIndex=1,i.tagChanged&&i.props.onChange&&(i.tagChanged=!1,i.props.onChange(i.state.tags.toJS(),i.buildOnChangeObj()))};t.removeEventListener(\"mousedown\",l),t.removeEventListener(\"touchstart\",l),t.addEventListener(\"mousedown\",l,!1),t.addEventListener(\"touchstart\",l,!1)}},{key:\"setTags\",value:function(t,e){var n=this;this.setState({tags:t},(function(){e&&e(),n.positions=[],n.state.tags.forEach((function(t,e){var o=n.draggableTagEles[t.id],r=n.tagEles[t.id];if(n.positions.push({id:t.id,top:r.offsetTop,left:r.offsetLeft,bottom:r.offsetTop+r.offsetHeight,right:r.offsetLeft+r.offsetWidth,width:r.offsetWidth,height:r.offsetHeight}),!t.undraggable){if(n.tagsElesWhichBindedDrag.has(o))return;n.tagsElesWhichBindedDrag.add(o),n.dragElement(o,t.id,r)}}))}))}},{key:\"addTag\",value:function(t){var e,n=this,o=t.tag,r=t.fromAreaId,i=t.x,a=t.y,s=this.container.getBoundingClientRect(),c=a-s.top,u=i-s.left,f=!1,l=!1,p=!1,d=!1,g=!1;for(e=0;e<this.positions.length-1;e++){var h=this.positions[e],v=h.top+h.height/2,b=h.left+h.width/2,m=this.positions[e+1],y=m.top+m.height/2,w=m.left+m.width/2;if(f=!1,l=!1,p=!1,d=!1,g=!1,this.props.isList){if(c>v&&c<y&&(p=!0),0===e&&c<v&&(f=!0),e!==this.positions.length-2||p||f||(l=!0),f||l||p)break}else if(0===e&&c>h.top&&c<h.bottom&&u<b&&(f=!0),c>h.top&&c<h.bottom&&u>b&&u<w&&(p=!0),c>m.top&&c<m.bottom&&u<w&&h.top<m.top&&(g=!0),c>h.top&&c<h.bottom&&u>b&&h.top<m.top&&(d=!0),e!==this.positions.length-2||f||p||g||d||(l=!0),f||l||p||g||d)break}var T=this.state.tags;T=l?T.push(o):f?T.unshift(o):T.splice(e+1,0,o),this.positions=[],this.setState({tags:T},(function(){n.props.onChange&&n.props.onChange(n.state.tags.toJS(),n.buildOnChangeObj({fromArea:{id:r,tag:o}}))}))}},{key:\"buildDeleteTagFunc\",value:function(t){var e=this;return function(){var n=e.state.tags.filter((function(e){return t.id!==e.id}));e.setTags(n,(function(){e.props.onChange&&e.props.onChange(e.state.tags.toJS(),e.buildOnChangeObj())}))}}},{key:\"buildOnChangeObj\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.fromArea,n=void 0===e?{}:e,o=t.toArea,r=void 0===o?{}:o;return{fromArea:n,toArea:r}}},{key:\"render\",value:function(){var t=this,e=this.props,n=e.render,o=e.build,i=e.style,a=e.className,s=e.isList,u=(e.tagMargin,e.tagStyle),f=e.withHotspot;n||(n=o);var l=this.state.tags.toJS().map((function(e,o){return r.a.createElement(\"div\",{key:e.id,className:\"DraggableTags-tag \".concat(e.undraggable?\"DraggableTags-undraggable\":\"\",\" \").concat(f?\"\":\"hotspot-9485743\"),ref:function(n){t.tagEles[e.id]=n},style:s?c({display:\"block\"},u):u},r.a.createElement(\"div\",{className:\"DraggableTags-tag-drag\",ref:function(n){return t.draggableTagEles[e.id]=n}},n({tag:e,index:o,deleteThis:t.buildDeleteTagFunc(e)})),r.a.createElement(\"div\",{style:{opacity:0,overflow:\"hidden\"}},n({tag:e,index:o,deleteThis:t.buildDeleteTagFunc(e)})))}));return r.a.createElement(\"div\",{ref:function(e){return t.container=e},className:\"DraggableTags \".concat(a||\"\"),style:m?c({overflowY:\"auto\"},i):i},m?r.a.createElement(\"div\",{style:{height:\"101%\"}},l):l)}}]),o}(r.a.Component);return l.Hotspot=s,l.ExcludedInHotspot=u,l}function w(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var T=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.isInAreas=[]}var e,n,o;return e=t,(n=[{key:\"addArea\",value:function(t){var e=this;return y({isInAnotherArea:function(n,o){var r=n.left+n.width/2,i=n.top+n.height/2,a={isIn:!1};return e.isInAreas.forEach((function(e){var n=e({tag:o,x:r,y:i,areaId:t});n.isIn&&(a=n)})),a},passAddFunc:function(n,o){e.isInAreas.push((function(e){var r=e.tag,i=e.x,a=e.y,s=e.areaId,c=n.getBoundingClientRect();return i>c.left&&i<c.right&&a>c.top&&a<c.bottom?(o({tag:r,fromAreaId:s,x:i,y:a}),{isIn:!0,id:t}):{isIn:!1}}))}})}}])&&w(e.prototype,n),o&&w(e,o),t}(),E=y()}]);","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var root = require('./_root');\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nmodule.exports = now;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var baseTrim = require('./_baseTrim'),\n    isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n","var trimmedEndIndex = require('./_trimmedEndIndex');\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim(string) {\n  return string\n    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n    : string;\n}\n\nmodule.exports = baseTrim;\n","/** Used to match a single whitespace character. */\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\n\nmodule.exports = trimmedEndIndex;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutPropertiesLoose;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","/** @license React v16.13.1\n * react-is.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';var b=\"function\"===typeof Symbol&&Symbol.for,c=b?Symbol.for(\"react.element\"):60103,d=b?Symbol.for(\"react.portal\"):60106,e=b?Symbol.for(\"react.fragment\"):60107,f=b?Symbol.for(\"react.strict_mode\"):60108,g=b?Symbol.for(\"react.profiler\"):60114,h=b?Symbol.for(\"react.provider\"):60109,k=b?Symbol.for(\"react.context\"):60110,l=b?Symbol.for(\"react.async_mode\"):60111,m=b?Symbol.for(\"react.concurrent_mode\"):60111,n=b?Symbol.for(\"react.forward_ref\"):60112,p=b?Symbol.for(\"react.suspense\"):60113,q=b?\nSymbol.for(\"react.suspense_list\"):60120,r=b?Symbol.for(\"react.memo\"):60115,t=b?Symbol.for(\"react.lazy\"):60116,v=b?Symbol.for(\"react.block\"):60121,w=b?Symbol.for(\"react.fundamental\"):60117,x=b?Symbol.for(\"react.responder\"):60118,y=b?Symbol.for(\"react.scope\"):60119;\nfunction z(a){if(\"object\"===typeof a&&null!==a){var u=a.$$typeof;switch(u){case c:switch(a=a.type,a){case l:case m:case e:case g:case f:case p:return a;default:switch(a=a&&a.$$typeof,a){case k:case n:case t:case r:case h:return a;default:return u}}case d:return u}}}function A(a){return z(a)===m}exports.AsyncMode=l;exports.ConcurrentMode=m;exports.ContextConsumer=k;exports.ContextProvider=h;exports.Element=c;exports.ForwardRef=n;exports.Fragment=e;exports.Lazy=t;exports.Memo=r;exports.Portal=d;\nexports.Profiler=g;exports.StrictMode=f;exports.Suspense=p;exports.isAsyncMode=function(a){return A(a)||z(a)===l};exports.isConcurrentMode=A;exports.isContextConsumer=function(a){return z(a)===k};exports.isContextProvider=function(a){return z(a)===h};exports.isElement=function(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===c};exports.isForwardRef=function(a){return z(a)===n};exports.isFragment=function(a){return z(a)===e};exports.isLazy=function(a){return z(a)===t};\nexports.isMemo=function(a){return z(a)===r};exports.isPortal=function(a){return z(a)===d};exports.isProfiler=function(a){return z(a)===g};exports.isStrictMode=function(a){return z(a)===f};exports.isSuspense=function(a){return z(a)===p};\nexports.isValidElementType=function(a){return\"string\"===typeof a||\"function\"===typeof a||a===e||a===m||a===g||a===f||a===p||a===q||\"object\"===typeof a&&null!==a&&(a.$$typeof===t||a.$$typeof===r||a.$$typeof===h||a.$$typeof===k||a.$$typeof===n||a.$$typeof===w||a.$$typeof===x||a.$$typeof===y||a.$$typeof===v)};exports.typeOf=z;\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _iterableToArrayLimit(arr, i) {\n  var _i = arr && (typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]);\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"run-lights\":\"_1dt\"};","'use strict';\n\nvar isArray = Array.isArray;\nvar keyList = Object.keys;\nvar hasProp = Object.prototype.hasOwnProperty;\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    var arrA = isArray(a)\n      , arrB = isArray(b)\n      , i\n      , length\n      , key;\n\n    if (arrA && arrB) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n    if (arrA != arrB) return false;\n\n    var dateA = a instanceof Date\n      , dateB = b instanceof Date;\n    if (dateA != dateB) return false;\n    if (dateA && dateB) return a.getTime() == b.getTime();\n\n    var regexpA = a instanceof RegExp\n      , regexpB = b instanceof RegExp;\n    if (regexpA != regexpB) return false;\n    if (regexpA && regexpB) return a.toString() == b.toString();\n\n    var keys = keyList(a);\n    length = keys.length;\n\n    if (length !== keyList(b).length)\n      return false;\n\n    for (i = length; i-- !== 0;)\n      if (!hasProp.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      key = keys[i];\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  return a!==a && b!==b;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","'use strict';\nmodule.exports = require('./lib/index');\n","'use strict';\n\nvar alphabet = require('./alphabet');\nvar build = require('./build');\nvar isValid = require('./is-valid');\n\n// if you are using cluster or multiple servers use this to make each instance\n// has a unique value for worker\n// Note: I don't know if this is automatically set when using third\n// party cluster solutions such as pm2.\nvar clusterWorkerId = require('./util/cluster-worker-id') || 0;\n\n/**\n * Set the seed.\n * Highly recommended if you don't want people to try to figure out your id schema.\n * exposed as shortid.seed(int)\n * @param seed Integer value to seed the random alphabet.  ALWAYS USE THE SAME SEED or you might get overlaps.\n */\nfunction seed(seedValue) {\n    alphabet.seed(seedValue);\n    return module.exports;\n}\n\n/**\n * Set the cluster worker or machine id\n * exposed as shortid.worker(int)\n * @param workerId worker must be positive integer.  Number less than 16 is recommended.\n * returns shortid module so it can be chained.\n */\nfunction worker(workerId) {\n    clusterWorkerId = workerId;\n    return module.exports;\n}\n\n/**\n *\n * sets new characters to use in the alphabet\n * returns the shuffled alphabet\n */\nfunction characters(newCharacters) {\n    if (newCharacters !== undefined) {\n        alphabet.characters(newCharacters);\n    }\n\n    return alphabet.shuffled();\n}\n\n/**\n * Generate unique id\n * Returns string id\n */\nfunction generate() {\n  return build(clusterWorkerId);\n}\n\n// Export all other functions as properties of the generate function\nmodule.exports = generate;\nmodule.exports.generate = generate;\nmodule.exports.seed = seed;\nmodule.exports.worker = worker;\nmodule.exports.characters = characters;\nmodule.exports.isValid = isValid;\n","'use strict';\n\n// Found this seed-based random generator somewhere\n// Based on The Central Randomizer 1.3 (C) 1997 by Paul Houle (houle@msc.cornell.edu)\n\nvar seed = 1;\n\n/**\n * return a random number based on a seed\n * @param seed\n * @returns {number}\n */\nfunction getNextValue() {\n    seed = (seed * 9301 + 49297) % 233280;\n    return seed/(233280.0);\n}\n\nfunction setSeed(_seed_) {\n    seed = _seed_;\n}\n\nmodule.exports = {\n    nextValue: getNextValue,\n    seed: setSeed\n};\n","'use strict';\n\nvar generate = require('./generate');\nvar alphabet = require('./alphabet');\n\n// Ignore all milliseconds before a certain time to reduce the size of the date entropy without sacrificing uniqueness.\n// This number should be updated every year or so to keep the generated id short.\n// To regenerate `new Date() - 0` and bump the version. Always bump the version!\nvar REDUCE_TIME = 1567752802062;\n\n// don't change unless we change the algos or REDUCE_TIME\n// must be an integer and less than 16\nvar version = 7;\n\n// Counter is used when shortid is called multiple times in one second.\nvar counter;\n\n// Remember the last time shortid was called in case counter is needed.\nvar previousSeconds;\n\n/**\n * Generate unique id\n * Returns string id\n */\nfunction build(clusterWorkerId) {\n    var str = '';\n\n    var seconds = Math.floor((Date.now() - REDUCE_TIME) * 0.001);\n\n    if (seconds === previousSeconds) {\n        counter++;\n    } else {\n        counter = 0;\n        previousSeconds = seconds;\n    }\n\n    str = str + generate(version);\n    str = str + generate(clusterWorkerId);\n    if (counter > 0) {\n        str = str + generate(counter);\n    }\n    str = str + generate(seconds);\n    return str;\n}\n\nmodule.exports = build;\n","'use strict';\n\nvar alphabet = require('./alphabet');\nvar random = require('./random/random-byte');\nvar format = require('nanoid/format');\n\nfunction generate(number) {\n    var loopCounter = 0;\n    var done;\n\n    var str = '';\n\n    while (!done) {\n        str = str + format(random, alphabet.get(), 1);\n        done = number < (Math.pow(16, loopCounter + 1 ) );\n        loopCounter++;\n    }\n    return str;\n}\n\nmodule.exports = generate;\n","'use strict';\n\nvar crypto = typeof window === 'object' && (window.crypto || window.msCrypto); // IE 11 uses window.msCrypto\n\nvar randomByte;\n\nif (!crypto || !crypto.getRandomValues) {\n    randomByte = function(size) {\n        var bytes = [];\n        for (var i = 0; i < size; i++) {\n            bytes.push(Math.floor(Math.random() * 256));\n        }\n        return bytes;\n    };\n} else {\n    randomByte = function(size) {\n        return crypto.getRandomValues(new Uint8Array(size));\n    };\n}\n\nmodule.exports = randomByte;\n","// This file replaces `format.js` in bundlers like webpack or Rollup,\n// according to `browser` config in `package.json`.\n\nmodule.exports = function (random, alphabet, size) {\n  // We can’t use bytes bigger than the alphabet. To make bytes values closer\n  // to the alphabet, we apply bitmask on them. We look for the closest\n  // `2 ** x - 1` number, which will be bigger than alphabet size. If we have\n  // 30 symbols in the alphabet, we will take 31 (00011111).\n  // We do not use faster Math.clz32, because it is not available in browsers.\n  var mask = (2 << Math.log(alphabet.length - 1) / Math.LN2) - 1\n  // Bitmask is not a perfect solution (in our example it will pass 31 bytes,\n  // which is bigger than the alphabet). As a result, we will need more bytes,\n  // than ID size, because we will refuse bytes bigger than the alphabet.\n\n  // Every hardware random generator call is costly,\n  // because we need to wait for entropy collection. This is why often it will\n  // be faster to ask for few extra bytes in advance, to avoid additional calls.\n\n  // Here we calculate how many random bytes should we call in advance.\n  // It depends on ID length, mask / alphabet size and magic number 1.6\n  // (which was selected according benchmarks).\n\n  // -~f => Math.ceil(f) if n is float number\n  // -~i => i + 1 if n is integer number\n  var step = -~(1.6 * mask * size / alphabet.length)\n  var id = ''\n\n  while (true) {\n    var bytes = random(step)\n    // Compact alternative for `for (var i = 0; i < step; i++)`\n    var i = step\n    while (i--) {\n      // If random byte is bigger than alphabet even after bitmask,\n      // we refuse it by `|| ''`.\n      id += alphabet[bytes[i] & mask] || ''\n      // More compact than `id.length + 1 === size`\n      if (id.length === +size) return id\n    }\n  }\n}\n","'use strict';\nvar alphabet = require('./alphabet');\n\nfunction isShortId(id) {\n    if (!id || typeof id !== 'string' || id.length < 6 ) {\n        return false;\n    }\n\n    var nonAlphabetic = new RegExp('[^' +\n      alphabet.get().replace(/[|\\\\{}()[\\]^$+*?.-]/g, '\\\\$&') +\n    ']');\n    return !nonAlphabetic.test(id);\n}\n\nmodule.exports = isShortId;\n","'use strict';\n\nmodule.exports = 0;\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global.Immutable = factory());\n}(this, function () { 'use strict';var SLICE$0 = Array.prototype.slice;\n\n  function createClass(ctor, superClass) {\n    if (superClass) {\n      ctor.prototype = Object.create(superClass.prototype);\n    }\n    ctor.prototype.constructor = ctor;\n  }\n\n  function Iterable(value) {\n      return isIterable(value) ? value : Seq(value);\n    }\n\n\n  createClass(KeyedIterable, Iterable);\n    function KeyedIterable(value) {\n      return isKeyed(value) ? value : KeyedSeq(value);\n    }\n\n\n  createClass(IndexedIterable, Iterable);\n    function IndexedIterable(value) {\n      return isIndexed(value) ? value : IndexedSeq(value);\n    }\n\n\n  createClass(SetIterable, Iterable);\n    function SetIterable(value) {\n      return isIterable(value) && !isAssociative(value) ? value : SetSeq(value);\n    }\n\n\n\n  function isIterable(maybeIterable) {\n    return !!(maybeIterable && maybeIterable[IS_ITERABLE_SENTINEL]);\n  }\n\n  function isKeyed(maybeKeyed) {\n    return !!(maybeKeyed && maybeKeyed[IS_KEYED_SENTINEL]);\n  }\n\n  function isIndexed(maybeIndexed) {\n    return !!(maybeIndexed && maybeIndexed[IS_INDEXED_SENTINEL]);\n  }\n\n  function isAssociative(maybeAssociative) {\n    return isKeyed(maybeAssociative) || isIndexed(maybeAssociative);\n  }\n\n  function isOrdered(maybeOrdered) {\n    return !!(maybeOrdered && maybeOrdered[IS_ORDERED_SENTINEL]);\n  }\n\n  Iterable.isIterable = isIterable;\n  Iterable.isKeyed = isKeyed;\n  Iterable.isIndexed = isIndexed;\n  Iterable.isAssociative = isAssociative;\n  Iterable.isOrdered = isOrdered;\n\n  Iterable.Keyed = KeyedIterable;\n  Iterable.Indexed = IndexedIterable;\n  Iterable.Set = SetIterable;\n\n\n  var IS_ITERABLE_SENTINEL = '@@__IMMUTABLE_ITERABLE__@@';\n  var IS_KEYED_SENTINEL = '@@__IMMUTABLE_KEYED__@@';\n  var IS_INDEXED_SENTINEL = '@@__IMMUTABLE_INDEXED__@@';\n  var IS_ORDERED_SENTINEL = '@@__IMMUTABLE_ORDERED__@@';\n\n  // Used for setting prototype methods that IE8 chokes on.\n  var DELETE = 'delete';\n\n  // Constants describing the size of trie nodes.\n  var SHIFT = 5; // Resulted in best performance after ______?\n  var SIZE = 1 << SHIFT;\n  var MASK = SIZE - 1;\n\n  // A consistent shared value representing \"not set\" which equals nothing other\n  // than itself, and nothing that could be provided externally.\n  var NOT_SET = {};\n\n  // Boolean references, Rough equivalent of `bool &`.\n  var CHANGE_LENGTH = { value: false };\n  var DID_ALTER = { value: false };\n\n  function MakeRef(ref) {\n    ref.value = false;\n    return ref;\n  }\n\n  function SetRef(ref) {\n    ref && (ref.value = true);\n  }\n\n  // A function which returns a value representing an \"owner\" for transient writes\n  // to tries. The return value will only ever equal itself, and will not equal\n  // the return of any subsequent call of this function.\n  function OwnerID() {}\n\n  // http://jsperf.com/copy-array-inline\n  function arrCopy(arr, offset) {\n    offset = offset || 0;\n    var len = Math.max(0, arr.length - offset);\n    var newArr = new Array(len);\n    for (var ii = 0; ii < len; ii++) {\n      newArr[ii] = arr[ii + offset];\n    }\n    return newArr;\n  }\n\n  function ensureSize(iter) {\n    if (iter.size === undefined) {\n      iter.size = iter.__iterate(returnTrue);\n    }\n    return iter.size;\n  }\n\n  function wrapIndex(iter, index) {\n    // This implements \"is array index\" which the ECMAString spec defines as:\n    //\n    //     A String property name P is an array index if and only if\n    //     ToString(ToUint32(P)) is equal to P and ToUint32(P) is not equal\n    //     to 2^32−1.\n    //\n    // http://www.ecma-international.org/ecma-262/6.0/#sec-array-exotic-objects\n    if (typeof index !== 'number') {\n      var uint32Index = index >>> 0; // N >>> 0 is shorthand for ToUint32\n      if ('' + uint32Index !== index || uint32Index === 4294967295) {\n        return NaN;\n      }\n      index = uint32Index;\n    }\n    return index < 0 ? ensureSize(iter) + index : index;\n  }\n\n  function returnTrue() {\n    return true;\n  }\n\n  function wholeSlice(begin, end, size) {\n    return (begin === 0 || (size !== undefined && begin <= -size)) &&\n      (end === undefined || (size !== undefined && end >= size));\n  }\n\n  function resolveBegin(begin, size) {\n    return resolveIndex(begin, size, 0);\n  }\n\n  function resolveEnd(end, size) {\n    return resolveIndex(end, size, size);\n  }\n\n  function resolveIndex(index, size, defaultIndex) {\n    return index === undefined ?\n      defaultIndex :\n      index < 0 ?\n        Math.max(0, size + index) :\n        size === undefined ?\n          index :\n          Math.min(size, index);\n  }\n\n  /* global Symbol */\n\n  var ITERATE_KEYS = 0;\n  var ITERATE_VALUES = 1;\n  var ITERATE_ENTRIES = 2;\n\n  var REAL_ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n  var FAUX_ITERATOR_SYMBOL = '@@iterator';\n\n  var ITERATOR_SYMBOL = REAL_ITERATOR_SYMBOL || FAUX_ITERATOR_SYMBOL;\n\n\n  function Iterator(next) {\n      this.next = next;\n    }\n\n    Iterator.prototype.toString = function() {\n      return '[Iterator]';\n    };\n\n\n  Iterator.KEYS = ITERATE_KEYS;\n  Iterator.VALUES = ITERATE_VALUES;\n  Iterator.ENTRIES = ITERATE_ENTRIES;\n\n  Iterator.prototype.inspect =\n  Iterator.prototype.toSource = function () { return this.toString(); }\n  Iterator.prototype[ITERATOR_SYMBOL] = function () {\n    return this;\n  };\n\n\n  function iteratorValue(type, k, v, iteratorResult) {\n    var value = type === 0 ? k : type === 1 ? v : [k, v];\n    iteratorResult ? (iteratorResult.value = value) : (iteratorResult = {\n      value: value, done: false\n    });\n    return iteratorResult;\n  }\n\n  function iteratorDone() {\n    return { value: undefined, done: true };\n  }\n\n  function hasIterator(maybeIterable) {\n    return !!getIteratorFn(maybeIterable);\n  }\n\n  function isIterator(maybeIterator) {\n    return maybeIterator && typeof maybeIterator.next === 'function';\n  }\n\n  function getIterator(iterable) {\n    var iteratorFn = getIteratorFn(iterable);\n    return iteratorFn && iteratorFn.call(iterable);\n  }\n\n  function getIteratorFn(iterable) {\n    var iteratorFn = iterable && (\n      (REAL_ITERATOR_SYMBOL && iterable[REAL_ITERATOR_SYMBOL]) ||\n      iterable[FAUX_ITERATOR_SYMBOL]\n    );\n    if (typeof iteratorFn === 'function') {\n      return iteratorFn;\n    }\n  }\n\n  function isArrayLike(value) {\n    return value && typeof value.length === 'number';\n  }\n\n  createClass(Seq, Iterable);\n    function Seq(value) {\n      return value === null || value === undefined ? emptySequence() :\n        isIterable(value) ? value.toSeq() : seqFromValue(value);\n    }\n\n    Seq.of = function(/*...values*/) {\n      return Seq(arguments);\n    };\n\n    Seq.prototype.toSeq = function() {\n      return this;\n    };\n\n    Seq.prototype.toString = function() {\n      return this.__toString('Seq {', '}');\n    };\n\n    Seq.prototype.cacheResult = function() {\n      if (!this._cache && this.__iterateUncached) {\n        this._cache = this.entrySeq().toArray();\n        this.size = this._cache.length;\n      }\n      return this;\n    };\n\n    // abstract __iterateUncached(fn, reverse)\n\n    Seq.prototype.__iterate = function(fn, reverse) {\n      return seqIterate(this, fn, reverse, true);\n    };\n\n    // abstract __iteratorUncached(type, reverse)\n\n    Seq.prototype.__iterator = function(type, reverse) {\n      return seqIterator(this, type, reverse, true);\n    };\n\n\n\n  createClass(KeyedSeq, Seq);\n    function KeyedSeq(value) {\n      return value === null || value === undefined ?\n        emptySequence().toKeyedSeq() :\n        isIterable(value) ?\n          (isKeyed(value) ? value.toSeq() : value.fromEntrySeq()) :\n          keyedSeqFromValue(value);\n    }\n\n    KeyedSeq.prototype.toKeyedSeq = function() {\n      return this;\n    };\n\n\n\n  createClass(IndexedSeq, Seq);\n    function IndexedSeq(value) {\n      return value === null || value === undefined ? emptySequence() :\n        !isIterable(value) ? indexedSeqFromValue(value) :\n        isKeyed(value) ? value.entrySeq() : value.toIndexedSeq();\n    }\n\n    IndexedSeq.of = function(/*...values*/) {\n      return IndexedSeq(arguments);\n    };\n\n    IndexedSeq.prototype.toIndexedSeq = function() {\n      return this;\n    };\n\n    IndexedSeq.prototype.toString = function() {\n      return this.__toString('Seq [', ']');\n    };\n\n    IndexedSeq.prototype.__iterate = function(fn, reverse) {\n      return seqIterate(this, fn, reverse, false);\n    };\n\n    IndexedSeq.prototype.__iterator = function(type, reverse) {\n      return seqIterator(this, type, reverse, false);\n    };\n\n\n\n  createClass(SetSeq, Seq);\n    function SetSeq(value) {\n      return (\n        value === null || value === undefined ? emptySequence() :\n        !isIterable(value) ? indexedSeqFromValue(value) :\n        isKeyed(value) ? value.entrySeq() : value\n      ).toSetSeq();\n    }\n\n    SetSeq.of = function(/*...values*/) {\n      return SetSeq(arguments);\n    };\n\n    SetSeq.prototype.toSetSeq = function() {\n      return this;\n    };\n\n\n\n  Seq.isSeq = isSeq;\n  Seq.Keyed = KeyedSeq;\n  Seq.Set = SetSeq;\n  Seq.Indexed = IndexedSeq;\n\n  var IS_SEQ_SENTINEL = '@@__IMMUTABLE_SEQ__@@';\n\n  Seq.prototype[IS_SEQ_SENTINEL] = true;\n\n\n\n  createClass(ArraySeq, IndexedSeq);\n    function ArraySeq(array) {\n      this._array = array;\n      this.size = array.length;\n    }\n\n    ArraySeq.prototype.get = function(index, notSetValue) {\n      return this.has(index) ? this._array[wrapIndex(this, index)] : notSetValue;\n    };\n\n    ArraySeq.prototype.__iterate = function(fn, reverse) {\n      var array = this._array;\n      var maxIndex = array.length - 1;\n      for (var ii = 0; ii <= maxIndex; ii++) {\n        if (fn(array[reverse ? maxIndex - ii : ii], ii, this) === false) {\n          return ii + 1;\n        }\n      }\n      return ii;\n    };\n\n    ArraySeq.prototype.__iterator = function(type, reverse) {\n      var array = this._array;\n      var maxIndex = array.length - 1;\n      var ii = 0;\n      return new Iterator(function() \n        {return ii > maxIndex ?\n          iteratorDone() :\n          iteratorValue(type, ii, array[reverse ? maxIndex - ii++ : ii++])}\n      );\n    };\n\n\n\n  createClass(ObjectSeq, KeyedSeq);\n    function ObjectSeq(object) {\n      var keys = Object.keys(object);\n      this._object = object;\n      this._keys = keys;\n      this.size = keys.length;\n    }\n\n    ObjectSeq.prototype.get = function(key, notSetValue) {\n      if (notSetValue !== undefined && !this.has(key)) {\n        return notSetValue;\n      }\n      return this._object[key];\n    };\n\n    ObjectSeq.prototype.has = function(key) {\n      return this._object.hasOwnProperty(key);\n    };\n\n    ObjectSeq.prototype.__iterate = function(fn, reverse) {\n      var object = this._object;\n      var keys = this._keys;\n      var maxIndex = keys.length - 1;\n      for (var ii = 0; ii <= maxIndex; ii++) {\n        var key = keys[reverse ? maxIndex - ii : ii];\n        if (fn(object[key], key, this) === false) {\n          return ii + 1;\n        }\n      }\n      return ii;\n    };\n\n    ObjectSeq.prototype.__iterator = function(type, reverse) {\n      var object = this._object;\n      var keys = this._keys;\n      var maxIndex = keys.length - 1;\n      var ii = 0;\n      return new Iterator(function()  {\n        var key = keys[reverse ? maxIndex - ii : ii];\n        return ii++ > maxIndex ?\n          iteratorDone() :\n          iteratorValue(type, key, object[key]);\n      });\n    };\n\n  ObjectSeq.prototype[IS_ORDERED_SENTINEL] = true;\n\n\n  createClass(IterableSeq, IndexedSeq);\n    function IterableSeq(iterable) {\n      this._iterable = iterable;\n      this.size = iterable.length || iterable.size;\n    }\n\n    IterableSeq.prototype.__iterateUncached = function(fn, reverse) {\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var iterable = this._iterable;\n      var iterator = getIterator(iterable);\n      var iterations = 0;\n      if (isIterator(iterator)) {\n        var step;\n        while (!(step = iterator.next()).done) {\n          if (fn(step.value, iterations++, this) === false) {\n            break;\n          }\n        }\n      }\n      return iterations;\n    };\n\n    IterableSeq.prototype.__iteratorUncached = function(type, reverse) {\n      if (reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      var iterable = this._iterable;\n      var iterator = getIterator(iterable);\n      if (!isIterator(iterator)) {\n        return new Iterator(iteratorDone);\n      }\n      var iterations = 0;\n      return new Iterator(function()  {\n        var step = iterator.next();\n        return step.done ? step : iteratorValue(type, iterations++, step.value);\n      });\n    };\n\n\n\n  createClass(IteratorSeq, IndexedSeq);\n    function IteratorSeq(iterator) {\n      this._iterator = iterator;\n      this._iteratorCache = [];\n    }\n\n    IteratorSeq.prototype.__iterateUncached = function(fn, reverse) {\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var iterator = this._iterator;\n      var cache = this._iteratorCache;\n      var iterations = 0;\n      while (iterations < cache.length) {\n        if (fn(cache[iterations], iterations++, this) === false) {\n          return iterations;\n        }\n      }\n      var step;\n      while (!(step = iterator.next()).done) {\n        var val = step.value;\n        cache[iterations] = val;\n        if (fn(val, iterations++, this) === false) {\n          break;\n        }\n      }\n      return iterations;\n    };\n\n    IteratorSeq.prototype.__iteratorUncached = function(type, reverse) {\n      if (reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      var iterator = this._iterator;\n      var cache = this._iteratorCache;\n      var iterations = 0;\n      return new Iterator(function()  {\n        if (iterations >= cache.length) {\n          var step = iterator.next();\n          if (step.done) {\n            return step;\n          }\n          cache[iterations] = step.value;\n        }\n        return iteratorValue(type, iterations, cache[iterations++]);\n      });\n    };\n\n\n\n\n  // # pragma Helper functions\n\n  function isSeq(maybeSeq) {\n    return !!(maybeSeq && maybeSeq[IS_SEQ_SENTINEL]);\n  }\n\n  var EMPTY_SEQ;\n\n  function emptySequence() {\n    return EMPTY_SEQ || (EMPTY_SEQ = new ArraySeq([]));\n  }\n\n  function keyedSeqFromValue(value) {\n    var seq =\n      Array.isArray(value) ? new ArraySeq(value).fromEntrySeq() :\n      isIterator(value) ? new IteratorSeq(value).fromEntrySeq() :\n      hasIterator(value) ? new IterableSeq(value).fromEntrySeq() :\n      typeof value === 'object' ? new ObjectSeq(value) :\n      undefined;\n    if (!seq) {\n      throw new TypeError(\n        'Expected Array or iterable object of [k, v] entries, '+\n        'or keyed object: ' + value\n      );\n    }\n    return seq;\n  }\n\n  function indexedSeqFromValue(value) {\n    var seq = maybeIndexedSeqFromValue(value);\n    if (!seq) {\n      throw new TypeError(\n        'Expected Array or iterable object of values: ' + value\n      );\n    }\n    return seq;\n  }\n\n  function seqFromValue(value) {\n    var seq = maybeIndexedSeqFromValue(value) ||\n      (typeof value === 'object' && new ObjectSeq(value));\n    if (!seq) {\n      throw new TypeError(\n        'Expected Array or iterable object of values, or keyed object: ' + value\n      );\n    }\n    return seq;\n  }\n\n  function maybeIndexedSeqFromValue(value) {\n    return (\n      isArrayLike(value) ? new ArraySeq(value) :\n      isIterator(value) ? new IteratorSeq(value) :\n      hasIterator(value) ? new IterableSeq(value) :\n      undefined\n    );\n  }\n\n  function seqIterate(seq, fn, reverse, useKeys) {\n    var cache = seq._cache;\n    if (cache) {\n      var maxIndex = cache.length - 1;\n      for (var ii = 0; ii <= maxIndex; ii++) {\n        var entry = cache[reverse ? maxIndex - ii : ii];\n        if (fn(entry[1], useKeys ? entry[0] : ii, seq) === false) {\n          return ii + 1;\n        }\n      }\n      return ii;\n    }\n    return seq.__iterateUncached(fn, reverse);\n  }\n\n  function seqIterator(seq, type, reverse, useKeys) {\n    var cache = seq._cache;\n    if (cache) {\n      var maxIndex = cache.length - 1;\n      var ii = 0;\n      return new Iterator(function()  {\n        var entry = cache[reverse ? maxIndex - ii : ii];\n        return ii++ > maxIndex ?\n          iteratorDone() :\n          iteratorValue(type, useKeys ? entry[0] : ii - 1, entry[1]);\n      });\n    }\n    return seq.__iteratorUncached(type, reverse);\n  }\n\n  function fromJS(json, converter) {\n    return converter ?\n      fromJSWith(converter, json, '', {'': json}) :\n      fromJSDefault(json);\n  }\n\n  function fromJSWith(converter, json, key, parentJSON) {\n    if (Array.isArray(json)) {\n      return converter.call(parentJSON, key, IndexedSeq(json).map(function(v, k)  {return fromJSWith(converter, v, k, json)}));\n    }\n    if (isPlainObj(json)) {\n      return converter.call(parentJSON, key, KeyedSeq(json).map(function(v, k)  {return fromJSWith(converter, v, k, json)}));\n    }\n    return json;\n  }\n\n  function fromJSDefault(json) {\n    if (Array.isArray(json)) {\n      return IndexedSeq(json).map(fromJSDefault).toList();\n    }\n    if (isPlainObj(json)) {\n      return KeyedSeq(json).map(fromJSDefault).toMap();\n    }\n    return json;\n  }\n\n  function isPlainObj(value) {\n    return value && (value.constructor === Object || value.constructor === undefined);\n  }\n\n  /**\n   * An extension of the \"same-value\" algorithm as [described for use by ES6 Map\n   * and Set](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map#Key_equality)\n   *\n   * NaN is considered the same as NaN, however -0 and 0 are considered the same\n   * value, which is different from the algorithm described by\n   * [`Object.is`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is).\n   *\n   * This is extended further to allow Objects to describe the values they\n   * represent, by way of `valueOf` or `equals` (and `hashCode`).\n   *\n   * Note: because of this extension, the key equality of Immutable.Map and the\n   * value equality of Immutable.Set will differ from ES6 Map and Set.\n   *\n   * ### Defining custom values\n   *\n   * The easiest way to describe the value an object represents is by implementing\n   * `valueOf`. For example, `Date` represents a value by returning a unix\n   * timestamp for `valueOf`:\n   *\n   *     var date1 = new Date(1234567890000); // Fri Feb 13 2009 ...\n   *     var date2 = new Date(1234567890000);\n   *     date1.valueOf(); // 1234567890000\n   *     assert( date1 !== date2 );\n   *     assert( Immutable.is( date1, date2 ) );\n   *\n   * Note: overriding `valueOf` may have other implications if you use this object\n   * where JavaScript expects a primitive, such as implicit string coercion.\n   *\n   * For more complex types, especially collections, implementing `valueOf` may\n   * not be performant. An alternative is to implement `equals` and `hashCode`.\n   *\n   * `equals` takes another object, presumably of similar type, and returns true\n   * if the it is equal. Equality is symmetrical, so the same result should be\n   * returned if this and the argument are flipped.\n   *\n   *     assert( a.equals(b) === b.equals(a) );\n   *\n   * `hashCode` returns a 32bit integer number representing the object which will\n   * be used to determine how to store the value object in a Map or Set. You must\n   * provide both or neither methods, one must not exist without the other.\n   *\n   * Also, an important relationship between these methods must be upheld: if two\n   * values are equal, they *must* return the same hashCode. If the values are not\n   * equal, they might have the same hashCode; this is called a hash collision,\n   * and while undesirable for performance reasons, it is acceptable.\n   *\n   *     if (a.equals(b)) {\n   *       assert( a.hashCode() === b.hashCode() );\n   *     }\n   *\n   * All Immutable collections implement `equals` and `hashCode`.\n   *\n   */\n  function is(valueA, valueB) {\n    if (valueA === valueB || (valueA !== valueA && valueB !== valueB)) {\n      return true;\n    }\n    if (!valueA || !valueB) {\n      return false;\n    }\n    if (typeof valueA.valueOf === 'function' &&\n        typeof valueB.valueOf === 'function') {\n      valueA = valueA.valueOf();\n      valueB = valueB.valueOf();\n      if (valueA === valueB || (valueA !== valueA && valueB !== valueB)) {\n        return true;\n      }\n      if (!valueA || !valueB) {\n        return false;\n      }\n    }\n    if (typeof valueA.equals === 'function' &&\n        typeof valueB.equals === 'function' &&\n        valueA.equals(valueB)) {\n      return true;\n    }\n    return false;\n  }\n\n  function deepEqual(a, b) {\n    if (a === b) {\n      return true;\n    }\n\n    if (\n      !isIterable(b) ||\n      a.size !== undefined && b.size !== undefined && a.size !== b.size ||\n      a.__hash !== undefined && b.__hash !== undefined && a.__hash !== b.__hash ||\n      isKeyed(a) !== isKeyed(b) ||\n      isIndexed(a) !== isIndexed(b) ||\n      isOrdered(a) !== isOrdered(b)\n    ) {\n      return false;\n    }\n\n    if (a.size === 0 && b.size === 0) {\n      return true;\n    }\n\n    var notAssociative = !isAssociative(a);\n\n    if (isOrdered(a)) {\n      var entries = a.entries();\n      return b.every(function(v, k)  {\n        var entry = entries.next().value;\n        return entry && is(entry[1], v) && (notAssociative || is(entry[0], k));\n      }) && entries.next().done;\n    }\n\n    var flipped = false;\n\n    if (a.size === undefined) {\n      if (b.size === undefined) {\n        if (typeof a.cacheResult === 'function') {\n          a.cacheResult();\n        }\n      } else {\n        flipped = true;\n        var _ = a;\n        a = b;\n        b = _;\n      }\n    }\n\n    var allEqual = true;\n    var bSize = b.__iterate(function(v, k)  {\n      if (notAssociative ? !a.has(v) :\n          flipped ? !is(v, a.get(k, NOT_SET)) : !is(a.get(k, NOT_SET), v)) {\n        allEqual = false;\n        return false;\n      }\n    });\n\n    return allEqual && a.size === bSize;\n  }\n\n  createClass(Repeat, IndexedSeq);\n\n    function Repeat(value, times) {\n      if (!(this instanceof Repeat)) {\n        return new Repeat(value, times);\n      }\n      this._value = value;\n      this.size = times === undefined ? Infinity : Math.max(0, times);\n      if (this.size === 0) {\n        if (EMPTY_REPEAT) {\n          return EMPTY_REPEAT;\n        }\n        EMPTY_REPEAT = this;\n      }\n    }\n\n    Repeat.prototype.toString = function() {\n      if (this.size === 0) {\n        return 'Repeat []';\n      }\n      return 'Repeat [ ' + this._value + ' ' + this.size + ' times ]';\n    };\n\n    Repeat.prototype.get = function(index, notSetValue) {\n      return this.has(index) ? this._value : notSetValue;\n    };\n\n    Repeat.prototype.includes = function(searchValue) {\n      return is(this._value, searchValue);\n    };\n\n    Repeat.prototype.slice = function(begin, end) {\n      var size = this.size;\n      return wholeSlice(begin, end, size) ? this :\n        new Repeat(this._value, resolveEnd(end, size) - resolveBegin(begin, size));\n    };\n\n    Repeat.prototype.reverse = function() {\n      return this;\n    };\n\n    Repeat.prototype.indexOf = function(searchValue) {\n      if (is(this._value, searchValue)) {\n        return 0;\n      }\n      return -1;\n    };\n\n    Repeat.prototype.lastIndexOf = function(searchValue) {\n      if (is(this._value, searchValue)) {\n        return this.size;\n      }\n      return -1;\n    };\n\n    Repeat.prototype.__iterate = function(fn, reverse) {\n      for (var ii = 0; ii < this.size; ii++) {\n        if (fn(this._value, ii, this) === false) {\n          return ii + 1;\n        }\n      }\n      return ii;\n    };\n\n    Repeat.prototype.__iterator = function(type, reverse) {var this$0 = this;\n      var ii = 0;\n      return new Iterator(function() \n        {return ii < this$0.size ? iteratorValue(type, ii++, this$0._value) : iteratorDone()}\n      );\n    };\n\n    Repeat.prototype.equals = function(other) {\n      return other instanceof Repeat ?\n        is(this._value, other._value) :\n        deepEqual(other);\n    };\n\n\n  var EMPTY_REPEAT;\n\n  function invariant(condition, error) {\n    if (!condition) throw new Error(error);\n  }\n\n  createClass(Range, IndexedSeq);\n\n    function Range(start, end, step) {\n      if (!(this instanceof Range)) {\n        return new Range(start, end, step);\n      }\n      invariant(step !== 0, 'Cannot step a Range by 0');\n      start = start || 0;\n      if (end === undefined) {\n        end = Infinity;\n      }\n      step = step === undefined ? 1 : Math.abs(step);\n      if (end < start) {\n        step = -step;\n      }\n      this._start = start;\n      this._end = end;\n      this._step = step;\n      this.size = Math.max(0, Math.ceil((end - start) / step - 1) + 1);\n      if (this.size === 0) {\n        if (EMPTY_RANGE) {\n          return EMPTY_RANGE;\n        }\n        EMPTY_RANGE = this;\n      }\n    }\n\n    Range.prototype.toString = function() {\n      if (this.size === 0) {\n        return 'Range []';\n      }\n      return 'Range [ ' +\n        this._start + '...' + this._end +\n        (this._step !== 1 ? ' by ' + this._step : '') +\n      ' ]';\n    };\n\n    Range.prototype.get = function(index, notSetValue) {\n      return this.has(index) ?\n        this._start + wrapIndex(this, index) * this._step :\n        notSetValue;\n    };\n\n    Range.prototype.includes = function(searchValue) {\n      var possibleIndex = (searchValue - this._start) / this._step;\n      return possibleIndex >= 0 &&\n        possibleIndex < this.size &&\n        possibleIndex === Math.floor(possibleIndex);\n    };\n\n    Range.prototype.slice = function(begin, end) {\n      if (wholeSlice(begin, end, this.size)) {\n        return this;\n      }\n      begin = resolveBegin(begin, this.size);\n      end = resolveEnd(end, this.size);\n      if (end <= begin) {\n        return new Range(0, 0);\n      }\n      return new Range(this.get(begin, this._end), this.get(end, this._end), this._step);\n    };\n\n    Range.prototype.indexOf = function(searchValue) {\n      var offsetValue = searchValue - this._start;\n      if (offsetValue % this._step === 0) {\n        var index = offsetValue / this._step;\n        if (index >= 0 && index < this.size) {\n          return index\n        }\n      }\n      return -1;\n    };\n\n    Range.prototype.lastIndexOf = function(searchValue) {\n      return this.indexOf(searchValue);\n    };\n\n    Range.prototype.__iterate = function(fn, reverse) {\n      var maxIndex = this.size - 1;\n      var step = this._step;\n      var value = reverse ? this._start + maxIndex * step : this._start;\n      for (var ii = 0; ii <= maxIndex; ii++) {\n        if (fn(value, ii, this) === false) {\n          return ii + 1;\n        }\n        value += reverse ? -step : step;\n      }\n      return ii;\n    };\n\n    Range.prototype.__iterator = function(type, reverse) {\n      var maxIndex = this.size - 1;\n      var step = this._step;\n      var value = reverse ? this._start + maxIndex * step : this._start;\n      var ii = 0;\n      return new Iterator(function()  {\n        var v = value;\n        value += reverse ? -step : step;\n        return ii > maxIndex ? iteratorDone() : iteratorValue(type, ii++, v);\n      });\n    };\n\n    Range.prototype.equals = function(other) {\n      return other instanceof Range ?\n        this._start === other._start &&\n        this._end === other._end &&\n        this._step === other._step :\n        deepEqual(this, other);\n    };\n\n\n  var EMPTY_RANGE;\n\n  createClass(Collection, Iterable);\n    function Collection() {\n      throw TypeError('Abstract');\n    }\n\n\n  createClass(KeyedCollection, Collection);function KeyedCollection() {}\n\n  createClass(IndexedCollection, Collection);function IndexedCollection() {}\n\n  createClass(SetCollection, Collection);function SetCollection() {}\n\n\n  Collection.Keyed = KeyedCollection;\n  Collection.Indexed = IndexedCollection;\n  Collection.Set = SetCollection;\n\n  var imul =\n    typeof Math.imul === 'function' && Math.imul(0xffffffff, 2) === -2 ?\n    Math.imul :\n    function imul(a, b) {\n      a = a | 0; // int\n      b = b | 0; // int\n      var c = a & 0xffff;\n      var d = b & 0xffff;\n      // Shift by 0 fixes the sign on the high part.\n      return (c * d) + ((((a >>> 16) * d + c * (b >>> 16)) << 16) >>> 0) | 0; // int\n    };\n\n  // v8 has an optimization for storing 31-bit signed numbers.\n  // Values which have either 00 or 11 as the high order bits qualify.\n  // This function drops the highest order bit in a signed number, maintaining\n  // the sign bit.\n  function smi(i32) {\n    return ((i32 >>> 1) & 0x40000000) | (i32 & 0xBFFFFFFF);\n  }\n\n  function hash(o) {\n    if (o === false || o === null || o === undefined) {\n      return 0;\n    }\n    if (typeof o.valueOf === 'function') {\n      o = o.valueOf();\n      if (o === false || o === null || o === undefined) {\n        return 0;\n      }\n    }\n    if (o === true) {\n      return 1;\n    }\n    var type = typeof o;\n    if (type === 'number') {\n      if (o !== o || o === Infinity) {\n        return 0;\n      }\n      var h = o | 0;\n      if (h !== o) {\n        h ^= o * 0xFFFFFFFF;\n      }\n      while (o > 0xFFFFFFFF) {\n        o /= 0xFFFFFFFF;\n        h ^= o;\n      }\n      return smi(h);\n    }\n    if (type === 'string') {\n      return o.length > STRING_HASH_CACHE_MIN_STRLEN ? cachedHashString(o) : hashString(o);\n    }\n    if (typeof o.hashCode === 'function') {\n      return o.hashCode();\n    }\n    if (type === 'object') {\n      return hashJSObj(o);\n    }\n    if (typeof o.toString === 'function') {\n      return hashString(o.toString());\n    }\n    throw new Error('Value type ' + type + ' cannot be hashed.');\n  }\n\n  function cachedHashString(string) {\n    var hash = stringHashCache[string];\n    if (hash === undefined) {\n      hash = hashString(string);\n      if (STRING_HASH_CACHE_SIZE === STRING_HASH_CACHE_MAX_SIZE) {\n        STRING_HASH_CACHE_SIZE = 0;\n        stringHashCache = {};\n      }\n      STRING_HASH_CACHE_SIZE++;\n      stringHashCache[string] = hash;\n    }\n    return hash;\n  }\n\n  // http://jsperf.com/hashing-strings\n  function hashString(string) {\n    // This is the hash from JVM\n    // The hash code for a string is computed as\n    // s[0] * 31 ^ (n - 1) + s[1] * 31 ^ (n - 2) + ... + s[n - 1],\n    // where s[i] is the ith character of the string and n is the length of\n    // the string. We \"mod\" the result to make it between 0 (inclusive) and 2^31\n    // (exclusive) by dropping high bits.\n    var hash = 0;\n    for (var ii = 0; ii < string.length; ii++) {\n      hash = 31 * hash + string.charCodeAt(ii) | 0;\n    }\n    return smi(hash);\n  }\n\n  function hashJSObj(obj) {\n    var hash;\n    if (usingWeakMap) {\n      hash = weakMap.get(obj);\n      if (hash !== undefined) {\n        return hash;\n      }\n    }\n\n    hash = obj[UID_HASH_KEY];\n    if (hash !== undefined) {\n      return hash;\n    }\n\n    if (!canDefineProperty) {\n      hash = obj.propertyIsEnumerable && obj.propertyIsEnumerable[UID_HASH_KEY];\n      if (hash !== undefined) {\n        return hash;\n      }\n\n      hash = getIENodeHash(obj);\n      if (hash !== undefined) {\n        return hash;\n      }\n    }\n\n    hash = ++objHashUID;\n    if (objHashUID & 0x40000000) {\n      objHashUID = 0;\n    }\n\n    if (usingWeakMap) {\n      weakMap.set(obj, hash);\n    } else if (isExtensible !== undefined && isExtensible(obj) === false) {\n      throw new Error('Non-extensible objects are not allowed as keys.');\n    } else if (canDefineProperty) {\n      Object.defineProperty(obj, UID_HASH_KEY, {\n        'enumerable': false,\n        'configurable': false,\n        'writable': false,\n        'value': hash\n      });\n    } else if (obj.propertyIsEnumerable !== undefined &&\n               obj.propertyIsEnumerable === obj.constructor.prototype.propertyIsEnumerable) {\n      // Since we can't define a non-enumerable property on the object\n      // we'll hijack one of the less-used non-enumerable properties to\n      // save our hash on it. Since this is a function it will not show up in\n      // `JSON.stringify` which is what we want.\n      obj.propertyIsEnumerable = function() {\n        return this.constructor.prototype.propertyIsEnumerable.apply(this, arguments);\n      };\n      obj.propertyIsEnumerable[UID_HASH_KEY] = hash;\n    } else if (obj.nodeType !== undefined) {\n      // At this point we couldn't get the IE `uniqueID` to use as a hash\n      // and we couldn't use a non-enumerable property to exploit the\n      // dontEnum bug so we simply add the `UID_HASH_KEY` on the node\n      // itself.\n      obj[UID_HASH_KEY] = hash;\n    } else {\n      throw new Error('Unable to set a non-enumerable property on object.');\n    }\n\n    return hash;\n  }\n\n  // Get references to ES5 object methods.\n  var isExtensible = Object.isExtensible;\n\n  // True if Object.defineProperty works as expected. IE8 fails this test.\n  var canDefineProperty = (function() {\n    try {\n      Object.defineProperty({}, '@', {});\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }());\n\n  // IE has a `uniqueID` property on DOM nodes. We can construct the hash from it\n  // and avoid memory leaks from the IE cloneNode bug.\n  function getIENodeHash(node) {\n    if (node && node.nodeType > 0) {\n      switch (node.nodeType) {\n        case 1: // Element\n          return node.uniqueID;\n        case 9: // Document\n          return node.documentElement && node.documentElement.uniqueID;\n      }\n    }\n  }\n\n  // If possible, use a WeakMap.\n  var usingWeakMap = typeof WeakMap === 'function';\n  var weakMap;\n  if (usingWeakMap) {\n    weakMap = new WeakMap();\n  }\n\n  var objHashUID = 0;\n\n  var UID_HASH_KEY = '__immutablehash__';\n  if (typeof Symbol === 'function') {\n    UID_HASH_KEY = Symbol(UID_HASH_KEY);\n  }\n\n  var STRING_HASH_CACHE_MIN_STRLEN = 16;\n  var STRING_HASH_CACHE_MAX_SIZE = 255;\n  var STRING_HASH_CACHE_SIZE = 0;\n  var stringHashCache = {};\n\n  function assertNotInfinite(size) {\n    invariant(\n      size !== Infinity,\n      'Cannot perform this action with an infinite size.'\n    );\n  }\n\n  createClass(Map, KeyedCollection);\n\n    // @pragma Construction\n\n    function Map(value) {\n      return value === null || value === undefined ? emptyMap() :\n        isMap(value) && !isOrdered(value) ? value :\n        emptyMap().withMutations(function(map ) {\n          var iter = KeyedIterable(value);\n          assertNotInfinite(iter.size);\n          iter.forEach(function(v, k)  {return map.set(k, v)});\n        });\n    }\n\n    Map.of = function() {var keyValues = SLICE$0.call(arguments, 0);\n      return emptyMap().withMutations(function(map ) {\n        for (var i = 0; i < keyValues.length; i += 2) {\n          if (i + 1 >= keyValues.length) {\n            throw new Error('Missing value for key: ' + keyValues[i]);\n          }\n          map.set(keyValues[i], keyValues[i + 1]);\n        }\n      });\n    };\n\n    Map.prototype.toString = function() {\n      return this.__toString('Map {', '}');\n    };\n\n    // @pragma Access\n\n    Map.prototype.get = function(k, notSetValue) {\n      return this._root ?\n        this._root.get(0, undefined, k, notSetValue) :\n        notSetValue;\n    };\n\n    // @pragma Modification\n\n    Map.prototype.set = function(k, v) {\n      return updateMap(this, k, v);\n    };\n\n    Map.prototype.setIn = function(keyPath, v) {\n      return this.updateIn(keyPath, NOT_SET, function()  {return v});\n    };\n\n    Map.prototype.remove = function(k) {\n      return updateMap(this, k, NOT_SET);\n    };\n\n    Map.prototype.deleteIn = function(keyPath) {\n      return this.updateIn(keyPath, function()  {return NOT_SET});\n    };\n\n    Map.prototype.update = function(k, notSetValue, updater) {\n      return arguments.length === 1 ?\n        k(this) :\n        this.updateIn([k], notSetValue, updater);\n    };\n\n    Map.prototype.updateIn = function(keyPath, notSetValue, updater) {\n      if (!updater) {\n        updater = notSetValue;\n        notSetValue = undefined;\n      }\n      var updatedValue = updateInDeepMap(\n        this,\n        forceIterator(keyPath),\n        notSetValue,\n        updater\n      );\n      return updatedValue === NOT_SET ? undefined : updatedValue;\n    };\n\n    Map.prototype.clear = function() {\n      if (this.size === 0) {\n        return this;\n      }\n      if (this.__ownerID) {\n        this.size = 0;\n        this._root = null;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return emptyMap();\n    };\n\n    // @pragma Composition\n\n    Map.prototype.merge = function(/*...iters*/) {\n      return mergeIntoMapWith(this, undefined, arguments);\n    };\n\n    Map.prototype.mergeWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n      return mergeIntoMapWith(this, merger, iters);\n    };\n\n    Map.prototype.mergeIn = function(keyPath) {var iters = SLICE$0.call(arguments, 1);\n      return this.updateIn(\n        keyPath,\n        emptyMap(),\n        function(m ) {return typeof m.merge === 'function' ?\n          m.merge.apply(m, iters) :\n          iters[iters.length - 1]}\n      );\n    };\n\n    Map.prototype.mergeDeep = function(/*...iters*/) {\n      return mergeIntoMapWith(this, deepMerger, arguments);\n    };\n\n    Map.prototype.mergeDeepWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n      return mergeIntoMapWith(this, deepMergerWith(merger), iters);\n    };\n\n    Map.prototype.mergeDeepIn = function(keyPath) {var iters = SLICE$0.call(arguments, 1);\n      return this.updateIn(\n        keyPath,\n        emptyMap(),\n        function(m ) {return typeof m.mergeDeep === 'function' ?\n          m.mergeDeep.apply(m, iters) :\n          iters[iters.length - 1]}\n      );\n    };\n\n    Map.prototype.sort = function(comparator) {\n      // Late binding\n      return OrderedMap(sortFactory(this, comparator));\n    };\n\n    Map.prototype.sortBy = function(mapper, comparator) {\n      // Late binding\n      return OrderedMap(sortFactory(this, comparator, mapper));\n    };\n\n    // @pragma Mutability\n\n    Map.prototype.withMutations = function(fn) {\n      var mutable = this.asMutable();\n      fn(mutable);\n      return mutable.wasAltered() ? mutable.__ensureOwner(this.__ownerID) : this;\n    };\n\n    Map.prototype.asMutable = function() {\n      return this.__ownerID ? this : this.__ensureOwner(new OwnerID());\n    };\n\n    Map.prototype.asImmutable = function() {\n      return this.__ensureOwner();\n    };\n\n    Map.prototype.wasAltered = function() {\n      return this.__altered;\n    };\n\n    Map.prototype.__iterator = function(type, reverse) {\n      return new MapIterator(this, type, reverse);\n    };\n\n    Map.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      var iterations = 0;\n      this._root && this._root.iterate(function(entry ) {\n        iterations++;\n        return fn(entry[1], entry[0], this$0);\n      }, reverse);\n      return iterations;\n    };\n\n    Map.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        this.__altered = false;\n        return this;\n      }\n      return makeMap(this.size, this._root, ownerID, this.__hash);\n    };\n\n\n  function isMap(maybeMap) {\n    return !!(maybeMap && maybeMap[IS_MAP_SENTINEL]);\n  }\n\n  Map.isMap = isMap;\n\n  var IS_MAP_SENTINEL = '@@__IMMUTABLE_MAP__@@';\n\n  var MapPrototype = Map.prototype;\n  MapPrototype[IS_MAP_SENTINEL] = true;\n  MapPrototype[DELETE] = MapPrototype.remove;\n  MapPrototype.removeIn = MapPrototype.deleteIn;\n\n\n  // #pragma Trie Nodes\n\n\n\n    function ArrayMapNode(ownerID, entries) {\n      this.ownerID = ownerID;\n      this.entries = entries;\n    }\n\n    ArrayMapNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n      var entries = this.entries;\n      for (var ii = 0, len = entries.length; ii < len; ii++) {\n        if (is(key, entries[ii][0])) {\n          return entries[ii][1];\n        }\n      }\n      return notSetValue;\n    };\n\n    ArrayMapNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n      var removed = value === NOT_SET;\n\n      var entries = this.entries;\n      var idx = 0;\n      for (var len = entries.length; idx < len; idx++) {\n        if (is(key, entries[idx][0])) {\n          break;\n        }\n      }\n      var exists = idx < len;\n\n      if (exists ? entries[idx][1] === value : removed) {\n        return this;\n      }\n\n      SetRef(didAlter);\n      (removed || !exists) && SetRef(didChangeSize);\n\n      if (removed && entries.length === 1) {\n        return; // undefined\n      }\n\n      if (!exists && !removed && entries.length >= MAX_ARRAY_MAP_SIZE) {\n        return createNodes(ownerID, entries, key, value);\n      }\n\n      var isEditable = ownerID && ownerID === this.ownerID;\n      var newEntries = isEditable ? entries : arrCopy(entries);\n\n      if (exists) {\n        if (removed) {\n          idx === len - 1 ? newEntries.pop() : (newEntries[idx] = newEntries.pop());\n        } else {\n          newEntries[idx] = [key, value];\n        }\n      } else {\n        newEntries.push([key, value]);\n      }\n\n      if (isEditable) {\n        this.entries = newEntries;\n        return this;\n      }\n\n      return new ArrayMapNode(ownerID, newEntries);\n    };\n\n\n\n\n    function BitmapIndexedNode(ownerID, bitmap, nodes) {\n      this.ownerID = ownerID;\n      this.bitmap = bitmap;\n      this.nodes = nodes;\n    }\n\n    BitmapIndexedNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n      if (keyHash === undefined) {\n        keyHash = hash(key);\n      }\n      var bit = (1 << ((shift === 0 ? keyHash : keyHash >>> shift) & MASK));\n      var bitmap = this.bitmap;\n      return (bitmap & bit) === 0 ? notSetValue :\n        this.nodes[popCount(bitmap & (bit - 1))].get(shift + SHIFT, keyHash, key, notSetValue);\n    };\n\n    BitmapIndexedNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n      if (keyHash === undefined) {\n        keyHash = hash(key);\n      }\n      var keyHashFrag = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n      var bit = 1 << keyHashFrag;\n      var bitmap = this.bitmap;\n      var exists = (bitmap & bit) !== 0;\n\n      if (!exists && value === NOT_SET) {\n        return this;\n      }\n\n      var idx = popCount(bitmap & (bit - 1));\n      var nodes = this.nodes;\n      var node = exists ? nodes[idx] : undefined;\n      var newNode = updateNode(node, ownerID, shift + SHIFT, keyHash, key, value, didChangeSize, didAlter);\n\n      if (newNode === node) {\n        return this;\n      }\n\n      if (!exists && newNode && nodes.length >= MAX_BITMAP_INDEXED_SIZE) {\n        return expandNodes(ownerID, nodes, bitmap, keyHashFrag, newNode);\n      }\n\n      if (exists && !newNode && nodes.length === 2 && isLeafNode(nodes[idx ^ 1])) {\n        return nodes[idx ^ 1];\n      }\n\n      if (exists && newNode && nodes.length === 1 && isLeafNode(newNode)) {\n        return newNode;\n      }\n\n      var isEditable = ownerID && ownerID === this.ownerID;\n      var newBitmap = exists ? newNode ? bitmap : bitmap ^ bit : bitmap | bit;\n      var newNodes = exists ? newNode ?\n        setIn(nodes, idx, newNode, isEditable) :\n        spliceOut(nodes, idx, isEditable) :\n        spliceIn(nodes, idx, newNode, isEditable);\n\n      if (isEditable) {\n        this.bitmap = newBitmap;\n        this.nodes = newNodes;\n        return this;\n      }\n\n      return new BitmapIndexedNode(ownerID, newBitmap, newNodes);\n    };\n\n\n\n\n    function HashArrayMapNode(ownerID, count, nodes) {\n      this.ownerID = ownerID;\n      this.count = count;\n      this.nodes = nodes;\n    }\n\n    HashArrayMapNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n      if (keyHash === undefined) {\n        keyHash = hash(key);\n      }\n      var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n      var node = this.nodes[idx];\n      return node ? node.get(shift + SHIFT, keyHash, key, notSetValue) : notSetValue;\n    };\n\n    HashArrayMapNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n      if (keyHash === undefined) {\n        keyHash = hash(key);\n      }\n      var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n      var removed = value === NOT_SET;\n      var nodes = this.nodes;\n      var node = nodes[idx];\n\n      if (removed && !node) {\n        return this;\n      }\n\n      var newNode = updateNode(node, ownerID, shift + SHIFT, keyHash, key, value, didChangeSize, didAlter);\n      if (newNode === node) {\n        return this;\n      }\n\n      var newCount = this.count;\n      if (!node) {\n        newCount++;\n      } else if (!newNode) {\n        newCount--;\n        if (newCount < MIN_HASH_ARRAY_MAP_SIZE) {\n          return packNodes(ownerID, nodes, newCount, idx);\n        }\n      }\n\n      var isEditable = ownerID && ownerID === this.ownerID;\n      var newNodes = setIn(nodes, idx, newNode, isEditable);\n\n      if (isEditable) {\n        this.count = newCount;\n        this.nodes = newNodes;\n        return this;\n      }\n\n      return new HashArrayMapNode(ownerID, newCount, newNodes);\n    };\n\n\n\n\n    function HashCollisionNode(ownerID, keyHash, entries) {\n      this.ownerID = ownerID;\n      this.keyHash = keyHash;\n      this.entries = entries;\n    }\n\n    HashCollisionNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n      var entries = this.entries;\n      for (var ii = 0, len = entries.length; ii < len; ii++) {\n        if (is(key, entries[ii][0])) {\n          return entries[ii][1];\n        }\n      }\n      return notSetValue;\n    };\n\n    HashCollisionNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n      if (keyHash === undefined) {\n        keyHash = hash(key);\n      }\n\n      var removed = value === NOT_SET;\n\n      if (keyHash !== this.keyHash) {\n        if (removed) {\n          return this;\n        }\n        SetRef(didAlter);\n        SetRef(didChangeSize);\n        return mergeIntoNode(this, ownerID, shift, keyHash, [key, value]);\n      }\n\n      var entries = this.entries;\n      var idx = 0;\n      for (var len = entries.length; idx < len; idx++) {\n        if (is(key, entries[idx][0])) {\n          break;\n        }\n      }\n      var exists = idx < len;\n\n      if (exists ? entries[idx][1] === value : removed) {\n        return this;\n      }\n\n      SetRef(didAlter);\n      (removed || !exists) && SetRef(didChangeSize);\n\n      if (removed && len === 2) {\n        return new ValueNode(ownerID, this.keyHash, entries[idx ^ 1]);\n      }\n\n      var isEditable = ownerID && ownerID === this.ownerID;\n      var newEntries = isEditable ? entries : arrCopy(entries);\n\n      if (exists) {\n        if (removed) {\n          idx === len - 1 ? newEntries.pop() : (newEntries[idx] = newEntries.pop());\n        } else {\n          newEntries[idx] = [key, value];\n        }\n      } else {\n        newEntries.push([key, value]);\n      }\n\n      if (isEditable) {\n        this.entries = newEntries;\n        return this;\n      }\n\n      return new HashCollisionNode(ownerID, this.keyHash, newEntries);\n    };\n\n\n\n\n    function ValueNode(ownerID, keyHash, entry) {\n      this.ownerID = ownerID;\n      this.keyHash = keyHash;\n      this.entry = entry;\n    }\n\n    ValueNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n      return is(key, this.entry[0]) ? this.entry[1] : notSetValue;\n    };\n\n    ValueNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n      var removed = value === NOT_SET;\n      var keyMatch = is(key, this.entry[0]);\n      if (keyMatch ? value === this.entry[1] : removed) {\n        return this;\n      }\n\n      SetRef(didAlter);\n\n      if (removed) {\n        SetRef(didChangeSize);\n        return; // undefined\n      }\n\n      if (keyMatch) {\n        if (ownerID && ownerID === this.ownerID) {\n          this.entry[1] = value;\n          return this;\n        }\n        return new ValueNode(ownerID, this.keyHash, [key, value]);\n      }\n\n      SetRef(didChangeSize);\n      return mergeIntoNode(this, ownerID, shift, hash(key), [key, value]);\n    };\n\n\n\n  // #pragma Iterators\n\n  ArrayMapNode.prototype.iterate =\n  HashCollisionNode.prototype.iterate = function (fn, reverse) {\n    var entries = this.entries;\n    for (var ii = 0, maxIndex = entries.length - 1; ii <= maxIndex; ii++) {\n      if (fn(entries[reverse ? maxIndex - ii : ii]) === false) {\n        return false;\n      }\n    }\n  }\n\n  BitmapIndexedNode.prototype.iterate =\n  HashArrayMapNode.prototype.iterate = function (fn, reverse) {\n    var nodes = this.nodes;\n    for (var ii = 0, maxIndex = nodes.length - 1; ii <= maxIndex; ii++) {\n      var node = nodes[reverse ? maxIndex - ii : ii];\n      if (node && node.iterate(fn, reverse) === false) {\n        return false;\n      }\n    }\n  }\n\n  ValueNode.prototype.iterate = function (fn, reverse) {\n    return fn(this.entry);\n  }\n\n  createClass(MapIterator, Iterator);\n\n    function MapIterator(map, type, reverse) {\n      this._type = type;\n      this._reverse = reverse;\n      this._stack = map._root && mapIteratorFrame(map._root);\n    }\n\n    MapIterator.prototype.next = function() {\n      var type = this._type;\n      var stack = this._stack;\n      while (stack) {\n        var node = stack.node;\n        var index = stack.index++;\n        var maxIndex;\n        if (node.entry) {\n          if (index === 0) {\n            return mapIteratorValue(type, node.entry);\n          }\n        } else if (node.entries) {\n          maxIndex = node.entries.length - 1;\n          if (index <= maxIndex) {\n            return mapIteratorValue(type, node.entries[this._reverse ? maxIndex - index : index]);\n          }\n        } else {\n          maxIndex = node.nodes.length - 1;\n          if (index <= maxIndex) {\n            var subNode = node.nodes[this._reverse ? maxIndex - index : index];\n            if (subNode) {\n              if (subNode.entry) {\n                return mapIteratorValue(type, subNode.entry);\n              }\n              stack = this._stack = mapIteratorFrame(subNode, stack);\n            }\n            continue;\n          }\n        }\n        stack = this._stack = this._stack.__prev;\n      }\n      return iteratorDone();\n    };\n\n\n  function mapIteratorValue(type, entry) {\n    return iteratorValue(type, entry[0], entry[1]);\n  }\n\n  function mapIteratorFrame(node, prev) {\n    return {\n      node: node,\n      index: 0,\n      __prev: prev\n    };\n  }\n\n  function makeMap(size, root, ownerID, hash) {\n    var map = Object.create(MapPrototype);\n    map.size = size;\n    map._root = root;\n    map.__ownerID = ownerID;\n    map.__hash = hash;\n    map.__altered = false;\n    return map;\n  }\n\n  var EMPTY_MAP;\n  function emptyMap() {\n    return EMPTY_MAP || (EMPTY_MAP = makeMap(0));\n  }\n\n  function updateMap(map, k, v) {\n    var newRoot;\n    var newSize;\n    if (!map._root) {\n      if (v === NOT_SET) {\n        return map;\n      }\n      newSize = 1;\n      newRoot = new ArrayMapNode(map.__ownerID, [[k, v]]);\n    } else {\n      var didChangeSize = MakeRef(CHANGE_LENGTH);\n      var didAlter = MakeRef(DID_ALTER);\n      newRoot = updateNode(map._root, map.__ownerID, 0, undefined, k, v, didChangeSize, didAlter);\n      if (!didAlter.value) {\n        return map;\n      }\n      newSize = map.size + (didChangeSize.value ? v === NOT_SET ? -1 : 1 : 0);\n    }\n    if (map.__ownerID) {\n      map.size = newSize;\n      map._root = newRoot;\n      map.__hash = undefined;\n      map.__altered = true;\n      return map;\n    }\n    return newRoot ? makeMap(newSize, newRoot) : emptyMap();\n  }\n\n  function updateNode(node, ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n    if (!node) {\n      if (value === NOT_SET) {\n        return node;\n      }\n      SetRef(didAlter);\n      SetRef(didChangeSize);\n      return new ValueNode(ownerID, keyHash, [key, value]);\n    }\n    return node.update(ownerID, shift, keyHash, key, value, didChangeSize, didAlter);\n  }\n\n  function isLeafNode(node) {\n    return node.constructor === ValueNode || node.constructor === HashCollisionNode;\n  }\n\n  function mergeIntoNode(node, ownerID, shift, keyHash, entry) {\n    if (node.keyHash === keyHash) {\n      return new HashCollisionNode(ownerID, keyHash, [node.entry, entry]);\n    }\n\n    var idx1 = (shift === 0 ? node.keyHash : node.keyHash >>> shift) & MASK;\n    var idx2 = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n\n    var newNode;\n    var nodes = idx1 === idx2 ?\n      [mergeIntoNode(node, ownerID, shift + SHIFT, keyHash, entry)] :\n      ((newNode = new ValueNode(ownerID, keyHash, entry)), idx1 < idx2 ? [node, newNode] : [newNode, node]);\n\n    return new BitmapIndexedNode(ownerID, (1 << idx1) | (1 << idx2), nodes);\n  }\n\n  function createNodes(ownerID, entries, key, value) {\n    if (!ownerID) {\n      ownerID = new OwnerID();\n    }\n    var node = new ValueNode(ownerID, hash(key), [key, value]);\n    for (var ii = 0; ii < entries.length; ii++) {\n      var entry = entries[ii];\n      node = node.update(ownerID, 0, undefined, entry[0], entry[1]);\n    }\n    return node;\n  }\n\n  function packNodes(ownerID, nodes, count, excluding) {\n    var bitmap = 0;\n    var packedII = 0;\n    var packedNodes = new Array(count);\n    for (var ii = 0, bit = 1, len = nodes.length; ii < len; ii++, bit <<= 1) {\n      var node = nodes[ii];\n      if (node !== undefined && ii !== excluding) {\n        bitmap |= bit;\n        packedNodes[packedII++] = node;\n      }\n    }\n    return new BitmapIndexedNode(ownerID, bitmap, packedNodes);\n  }\n\n  function expandNodes(ownerID, nodes, bitmap, including, node) {\n    var count = 0;\n    var expandedNodes = new Array(SIZE);\n    for (var ii = 0; bitmap !== 0; ii++, bitmap >>>= 1) {\n      expandedNodes[ii] = bitmap & 1 ? nodes[count++] : undefined;\n    }\n    expandedNodes[including] = node;\n    return new HashArrayMapNode(ownerID, count + 1, expandedNodes);\n  }\n\n  function mergeIntoMapWith(map, merger, iterables) {\n    var iters = [];\n    for (var ii = 0; ii < iterables.length; ii++) {\n      var value = iterables[ii];\n      var iter = KeyedIterable(value);\n      if (!isIterable(value)) {\n        iter = iter.map(function(v ) {return fromJS(v)});\n      }\n      iters.push(iter);\n    }\n    return mergeIntoCollectionWith(map, merger, iters);\n  }\n\n  function deepMerger(existing, value, key) {\n    return existing && existing.mergeDeep && isIterable(value) ?\n      existing.mergeDeep(value) :\n      is(existing, value) ? existing : value;\n  }\n\n  function deepMergerWith(merger) {\n    return function(existing, value, key)  {\n      if (existing && existing.mergeDeepWith && isIterable(value)) {\n        return existing.mergeDeepWith(merger, value);\n      }\n      var nextValue = merger(existing, value, key);\n      return is(existing, nextValue) ? existing : nextValue;\n    };\n  }\n\n  function mergeIntoCollectionWith(collection, merger, iters) {\n    iters = iters.filter(function(x ) {return x.size !== 0});\n    if (iters.length === 0) {\n      return collection;\n    }\n    if (collection.size === 0 && !collection.__ownerID && iters.length === 1) {\n      return collection.constructor(iters[0]);\n    }\n    return collection.withMutations(function(collection ) {\n      var mergeIntoMap = merger ?\n        function(value, key)  {\n          collection.update(key, NOT_SET, function(existing )\n            {return existing === NOT_SET ? value : merger(existing, value, key)}\n          );\n        } :\n        function(value, key)  {\n          collection.set(key, value);\n        }\n      for (var ii = 0; ii < iters.length; ii++) {\n        iters[ii].forEach(mergeIntoMap);\n      }\n    });\n  }\n\n  function updateInDeepMap(existing, keyPathIter, notSetValue, updater) {\n    var isNotSet = existing === NOT_SET;\n    var step = keyPathIter.next();\n    if (step.done) {\n      var existingValue = isNotSet ? notSetValue : existing;\n      var newValue = updater(existingValue);\n      return newValue === existingValue ? existing : newValue;\n    }\n    invariant(\n      isNotSet || (existing && existing.set),\n      'invalid keyPath'\n    );\n    var key = step.value;\n    var nextExisting = isNotSet ? NOT_SET : existing.get(key, NOT_SET);\n    var nextUpdated = updateInDeepMap(\n      nextExisting,\n      keyPathIter,\n      notSetValue,\n      updater\n    );\n    return nextUpdated === nextExisting ? existing :\n      nextUpdated === NOT_SET ? existing.remove(key) :\n      (isNotSet ? emptyMap() : existing).set(key, nextUpdated);\n  }\n\n  function popCount(x) {\n    x = x - ((x >> 1) & 0x55555555);\n    x = (x & 0x33333333) + ((x >> 2) & 0x33333333);\n    x = (x + (x >> 4)) & 0x0f0f0f0f;\n    x = x + (x >> 8);\n    x = x + (x >> 16);\n    return x & 0x7f;\n  }\n\n  function setIn(array, idx, val, canEdit) {\n    var newArray = canEdit ? array : arrCopy(array);\n    newArray[idx] = val;\n    return newArray;\n  }\n\n  function spliceIn(array, idx, val, canEdit) {\n    var newLen = array.length + 1;\n    if (canEdit && idx + 1 === newLen) {\n      array[idx] = val;\n      return array;\n    }\n    var newArray = new Array(newLen);\n    var after = 0;\n    for (var ii = 0; ii < newLen; ii++) {\n      if (ii === idx) {\n        newArray[ii] = val;\n        after = -1;\n      } else {\n        newArray[ii] = array[ii + after];\n      }\n    }\n    return newArray;\n  }\n\n  function spliceOut(array, idx, canEdit) {\n    var newLen = array.length - 1;\n    if (canEdit && idx === newLen) {\n      array.pop();\n      return array;\n    }\n    var newArray = new Array(newLen);\n    var after = 0;\n    for (var ii = 0; ii < newLen; ii++) {\n      if (ii === idx) {\n        after = 1;\n      }\n      newArray[ii] = array[ii + after];\n    }\n    return newArray;\n  }\n\n  var MAX_ARRAY_MAP_SIZE = SIZE / 4;\n  var MAX_BITMAP_INDEXED_SIZE = SIZE / 2;\n  var MIN_HASH_ARRAY_MAP_SIZE = SIZE / 4;\n\n  createClass(List, IndexedCollection);\n\n    // @pragma Construction\n\n    function List(value) {\n      var empty = emptyList();\n      if (value === null || value === undefined) {\n        return empty;\n      }\n      if (isList(value)) {\n        return value;\n      }\n      var iter = IndexedIterable(value);\n      var size = iter.size;\n      if (size === 0) {\n        return empty;\n      }\n      assertNotInfinite(size);\n      if (size > 0 && size < SIZE) {\n        return makeList(0, size, SHIFT, null, new VNode(iter.toArray()));\n      }\n      return empty.withMutations(function(list ) {\n        list.setSize(size);\n        iter.forEach(function(v, i)  {return list.set(i, v)});\n      });\n    }\n\n    List.of = function(/*...values*/) {\n      return this(arguments);\n    };\n\n    List.prototype.toString = function() {\n      return this.__toString('List [', ']');\n    };\n\n    // @pragma Access\n\n    List.prototype.get = function(index, notSetValue) {\n      index = wrapIndex(this, index);\n      if (index >= 0 && index < this.size) {\n        index += this._origin;\n        var node = listNodeFor(this, index);\n        return node && node.array[index & MASK];\n      }\n      return notSetValue;\n    };\n\n    // @pragma Modification\n\n    List.prototype.set = function(index, value) {\n      return updateList(this, index, value);\n    };\n\n    List.prototype.remove = function(index) {\n      return !this.has(index) ? this :\n        index === 0 ? this.shift() :\n        index === this.size - 1 ? this.pop() :\n        this.splice(index, 1);\n    };\n\n    List.prototype.insert = function(index, value) {\n      return this.splice(index, 0, value);\n    };\n\n    List.prototype.clear = function() {\n      if (this.size === 0) {\n        return this;\n      }\n      if (this.__ownerID) {\n        this.size = this._origin = this._capacity = 0;\n        this._level = SHIFT;\n        this._root = this._tail = null;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return emptyList();\n    };\n\n    List.prototype.push = function(/*...values*/) {\n      var values = arguments;\n      var oldSize = this.size;\n      return this.withMutations(function(list ) {\n        setListBounds(list, 0, oldSize + values.length);\n        for (var ii = 0; ii < values.length; ii++) {\n          list.set(oldSize + ii, values[ii]);\n        }\n      });\n    };\n\n    List.prototype.pop = function() {\n      return setListBounds(this, 0, -1);\n    };\n\n    List.prototype.unshift = function(/*...values*/) {\n      var values = arguments;\n      return this.withMutations(function(list ) {\n        setListBounds(list, -values.length);\n        for (var ii = 0; ii < values.length; ii++) {\n          list.set(ii, values[ii]);\n        }\n      });\n    };\n\n    List.prototype.shift = function() {\n      return setListBounds(this, 1);\n    };\n\n    // @pragma Composition\n\n    List.prototype.merge = function(/*...iters*/) {\n      return mergeIntoListWith(this, undefined, arguments);\n    };\n\n    List.prototype.mergeWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n      return mergeIntoListWith(this, merger, iters);\n    };\n\n    List.prototype.mergeDeep = function(/*...iters*/) {\n      return mergeIntoListWith(this, deepMerger, arguments);\n    };\n\n    List.prototype.mergeDeepWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n      return mergeIntoListWith(this, deepMergerWith(merger), iters);\n    };\n\n    List.prototype.setSize = function(size) {\n      return setListBounds(this, 0, size);\n    };\n\n    // @pragma Iteration\n\n    List.prototype.slice = function(begin, end) {\n      var size = this.size;\n      if (wholeSlice(begin, end, size)) {\n        return this;\n      }\n      return setListBounds(\n        this,\n        resolveBegin(begin, size),\n        resolveEnd(end, size)\n      );\n    };\n\n    List.prototype.__iterator = function(type, reverse) {\n      var index = 0;\n      var values = iterateList(this, reverse);\n      return new Iterator(function()  {\n        var value = values();\n        return value === DONE ?\n          iteratorDone() :\n          iteratorValue(type, index++, value);\n      });\n    };\n\n    List.prototype.__iterate = function(fn, reverse) {\n      var index = 0;\n      var values = iterateList(this, reverse);\n      var value;\n      while ((value = values()) !== DONE) {\n        if (fn(value, index++, this) === false) {\n          break;\n        }\n      }\n      return index;\n    };\n\n    List.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        return this;\n      }\n      return makeList(this._origin, this._capacity, this._level, this._root, this._tail, ownerID, this.__hash);\n    };\n\n\n  function isList(maybeList) {\n    return !!(maybeList && maybeList[IS_LIST_SENTINEL]);\n  }\n\n  List.isList = isList;\n\n  var IS_LIST_SENTINEL = '@@__IMMUTABLE_LIST__@@';\n\n  var ListPrototype = List.prototype;\n  ListPrototype[IS_LIST_SENTINEL] = true;\n  ListPrototype[DELETE] = ListPrototype.remove;\n  ListPrototype.setIn = MapPrototype.setIn;\n  ListPrototype.deleteIn =\n  ListPrototype.removeIn = MapPrototype.removeIn;\n  ListPrototype.update = MapPrototype.update;\n  ListPrototype.updateIn = MapPrototype.updateIn;\n  ListPrototype.mergeIn = MapPrototype.mergeIn;\n  ListPrototype.mergeDeepIn = MapPrototype.mergeDeepIn;\n  ListPrototype.withMutations = MapPrototype.withMutations;\n  ListPrototype.asMutable = MapPrototype.asMutable;\n  ListPrototype.asImmutable = MapPrototype.asImmutable;\n  ListPrototype.wasAltered = MapPrototype.wasAltered;\n\n\n\n    function VNode(array, ownerID) {\n      this.array = array;\n      this.ownerID = ownerID;\n    }\n\n    // TODO: seems like these methods are very similar\n\n    VNode.prototype.removeBefore = function(ownerID, level, index) {\n      if (index === level ? 1 << level : 0 || this.array.length === 0) {\n        return this;\n      }\n      var originIndex = (index >>> level) & MASK;\n      if (originIndex >= this.array.length) {\n        return new VNode([], ownerID);\n      }\n      var removingFirst = originIndex === 0;\n      var newChild;\n      if (level > 0) {\n        var oldChild = this.array[originIndex];\n        newChild = oldChild && oldChild.removeBefore(ownerID, level - SHIFT, index);\n        if (newChild === oldChild && removingFirst) {\n          return this;\n        }\n      }\n      if (removingFirst && !newChild) {\n        return this;\n      }\n      var editable = editableVNode(this, ownerID);\n      if (!removingFirst) {\n        for (var ii = 0; ii < originIndex; ii++) {\n          editable.array[ii] = undefined;\n        }\n      }\n      if (newChild) {\n        editable.array[originIndex] = newChild;\n      }\n      return editable;\n    };\n\n    VNode.prototype.removeAfter = function(ownerID, level, index) {\n      if (index === (level ? 1 << level : 0) || this.array.length === 0) {\n        return this;\n      }\n      var sizeIndex = ((index - 1) >>> level) & MASK;\n      if (sizeIndex >= this.array.length) {\n        return this;\n      }\n\n      var newChild;\n      if (level > 0) {\n        var oldChild = this.array[sizeIndex];\n        newChild = oldChild && oldChild.removeAfter(ownerID, level - SHIFT, index);\n        if (newChild === oldChild && sizeIndex === this.array.length - 1) {\n          return this;\n        }\n      }\n\n      var editable = editableVNode(this, ownerID);\n      editable.array.splice(sizeIndex + 1);\n      if (newChild) {\n        editable.array[sizeIndex] = newChild;\n      }\n      return editable;\n    };\n\n\n\n  var DONE = {};\n\n  function iterateList(list, reverse) {\n    var left = list._origin;\n    var right = list._capacity;\n    var tailPos = getTailOffset(right);\n    var tail = list._tail;\n\n    return iterateNodeOrLeaf(list._root, list._level, 0);\n\n    function iterateNodeOrLeaf(node, level, offset) {\n      return level === 0 ?\n        iterateLeaf(node, offset) :\n        iterateNode(node, level, offset);\n    }\n\n    function iterateLeaf(node, offset) {\n      var array = offset === tailPos ? tail && tail.array : node && node.array;\n      var from = offset > left ? 0 : left - offset;\n      var to = right - offset;\n      if (to > SIZE) {\n        to = SIZE;\n      }\n      return function()  {\n        if (from === to) {\n          return DONE;\n        }\n        var idx = reverse ? --to : from++;\n        return array && array[idx];\n      };\n    }\n\n    function iterateNode(node, level, offset) {\n      var values;\n      var array = node && node.array;\n      var from = offset > left ? 0 : (left - offset) >> level;\n      var to = ((right - offset) >> level) + 1;\n      if (to > SIZE) {\n        to = SIZE;\n      }\n      return function()  {\n        do {\n          if (values) {\n            var value = values();\n            if (value !== DONE) {\n              return value;\n            }\n            values = null;\n          }\n          if (from === to) {\n            return DONE;\n          }\n          var idx = reverse ? --to : from++;\n          values = iterateNodeOrLeaf(\n            array && array[idx], level - SHIFT, offset + (idx << level)\n          );\n        } while (true);\n      };\n    }\n  }\n\n  function makeList(origin, capacity, level, root, tail, ownerID, hash) {\n    var list = Object.create(ListPrototype);\n    list.size = capacity - origin;\n    list._origin = origin;\n    list._capacity = capacity;\n    list._level = level;\n    list._root = root;\n    list._tail = tail;\n    list.__ownerID = ownerID;\n    list.__hash = hash;\n    list.__altered = false;\n    return list;\n  }\n\n  var EMPTY_LIST;\n  function emptyList() {\n    return EMPTY_LIST || (EMPTY_LIST = makeList(0, 0, SHIFT));\n  }\n\n  function updateList(list, index, value) {\n    index = wrapIndex(list, index);\n\n    if (index !== index) {\n      return list;\n    }\n\n    if (index >= list.size || index < 0) {\n      return list.withMutations(function(list ) {\n        index < 0 ?\n          setListBounds(list, index).set(0, value) :\n          setListBounds(list, 0, index + 1).set(index, value)\n      });\n    }\n\n    index += list._origin;\n\n    var newTail = list._tail;\n    var newRoot = list._root;\n    var didAlter = MakeRef(DID_ALTER);\n    if (index >= getTailOffset(list._capacity)) {\n      newTail = updateVNode(newTail, list.__ownerID, 0, index, value, didAlter);\n    } else {\n      newRoot = updateVNode(newRoot, list.__ownerID, list._level, index, value, didAlter);\n    }\n\n    if (!didAlter.value) {\n      return list;\n    }\n\n    if (list.__ownerID) {\n      list._root = newRoot;\n      list._tail = newTail;\n      list.__hash = undefined;\n      list.__altered = true;\n      return list;\n    }\n    return makeList(list._origin, list._capacity, list._level, newRoot, newTail);\n  }\n\n  function updateVNode(node, ownerID, level, index, value, didAlter) {\n    var idx = (index >>> level) & MASK;\n    var nodeHas = node && idx < node.array.length;\n    if (!nodeHas && value === undefined) {\n      return node;\n    }\n\n    var newNode;\n\n    if (level > 0) {\n      var lowerNode = node && node.array[idx];\n      var newLowerNode = updateVNode(lowerNode, ownerID, level - SHIFT, index, value, didAlter);\n      if (newLowerNode === lowerNode) {\n        return node;\n      }\n      newNode = editableVNode(node, ownerID);\n      newNode.array[idx] = newLowerNode;\n      return newNode;\n    }\n\n    if (nodeHas && node.array[idx] === value) {\n      return node;\n    }\n\n    SetRef(didAlter);\n\n    newNode = editableVNode(node, ownerID);\n    if (value === undefined && idx === newNode.array.length - 1) {\n      newNode.array.pop();\n    } else {\n      newNode.array[idx] = value;\n    }\n    return newNode;\n  }\n\n  function editableVNode(node, ownerID) {\n    if (ownerID && node && ownerID === node.ownerID) {\n      return node;\n    }\n    return new VNode(node ? node.array.slice() : [], ownerID);\n  }\n\n  function listNodeFor(list, rawIndex) {\n    if (rawIndex >= getTailOffset(list._capacity)) {\n      return list._tail;\n    }\n    if (rawIndex < 1 << (list._level + SHIFT)) {\n      var node = list._root;\n      var level = list._level;\n      while (node && level > 0) {\n        node = node.array[(rawIndex >>> level) & MASK];\n        level -= SHIFT;\n      }\n      return node;\n    }\n  }\n\n  function setListBounds(list, begin, end) {\n    // Sanitize begin & end using this shorthand for ToInt32(argument)\n    // http://www.ecma-international.org/ecma-262/6.0/#sec-toint32\n    if (begin !== undefined) {\n      begin = begin | 0;\n    }\n    if (end !== undefined) {\n      end = end | 0;\n    }\n    var owner = list.__ownerID || new OwnerID();\n    var oldOrigin = list._origin;\n    var oldCapacity = list._capacity;\n    var newOrigin = oldOrigin + begin;\n    var newCapacity = end === undefined ? oldCapacity : end < 0 ? oldCapacity + end : oldOrigin + end;\n    if (newOrigin === oldOrigin && newCapacity === oldCapacity) {\n      return list;\n    }\n\n    // If it's going to end after it starts, it's empty.\n    if (newOrigin >= newCapacity) {\n      return list.clear();\n    }\n\n    var newLevel = list._level;\n    var newRoot = list._root;\n\n    // New origin might need creating a higher root.\n    var offsetShift = 0;\n    while (newOrigin + offsetShift < 0) {\n      newRoot = new VNode(newRoot && newRoot.array.length ? [undefined, newRoot] : [], owner);\n      newLevel += SHIFT;\n      offsetShift += 1 << newLevel;\n    }\n    if (offsetShift) {\n      newOrigin += offsetShift;\n      oldOrigin += offsetShift;\n      newCapacity += offsetShift;\n      oldCapacity += offsetShift;\n    }\n\n    var oldTailOffset = getTailOffset(oldCapacity);\n    var newTailOffset = getTailOffset(newCapacity);\n\n    // New size might need creating a higher root.\n    while (newTailOffset >= 1 << (newLevel + SHIFT)) {\n      newRoot = new VNode(newRoot && newRoot.array.length ? [newRoot] : [], owner);\n      newLevel += SHIFT;\n    }\n\n    // Locate or create the new tail.\n    var oldTail = list._tail;\n    var newTail = newTailOffset < oldTailOffset ?\n      listNodeFor(list, newCapacity - 1) :\n      newTailOffset > oldTailOffset ? new VNode([], owner) : oldTail;\n\n    // Merge Tail into tree.\n    if (oldTail && newTailOffset > oldTailOffset && newOrigin < oldCapacity && oldTail.array.length) {\n      newRoot = editableVNode(newRoot, owner);\n      var node = newRoot;\n      for (var level = newLevel; level > SHIFT; level -= SHIFT) {\n        var idx = (oldTailOffset >>> level) & MASK;\n        node = node.array[idx] = editableVNode(node.array[idx], owner);\n      }\n      node.array[(oldTailOffset >>> SHIFT) & MASK] = oldTail;\n    }\n\n    // If the size has been reduced, there's a chance the tail needs to be trimmed.\n    if (newCapacity < oldCapacity) {\n      newTail = newTail && newTail.removeAfter(owner, 0, newCapacity);\n    }\n\n    // If the new origin is within the tail, then we do not need a root.\n    if (newOrigin >= newTailOffset) {\n      newOrigin -= newTailOffset;\n      newCapacity -= newTailOffset;\n      newLevel = SHIFT;\n      newRoot = null;\n      newTail = newTail && newTail.removeBefore(owner, 0, newOrigin);\n\n    // Otherwise, if the root has been trimmed, garbage collect.\n    } else if (newOrigin > oldOrigin || newTailOffset < oldTailOffset) {\n      offsetShift = 0;\n\n      // Identify the new top root node of the subtree of the old root.\n      while (newRoot) {\n        var beginIndex = (newOrigin >>> newLevel) & MASK;\n        if (beginIndex !== (newTailOffset >>> newLevel) & MASK) {\n          break;\n        }\n        if (beginIndex) {\n          offsetShift += (1 << newLevel) * beginIndex;\n        }\n        newLevel -= SHIFT;\n        newRoot = newRoot.array[beginIndex];\n      }\n\n      // Trim the new sides of the new root.\n      if (newRoot && newOrigin > oldOrigin) {\n        newRoot = newRoot.removeBefore(owner, newLevel, newOrigin - offsetShift);\n      }\n      if (newRoot && newTailOffset < oldTailOffset) {\n        newRoot = newRoot.removeAfter(owner, newLevel, newTailOffset - offsetShift);\n      }\n      if (offsetShift) {\n        newOrigin -= offsetShift;\n        newCapacity -= offsetShift;\n      }\n    }\n\n    if (list.__ownerID) {\n      list.size = newCapacity - newOrigin;\n      list._origin = newOrigin;\n      list._capacity = newCapacity;\n      list._level = newLevel;\n      list._root = newRoot;\n      list._tail = newTail;\n      list.__hash = undefined;\n      list.__altered = true;\n      return list;\n    }\n    return makeList(newOrigin, newCapacity, newLevel, newRoot, newTail);\n  }\n\n  function mergeIntoListWith(list, merger, iterables) {\n    var iters = [];\n    var maxSize = 0;\n    for (var ii = 0; ii < iterables.length; ii++) {\n      var value = iterables[ii];\n      var iter = IndexedIterable(value);\n      if (iter.size > maxSize) {\n        maxSize = iter.size;\n      }\n      if (!isIterable(value)) {\n        iter = iter.map(function(v ) {return fromJS(v)});\n      }\n      iters.push(iter);\n    }\n    if (maxSize > list.size) {\n      list = list.setSize(maxSize);\n    }\n    return mergeIntoCollectionWith(list, merger, iters);\n  }\n\n  function getTailOffset(size) {\n    return size < SIZE ? 0 : (((size - 1) >>> SHIFT) << SHIFT);\n  }\n\n  createClass(OrderedMap, Map);\n\n    // @pragma Construction\n\n    function OrderedMap(value) {\n      return value === null || value === undefined ? emptyOrderedMap() :\n        isOrderedMap(value) ? value :\n        emptyOrderedMap().withMutations(function(map ) {\n          var iter = KeyedIterable(value);\n          assertNotInfinite(iter.size);\n          iter.forEach(function(v, k)  {return map.set(k, v)});\n        });\n    }\n\n    OrderedMap.of = function(/*...values*/) {\n      return this(arguments);\n    };\n\n    OrderedMap.prototype.toString = function() {\n      return this.__toString('OrderedMap {', '}');\n    };\n\n    // @pragma Access\n\n    OrderedMap.prototype.get = function(k, notSetValue) {\n      var index = this._map.get(k);\n      return index !== undefined ? this._list.get(index)[1] : notSetValue;\n    };\n\n    // @pragma Modification\n\n    OrderedMap.prototype.clear = function() {\n      if (this.size === 0) {\n        return this;\n      }\n      if (this.__ownerID) {\n        this.size = 0;\n        this._map.clear();\n        this._list.clear();\n        return this;\n      }\n      return emptyOrderedMap();\n    };\n\n    OrderedMap.prototype.set = function(k, v) {\n      return updateOrderedMap(this, k, v);\n    };\n\n    OrderedMap.prototype.remove = function(k) {\n      return updateOrderedMap(this, k, NOT_SET);\n    };\n\n    OrderedMap.prototype.wasAltered = function() {\n      return this._map.wasAltered() || this._list.wasAltered();\n    };\n\n    OrderedMap.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      return this._list.__iterate(\n        function(entry ) {return entry && fn(entry[1], entry[0], this$0)},\n        reverse\n      );\n    };\n\n    OrderedMap.prototype.__iterator = function(type, reverse) {\n      return this._list.fromEntrySeq().__iterator(type, reverse);\n    };\n\n    OrderedMap.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      var newMap = this._map.__ensureOwner(ownerID);\n      var newList = this._list.__ensureOwner(ownerID);\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        this._map = newMap;\n        this._list = newList;\n        return this;\n      }\n      return makeOrderedMap(newMap, newList, ownerID, this.__hash);\n    };\n\n\n  function isOrderedMap(maybeOrderedMap) {\n    return isMap(maybeOrderedMap) && isOrdered(maybeOrderedMap);\n  }\n\n  OrderedMap.isOrderedMap = isOrderedMap;\n\n  OrderedMap.prototype[IS_ORDERED_SENTINEL] = true;\n  OrderedMap.prototype[DELETE] = OrderedMap.prototype.remove;\n\n\n\n  function makeOrderedMap(map, list, ownerID, hash) {\n    var omap = Object.create(OrderedMap.prototype);\n    omap.size = map ? map.size : 0;\n    omap._map = map;\n    omap._list = list;\n    omap.__ownerID = ownerID;\n    omap.__hash = hash;\n    return omap;\n  }\n\n  var EMPTY_ORDERED_MAP;\n  function emptyOrderedMap() {\n    return EMPTY_ORDERED_MAP || (EMPTY_ORDERED_MAP = makeOrderedMap(emptyMap(), emptyList()));\n  }\n\n  function updateOrderedMap(omap, k, v) {\n    var map = omap._map;\n    var list = omap._list;\n    var i = map.get(k);\n    var has = i !== undefined;\n    var newMap;\n    var newList;\n    if (v === NOT_SET) { // removed\n      if (!has) {\n        return omap;\n      }\n      if (list.size >= SIZE && list.size >= map.size * 2) {\n        newList = list.filter(function(entry, idx)  {return entry !== undefined && i !== idx});\n        newMap = newList.toKeyedSeq().map(function(entry ) {return entry[0]}).flip().toMap();\n        if (omap.__ownerID) {\n          newMap.__ownerID = newList.__ownerID = omap.__ownerID;\n        }\n      } else {\n        newMap = map.remove(k);\n        newList = i === list.size - 1 ? list.pop() : list.set(i, undefined);\n      }\n    } else {\n      if (has) {\n        if (v === list.get(i)[1]) {\n          return omap;\n        }\n        newMap = map;\n        newList = list.set(i, [k, v]);\n      } else {\n        newMap = map.set(k, list.size);\n        newList = list.set(list.size, [k, v]);\n      }\n    }\n    if (omap.__ownerID) {\n      omap.size = newMap.size;\n      omap._map = newMap;\n      omap._list = newList;\n      omap.__hash = undefined;\n      return omap;\n    }\n    return makeOrderedMap(newMap, newList);\n  }\n\n  createClass(ToKeyedSequence, KeyedSeq);\n    function ToKeyedSequence(indexed, useKeys) {\n      this._iter = indexed;\n      this._useKeys = useKeys;\n      this.size = indexed.size;\n    }\n\n    ToKeyedSequence.prototype.get = function(key, notSetValue) {\n      return this._iter.get(key, notSetValue);\n    };\n\n    ToKeyedSequence.prototype.has = function(key) {\n      return this._iter.has(key);\n    };\n\n    ToKeyedSequence.prototype.valueSeq = function() {\n      return this._iter.valueSeq();\n    };\n\n    ToKeyedSequence.prototype.reverse = function() {var this$0 = this;\n      var reversedSequence = reverseFactory(this, true);\n      if (!this._useKeys) {\n        reversedSequence.valueSeq = function()  {return this$0._iter.toSeq().reverse()};\n      }\n      return reversedSequence;\n    };\n\n    ToKeyedSequence.prototype.map = function(mapper, context) {var this$0 = this;\n      var mappedSequence = mapFactory(this, mapper, context);\n      if (!this._useKeys) {\n        mappedSequence.valueSeq = function()  {return this$0._iter.toSeq().map(mapper, context)};\n      }\n      return mappedSequence;\n    };\n\n    ToKeyedSequence.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      var ii;\n      return this._iter.__iterate(\n        this._useKeys ?\n          function(v, k)  {return fn(v, k, this$0)} :\n          ((ii = reverse ? resolveSize(this) : 0),\n            function(v ) {return fn(v, reverse ? --ii : ii++, this$0)}),\n        reverse\n      );\n    };\n\n    ToKeyedSequence.prototype.__iterator = function(type, reverse) {\n      if (this._useKeys) {\n        return this._iter.__iterator(type, reverse);\n      }\n      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n      var ii = reverse ? resolveSize(this) : 0;\n      return new Iterator(function()  {\n        var step = iterator.next();\n        return step.done ? step :\n          iteratorValue(type, reverse ? --ii : ii++, step.value, step);\n      });\n    };\n\n  ToKeyedSequence.prototype[IS_ORDERED_SENTINEL] = true;\n\n\n  createClass(ToIndexedSequence, IndexedSeq);\n    function ToIndexedSequence(iter) {\n      this._iter = iter;\n      this.size = iter.size;\n    }\n\n    ToIndexedSequence.prototype.includes = function(value) {\n      return this._iter.includes(value);\n    };\n\n    ToIndexedSequence.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      var iterations = 0;\n      return this._iter.__iterate(function(v ) {return fn(v, iterations++, this$0)}, reverse);\n    };\n\n    ToIndexedSequence.prototype.__iterator = function(type, reverse) {\n      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n      var iterations = 0;\n      return new Iterator(function()  {\n        var step = iterator.next();\n        return step.done ? step :\n          iteratorValue(type, iterations++, step.value, step)\n      });\n    };\n\n\n\n  createClass(ToSetSequence, SetSeq);\n    function ToSetSequence(iter) {\n      this._iter = iter;\n      this.size = iter.size;\n    }\n\n    ToSetSequence.prototype.has = function(key) {\n      return this._iter.includes(key);\n    };\n\n    ToSetSequence.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      return this._iter.__iterate(function(v ) {return fn(v, v, this$0)}, reverse);\n    };\n\n    ToSetSequence.prototype.__iterator = function(type, reverse) {\n      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n      return new Iterator(function()  {\n        var step = iterator.next();\n        return step.done ? step :\n          iteratorValue(type, step.value, step.value, step);\n      });\n    };\n\n\n\n  createClass(FromEntriesSequence, KeyedSeq);\n    function FromEntriesSequence(entries) {\n      this._iter = entries;\n      this.size = entries.size;\n    }\n\n    FromEntriesSequence.prototype.entrySeq = function() {\n      return this._iter.toSeq();\n    };\n\n    FromEntriesSequence.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      return this._iter.__iterate(function(entry ) {\n        // Check if entry exists first so array access doesn't throw for holes\n        // in the parent iteration.\n        if (entry) {\n          validateEntry(entry);\n          var indexedIterable = isIterable(entry);\n          return fn(\n            indexedIterable ? entry.get(1) : entry[1],\n            indexedIterable ? entry.get(0) : entry[0],\n            this$0\n          );\n        }\n      }, reverse);\n    };\n\n    FromEntriesSequence.prototype.__iterator = function(type, reverse) {\n      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n      return new Iterator(function()  {\n        while (true) {\n          var step = iterator.next();\n          if (step.done) {\n            return step;\n          }\n          var entry = step.value;\n          // Check if entry exists first so array access doesn't throw for holes\n          // in the parent iteration.\n          if (entry) {\n            validateEntry(entry);\n            var indexedIterable = isIterable(entry);\n            return iteratorValue(\n              type,\n              indexedIterable ? entry.get(0) : entry[0],\n              indexedIterable ? entry.get(1) : entry[1],\n              step\n            );\n          }\n        }\n      });\n    };\n\n\n  ToIndexedSequence.prototype.cacheResult =\n  ToKeyedSequence.prototype.cacheResult =\n  ToSetSequence.prototype.cacheResult =\n  FromEntriesSequence.prototype.cacheResult =\n    cacheResultThrough;\n\n\n  function flipFactory(iterable) {\n    var flipSequence = makeSequence(iterable);\n    flipSequence._iter = iterable;\n    flipSequence.size = iterable.size;\n    flipSequence.flip = function()  {return iterable};\n    flipSequence.reverse = function () {\n      var reversedSequence = iterable.reverse.apply(this); // super.reverse()\n      reversedSequence.flip = function()  {return iterable.reverse()};\n      return reversedSequence;\n    };\n    flipSequence.has = function(key ) {return iterable.includes(key)};\n    flipSequence.includes = function(key ) {return iterable.has(key)};\n    flipSequence.cacheResult = cacheResultThrough;\n    flipSequence.__iterateUncached = function (fn, reverse) {var this$0 = this;\n      return iterable.__iterate(function(v, k)  {return fn(k, v, this$0) !== false}, reverse);\n    }\n    flipSequence.__iteratorUncached = function(type, reverse) {\n      if (type === ITERATE_ENTRIES) {\n        var iterator = iterable.__iterator(type, reverse);\n        return new Iterator(function()  {\n          var step = iterator.next();\n          if (!step.done) {\n            var k = step.value[0];\n            step.value[0] = step.value[1];\n            step.value[1] = k;\n          }\n          return step;\n        });\n      }\n      return iterable.__iterator(\n        type === ITERATE_VALUES ? ITERATE_KEYS : ITERATE_VALUES,\n        reverse\n      );\n    }\n    return flipSequence;\n  }\n\n\n  function mapFactory(iterable, mapper, context) {\n    var mappedSequence = makeSequence(iterable);\n    mappedSequence.size = iterable.size;\n    mappedSequence.has = function(key ) {return iterable.has(key)};\n    mappedSequence.get = function(key, notSetValue)  {\n      var v = iterable.get(key, NOT_SET);\n      return v === NOT_SET ?\n        notSetValue :\n        mapper.call(context, v, key, iterable);\n    };\n    mappedSequence.__iterateUncached = function (fn, reverse) {var this$0 = this;\n      return iterable.__iterate(\n        function(v, k, c)  {return fn(mapper.call(context, v, k, c), k, this$0) !== false},\n        reverse\n      );\n    }\n    mappedSequence.__iteratorUncached = function (type, reverse) {\n      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n      return new Iterator(function()  {\n        var step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n        var entry = step.value;\n        var key = entry[0];\n        return iteratorValue(\n          type,\n          key,\n          mapper.call(context, entry[1], key, iterable),\n          step\n        );\n      });\n    }\n    return mappedSequence;\n  }\n\n\n  function reverseFactory(iterable, useKeys) {\n    var reversedSequence = makeSequence(iterable);\n    reversedSequence._iter = iterable;\n    reversedSequence.size = iterable.size;\n    reversedSequence.reverse = function()  {return iterable};\n    if (iterable.flip) {\n      reversedSequence.flip = function () {\n        var flipSequence = flipFactory(iterable);\n        flipSequence.reverse = function()  {return iterable.flip()};\n        return flipSequence;\n      };\n    }\n    reversedSequence.get = function(key, notSetValue) \n      {return iterable.get(useKeys ? key : -1 - key, notSetValue)};\n    reversedSequence.has = function(key )\n      {return iterable.has(useKeys ? key : -1 - key)};\n    reversedSequence.includes = function(value ) {return iterable.includes(value)};\n    reversedSequence.cacheResult = cacheResultThrough;\n    reversedSequence.__iterate = function (fn, reverse) {var this$0 = this;\n      return iterable.__iterate(function(v, k)  {return fn(v, k, this$0)}, !reverse);\n    };\n    reversedSequence.__iterator =\n      function(type, reverse)  {return iterable.__iterator(type, !reverse)};\n    return reversedSequence;\n  }\n\n\n  function filterFactory(iterable, predicate, context, useKeys) {\n    var filterSequence = makeSequence(iterable);\n    if (useKeys) {\n      filterSequence.has = function(key ) {\n        var v = iterable.get(key, NOT_SET);\n        return v !== NOT_SET && !!predicate.call(context, v, key, iterable);\n      };\n      filterSequence.get = function(key, notSetValue)  {\n        var v = iterable.get(key, NOT_SET);\n        return v !== NOT_SET && predicate.call(context, v, key, iterable) ?\n          v : notSetValue;\n      };\n    }\n    filterSequence.__iterateUncached = function (fn, reverse) {var this$0 = this;\n      var iterations = 0;\n      iterable.__iterate(function(v, k, c)  {\n        if (predicate.call(context, v, k, c)) {\n          iterations++;\n          return fn(v, useKeys ? k : iterations - 1, this$0);\n        }\n      }, reverse);\n      return iterations;\n    };\n    filterSequence.__iteratorUncached = function (type, reverse) {\n      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n      var iterations = 0;\n      return new Iterator(function()  {\n        while (true) {\n          var step = iterator.next();\n          if (step.done) {\n            return step;\n          }\n          var entry = step.value;\n          var key = entry[0];\n          var value = entry[1];\n          if (predicate.call(context, value, key, iterable)) {\n            return iteratorValue(type, useKeys ? key : iterations++, value, step);\n          }\n        }\n      });\n    }\n    return filterSequence;\n  }\n\n\n  function countByFactory(iterable, grouper, context) {\n    var groups = Map().asMutable();\n    iterable.__iterate(function(v, k)  {\n      groups.update(\n        grouper.call(context, v, k, iterable),\n        0,\n        function(a ) {return a + 1}\n      );\n    });\n    return groups.asImmutable();\n  }\n\n\n  function groupByFactory(iterable, grouper, context) {\n    var isKeyedIter = isKeyed(iterable);\n    var groups = (isOrdered(iterable) ? OrderedMap() : Map()).asMutable();\n    iterable.__iterate(function(v, k)  {\n      groups.update(\n        grouper.call(context, v, k, iterable),\n        function(a ) {return (a = a || [], a.push(isKeyedIter ? [k, v] : v), a)}\n      );\n    });\n    var coerce = iterableClass(iterable);\n    return groups.map(function(arr ) {return reify(iterable, coerce(arr))});\n  }\n\n\n  function sliceFactory(iterable, begin, end, useKeys) {\n    var originalSize = iterable.size;\n\n    // Sanitize begin & end using this shorthand for ToInt32(argument)\n    // http://www.ecma-international.org/ecma-262/6.0/#sec-toint32\n    if (begin !== undefined) {\n      begin = begin | 0;\n    }\n    if (end !== undefined) {\n      if (end === Infinity) {\n        end = originalSize;\n      } else {\n        end = end | 0;\n      }\n    }\n\n    if (wholeSlice(begin, end, originalSize)) {\n      return iterable;\n    }\n\n    var resolvedBegin = resolveBegin(begin, originalSize);\n    var resolvedEnd = resolveEnd(end, originalSize);\n\n    // begin or end will be NaN if they were provided as negative numbers and\n    // this iterable's size is unknown. In that case, cache first so there is\n    // a known size and these do not resolve to NaN.\n    if (resolvedBegin !== resolvedBegin || resolvedEnd !== resolvedEnd) {\n      return sliceFactory(iterable.toSeq().cacheResult(), begin, end, useKeys);\n    }\n\n    // Note: resolvedEnd is undefined when the original sequence's length is\n    // unknown and this slice did not supply an end and should contain all\n    // elements after resolvedBegin.\n    // In that case, resolvedSize will be NaN and sliceSize will remain undefined.\n    var resolvedSize = resolvedEnd - resolvedBegin;\n    var sliceSize;\n    if (resolvedSize === resolvedSize) {\n      sliceSize = resolvedSize < 0 ? 0 : resolvedSize;\n    }\n\n    var sliceSeq = makeSequence(iterable);\n\n    // If iterable.size is undefined, the size of the realized sliceSeq is\n    // unknown at this point unless the number of items to slice is 0\n    sliceSeq.size = sliceSize === 0 ? sliceSize : iterable.size && sliceSize || undefined;\n\n    if (!useKeys && isSeq(iterable) && sliceSize >= 0) {\n      sliceSeq.get = function (index, notSetValue) {\n        index = wrapIndex(this, index);\n        return index >= 0 && index < sliceSize ?\n          iterable.get(index + resolvedBegin, notSetValue) :\n          notSetValue;\n      }\n    }\n\n    sliceSeq.__iterateUncached = function(fn, reverse) {var this$0 = this;\n      if (sliceSize === 0) {\n        return 0;\n      }\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var skipped = 0;\n      var isSkipping = true;\n      var iterations = 0;\n      iterable.__iterate(function(v, k)  {\n        if (!(isSkipping && (isSkipping = skipped++ < resolvedBegin))) {\n          iterations++;\n          return fn(v, useKeys ? k : iterations - 1, this$0) !== false &&\n                 iterations !== sliceSize;\n        }\n      });\n      return iterations;\n    };\n\n    sliceSeq.__iteratorUncached = function(type, reverse) {\n      if (sliceSize !== 0 && reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      // Don't bother instantiating parent iterator if taking 0.\n      var iterator = sliceSize !== 0 && iterable.__iterator(type, reverse);\n      var skipped = 0;\n      var iterations = 0;\n      return new Iterator(function()  {\n        while (skipped++ < resolvedBegin) {\n          iterator.next();\n        }\n        if (++iterations > sliceSize) {\n          return iteratorDone();\n        }\n        var step = iterator.next();\n        if (useKeys || type === ITERATE_VALUES) {\n          return step;\n        } else if (type === ITERATE_KEYS) {\n          return iteratorValue(type, iterations - 1, undefined, step);\n        } else {\n          return iteratorValue(type, iterations - 1, step.value[1], step);\n        }\n      });\n    }\n\n    return sliceSeq;\n  }\n\n\n  function takeWhileFactory(iterable, predicate, context) {\n    var takeSequence = makeSequence(iterable);\n    takeSequence.__iterateUncached = function(fn, reverse) {var this$0 = this;\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var iterations = 0;\n      iterable.__iterate(function(v, k, c) \n        {return predicate.call(context, v, k, c) && ++iterations && fn(v, k, this$0)}\n      );\n      return iterations;\n    };\n    takeSequence.__iteratorUncached = function(type, reverse) {var this$0 = this;\n      if (reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n      var iterating = true;\n      return new Iterator(function()  {\n        if (!iterating) {\n          return iteratorDone();\n        }\n        var step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n        var entry = step.value;\n        var k = entry[0];\n        var v = entry[1];\n        if (!predicate.call(context, v, k, this$0)) {\n          iterating = false;\n          return iteratorDone();\n        }\n        return type === ITERATE_ENTRIES ? step :\n          iteratorValue(type, k, v, step);\n      });\n    };\n    return takeSequence;\n  }\n\n\n  function skipWhileFactory(iterable, predicate, context, useKeys) {\n    var skipSequence = makeSequence(iterable);\n    skipSequence.__iterateUncached = function (fn, reverse) {var this$0 = this;\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var isSkipping = true;\n      var iterations = 0;\n      iterable.__iterate(function(v, k, c)  {\n        if (!(isSkipping && (isSkipping = predicate.call(context, v, k, c)))) {\n          iterations++;\n          return fn(v, useKeys ? k : iterations - 1, this$0);\n        }\n      });\n      return iterations;\n    };\n    skipSequence.__iteratorUncached = function(type, reverse) {var this$0 = this;\n      if (reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n      var skipping = true;\n      var iterations = 0;\n      return new Iterator(function()  {\n        var step, k, v;\n        do {\n          step = iterator.next();\n          if (step.done) {\n            if (useKeys || type === ITERATE_VALUES) {\n              return step;\n            } else if (type === ITERATE_KEYS) {\n              return iteratorValue(type, iterations++, undefined, step);\n            } else {\n              return iteratorValue(type, iterations++, step.value[1], step);\n            }\n          }\n          var entry = step.value;\n          k = entry[0];\n          v = entry[1];\n          skipping && (skipping = predicate.call(context, v, k, this$0));\n        } while (skipping);\n        return type === ITERATE_ENTRIES ? step :\n          iteratorValue(type, k, v, step);\n      });\n    };\n    return skipSequence;\n  }\n\n\n  function concatFactory(iterable, values) {\n    var isKeyedIterable = isKeyed(iterable);\n    var iters = [iterable].concat(values).map(function(v ) {\n      if (!isIterable(v)) {\n        v = isKeyedIterable ?\n          keyedSeqFromValue(v) :\n          indexedSeqFromValue(Array.isArray(v) ? v : [v]);\n      } else if (isKeyedIterable) {\n        v = KeyedIterable(v);\n      }\n      return v;\n    }).filter(function(v ) {return v.size !== 0});\n\n    if (iters.length === 0) {\n      return iterable;\n    }\n\n    if (iters.length === 1) {\n      var singleton = iters[0];\n      if (singleton === iterable ||\n          isKeyedIterable && isKeyed(singleton) ||\n          isIndexed(iterable) && isIndexed(singleton)) {\n        return singleton;\n      }\n    }\n\n    var concatSeq = new ArraySeq(iters);\n    if (isKeyedIterable) {\n      concatSeq = concatSeq.toKeyedSeq();\n    } else if (!isIndexed(iterable)) {\n      concatSeq = concatSeq.toSetSeq();\n    }\n    concatSeq = concatSeq.flatten(true);\n    concatSeq.size = iters.reduce(\n      function(sum, seq)  {\n        if (sum !== undefined) {\n          var size = seq.size;\n          if (size !== undefined) {\n            return sum + size;\n          }\n        }\n      },\n      0\n    );\n    return concatSeq;\n  }\n\n\n  function flattenFactory(iterable, depth, useKeys) {\n    var flatSequence = makeSequence(iterable);\n    flatSequence.__iterateUncached = function(fn, reverse) {\n      var iterations = 0;\n      var stopped = false;\n      function flatDeep(iter, currentDepth) {var this$0 = this;\n        iter.__iterate(function(v, k)  {\n          if ((!depth || currentDepth < depth) && isIterable(v)) {\n            flatDeep(v, currentDepth + 1);\n          } else if (fn(v, useKeys ? k : iterations++, this$0) === false) {\n            stopped = true;\n          }\n          return !stopped;\n        }, reverse);\n      }\n      flatDeep(iterable, 0);\n      return iterations;\n    }\n    flatSequence.__iteratorUncached = function(type, reverse) {\n      var iterator = iterable.__iterator(type, reverse);\n      var stack = [];\n      var iterations = 0;\n      return new Iterator(function()  {\n        while (iterator) {\n          var step = iterator.next();\n          if (step.done !== false) {\n            iterator = stack.pop();\n            continue;\n          }\n          var v = step.value;\n          if (type === ITERATE_ENTRIES) {\n            v = v[1];\n          }\n          if ((!depth || stack.length < depth) && isIterable(v)) {\n            stack.push(iterator);\n            iterator = v.__iterator(type, reverse);\n          } else {\n            return useKeys ? step : iteratorValue(type, iterations++, v, step);\n          }\n        }\n        return iteratorDone();\n      });\n    }\n    return flatSequence;\n  }\n\n\n  function flatMapFactory(iterable, mapper, context) {\n    var coerce = iterableClass(iterable);\n    return iterable.toSeq().map(\n      function(v, k)  {return coerce(mapper.call(context, v, k, iterable))}\n    ).flatten(true);\n  }\n\n\n  function interposeFactory(iterable, separator) {\n    var interposedSequence = makeSequence(iterable);\n    interposedSequence.size = iterable.size && iterable.size * 2 -1;\n    interposedSequence.__iterateUncached = function(fn, reverse) {var this$0 = this;\n      var iterations = 0;\n      iterable.__iterate(function(v, k) \n        {return (!iterations || fn(separator, iterations++, this$0) !== false) &&\n        fn(v, iterations++, this$0) !== false},\n        reverse\n      );\n      return iterations;\n    };\n    interposedSequence.__iteratorUncached = function(type, reverse) {\n      var iterator = iterable.__iterator(ITERATE_VALUES, reverse);\n      var iterations = 0;\n      var step;\n      return new Iterator(function()  {\n        if (!step || iterations % 2) {\n          step = iterator.next();\n          if (step.done) {\n            return step;\n          }\n        }\n        return iterations % 2 ?\n          iteratorValue(type, iterations++, separator) :\n          iteratorValue(type, iterations++, step.value, step);\n      });\n    };\n    return interposedSequence;\n  }\n\n\n  function sortFactory(iterable, comparator, mapper) {\n    if (!comparator) {\n      comparator = defaultComparator;\n    }\n    var isKeyedIterable = isKeyed(iterable);\n    var index = 0;\n    var entries = iterable.toSeq().map(\n      function(v, k)  {return [k, v, index++, mapper ? mapper(v, k, iterable) : v]}\n    ).toArray();\n    entries.sort(function(a, b)  {return comparator(a[3], b[3]) || a[2] - b[2]}).forEach(\n      isKeyedIterable ?\n      function(v, i)  { entries[i].length = 2; } :\n      function(v, i)  { entries[i] = v[1]; }\n    );\n    return isKeyedIterable ? KeyedSeq(entries) :\n      isIndexed(iterable) ? IndexedSeq(entries) :\n      SetSeq(entries);\n  }\n\n\n  function maxFactory(iterable, comparator, mapper) {\n    if (!comparator) {\n      comparator = defaultComparator;\n    }\n    if (mapper) {\n      var entry = iterable.toSeq()\n        .map(function(v, k)  {return [v, mapper(v, k, iterable)]})\n        .reduce(function(a, b)  {return maxCompare(comparator, a[1], b[1]) ? b : a});\n      return entry && entry[0];\n    } else {\n      return iterable.reduce(function(a, b)  {return maxCompare(comparator, a, b) ? b : a});\n    }\n  }\n\n  function maxCompare(comparator, a, b) {\n    var comp = comparator(b, a);\n    // b is considered the new max if the comparator declares them equal, but\n    // they are not equal and b is in fact a nullish value.\n    return (comp === 0 && b !== a && (b === undefined || b === null || b !== b)) || comp > 0;\n  }\n\n\n  function zipWithFactory(keyIter, zipper, iters) {\n    var zipSequence = makeSequence(keyIter);\n    zipSequence.size = new ArraySeq(iters).map(function(i ) {return i.size}).min();\n    // Note: this a generic base implementation of __iterate in terms of\n    // __iterator which may be more generically useful in the future.\n    zipSequence.__iterate = function(fn, reverse) {\n      /* generic:\n      var iterator = this.__iterator(ITERATE_ENTRIES, reverse);\n      var step;\n      var iterations = 0;\n      while (!(step = iterator.next()).done) {\n        iterations++;\n        if (fn(step.value[1], step.value[0], this) === false) {\n          break;\n        }\n      }\n      return iterations;\n      */\n      // indexed:\n      var iterator = this.__iterator(ITERATE_VALUES, reverse);\n      var step;\n      var iterations = 0;\n      while (!(step = iterator.next()).done) {\n        if (fn(step.value, iterations++, this) === false) {\n          break;\n        }\n      }\n      return iterations;\n    };\n    zipSequence.__iteratorUncached = function(type, reverse) {\n      var iterators = iters.map(function(i )\n        {return (i = Iterable(i), getIterator(reverse ? i.reverse() : i))}\n      );\n      var iterations = 0;\n      var isDone = false;\n      return new Iterator(function()  {\n        var steps;\n        if (!isDone) {\n          steps = iterators.map(function(i ) {return i.next()});\n          isDone = steps.some(function(s ) {return s.done});\n        }\n        if (isDone) {\n          return iteratorDone();\n        }\n        return iteratorValue(\n          type,\n          iterations++,\n          zipper.apply(null, steps.map(function(s ) {return s.value}))\n        );\n      });\n    };\n    return zipSequence\n  }\n\n\n  // #pragma Helper Functions\n\n  function reify(iter, seq) {\n    return isSeq(iter) ? seq : iter.constructor(seq);\n  }\n\n  function validateEntry(entry) {\n    if (entry !== Object(entry)) {\n      throw new TypeError('Expected [K, V] tuple: ' + entry);\n    }\n  }\n\n  function resolveSize(iter) {\n    assertNotInfinite(iter.size);\n    return ensureSize(iter);\n  }\n\n  function iterableClass(iterable) {\n    return isKeyed(iterable) ? KeyedIterable :\n      isIndexed(iterable) ? IndexedIterable :\n      SetIterable;\n  }\n\n  function makeSequence(iterable) {\n    return Object.create(\n      (\n        isKeyed(iterable) ? KeyedSeq :\n        isIndexed(iterable) ? IndexedSeq :\n        SetSeq\n      ).prototype\n    );\n  }\n\n  function cacheResultThrough() {\n    if (this._iter.cacheResult) {\n      this._iter.cacheResult();\n      this.size = this._iter.size;\n      return this;\n    } else {\n      return Seq.prototype.cacheResult.call(this);\n    }\n  }\n\n  function defaultComparator(a, b) {\n    return a > b ? 1 : a < b ? -1 : 0;\n  }\n\n  function forceIterator(keyPath) {\n    var iter = getIterator(keyPath);\n    if (!iter) {\n      // Array might not be iterable in this environment, so we need a fallback\n      // to our wrapped type.\n      if (!isArrayLike(keyPath)) {\n        throw new TypeError('Expected iterable or array-like: ' + keyPath);\n      }\n      iter = getIterator(Iterable(keyPath));\n    }\n    return iter;\n  }\n\n  createClass(Record, KeyedCollection);\n\n    function Record(defaultValues, name) {\n      var hasInitialized;\n\n      var RecordType = function Record(values) {\n        if (values instanceof RecordType) {\n          return values;\n        }\n        if (!(this instanceof RecordType)) {\n          return new RecordType(values);\n        }\n        if (!hasInitialized) {\n          hasInitialized = true;\n          var keys = Object.keys(defaultValues);\n          setProps(RecordTypePrototype, keys);\n          RecordTypePrototype.size = keys.length;\n          RecordTypePrototype._name = name;\n          RecordTypePrototype._keys = keys;\n          RecordTypePrototype._defaultValues = defaultValues;\n        }\n        this._map = Map(values);\n      };\n\n      var RecordTypePrototype = RecordType.prototype = Object.create(RecordPrototype);\n      RecordTypePrototype.constructor = RecordType;\n\n      return RecordType;\n    }\n\n    Record.prototype.toString = function() {\n      return this.__toString(recordName(this) + ' {', '}');\n    };\n\n    // @pragma Access\n\n    Record.prototype.has = function(k) {\n      return this._defaultValues.hasOwnProperty(k);\n    };\n\n    Record.prototype.get = function(k, notSetValue) {\n      if (!this.has(k)) {\n        return notSetValue;\n      }\n      var defaultVal = this._defaultValues[k];\n      return this._map ? this._map.get(k, defaultVal) : defaultVal;\n    };\n\n    // @pragma Modification\n\n    Record.prototype.clear = function() {\n      if (this.__ownerID) {\n        this._map && this._map.clear();\n        return this;\n      }\n      var RecordType = this.constructor;\n      return RecordType._empty || (RecordType._empty = makeRecord(this, emptyMap()));\n    };\n\n    Record.prototype.set = function(k, v) {\n      if (!this.has(k)) {\n        throw new Error('Cannot set unknown key \"' + k + '\" on ' + recordName(this));\n      }\n      if (this._map && !this._map.has(k)) {\n        var defaultVal = this._defaultValues[k];\n        if (v === defaultVal) {\n          return this;\n        }\n      }\n      var newMap = this._map && this._map.set(k, v);\n      if (this.__ownerID || newMap === this._map) {\n        return this;\n      }\n      return makeRecord(this, newMap);\n    };\n\n    Record.prototype.remove = function(k) {\n      if (!this.has(k)) {\n        return this;\n      }\n      var newMap = this._map && this._map.remove(k);\n      if (this.__ownerID || newMap === this._map) {\n        return this;\n      }\n      return makeRecord(this, newMap);\n    };\n\n    Record.prototype.wasAltered = function() {\n      return this._map.wasAltered();\n    };\n\n    Record.prototype.__iterator = function(type, reverse) {var this$0 = this;\n      return KeyedIterable(this._defaultValues).map(function(_, k)  {return this$0.get(k)}).__iterator(type, reverse);\n    };\n\n    Record.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      return KeyedIterable(this._defaultValues).map(function(_, k)  {return this$0.get(k)}).__iterate(fn, reverse);\n    };\n\n    Record.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      var newMap = this._map && this._map.__ensureOwner(ownerID);\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        this._map = newMap;\n        return this;\n      }\n      return makeRecord(this, newMap, ownerID);\n    };\n\n\n  var RecordPrototype = Record.prototype;\n  RecordPrototype[DELETE] = RecordPrototype.remove;\n  RecordPrototype.deleteIn =\n  RecordPrototype.removeIn = MapPrototype.removeIn;\n  RecordPrototype.merge = MapPrototype.merge;\n  RecordPrototype.mergeWith = MapPrototype.mergeWith;\n  RecordPrototype.mergeIn = MapPrototype.mergeIn;\n  RecordPrototype.mergeDeep = MapPrototype.mergeDeep;\n  RecordPrototype.mergeDeepWith = MapPrototype.mergeDeepWith;\n  RecordPrototype.mergeDeepIn = MapPrototype.mergeDeepIn;\n  RecordPrototype.setIn = MapPrototype.setIn;\n  RecordPrototype.update = MapPrototype.update;\n  RecordPrototype.updateIn = MapPrototype.updateIn;\n  RecordPrototype.withMutations = MapPrototype.withMutations;\n  RecordPrototype.asMutable = MapPrototype.asMutable;\n  RecordPrototype.asImmutable = MapPrototype.asImmutable;\n\n\n  function makeRecord(likeRecord, map, ownerID) {\n    var record = Object.create(Object.getPrototypeOf(likeRecord));\n    record._map = map;\n    record.__ownerID = ownerID;\n    return record;\n  }\n\n  function recordName(record) {\n    return record._name || record.constructor.name || 'Record';\n  }\n\n  function setProps(prototype, names) {\n    try {\n      names.forEach(setProp.bind(undefined, prototype));\n    } catch (error) {\n      // Object.defineProperty failed. Probably IE8.\n    }\n  }\n\n  function setProp(prototype, name) {\n    Object.defineProperty(prototype, name, {\n      get: function() {\n        return this.get(name);\n      },\n      set: function(value) {\n        invariant(this.__ownerID, 'Cannot set on an immutable record.');\n        this.set(name, value);\n      }\n    });\n  }\n\n  createClass(Set, SetCollection);\n\n    // @pragma Construction\n\n    function Set(value) {\n      return value === null || value === undefined ? emptySet() :\n        isSet(value) && !isOrdered(value) ? value :\n        emptySet().withMutations(function(set ) {\n          var iter = SetIterable(value);\n          assertNotInfinite(iter.size);\n          iter.forEach(function(v ) {return set.add(v)});\n        });\n    }\n\n    Set.of = function(/*...values*/) {\n      return this(arguments);\n    };\n\n    Set.fromKeys = function(value) {\n      return this(KeyedIterable(value).keySeq());\n    };\n\n    Set.prototype.toString = function() {\n      return this.__toString('Set {', '}');\n    };\n\n    // @pragma Access\n\n    Set.prototype.has = function(value) {\n      return this._map.has(value);\n    };\n\n    // @pragma Modification\n\n    Set.prototype.add = function(value) {\n      return updateSet(this, this._map.set(value, true));\n    };\n\n    Set.prototype.remove = function(value) {\n      return updateSet(this, this._map.remove(value));\n    };\n\n    Set.prototype.clear = function() {\n      return updateSet(this, this._map.clear());\n    };\n\n    // @pragma Composition\n\n    Set.prototype.union = function() {var iters = SLICE$0.call(arguments, 0);\n      iters = iters.filter(function(x ) {return x.size !== 0});\n      if (iters.length === 0) {\n        return this;\n      }\n      if (this.size === 0 && !this.__ownerID && iters.length === 1) {\n        return this.constructor(iters[0]);\n      }\n      return this.withMutations(function(set ) {\n        for (var ii = 0; ii < iters.length; ii++) {\n          SetIterable(iters[ii]).forEach(function(value ) {return set.add(value)});\n        }\n      });\n    };\n\n    Set.prototype.intersect = function() {var iters = SLICE$0.call(arguments, 0);\n      if (iters.length === 0) {\n        return this;\n      }\n      iters = iters.map(function(iter ) {return SetIterable(iter)});\n      var originalSet = this;\n      return this.withMutations(function(set ) {\n        originalSet.forEach(function(value ) {\n          if (!iters.every(function(iter ) {return iter.includes(value)})) {\n            set.remove(value);\n          }\n        });\n      });\n    };\n\n    Set.prototype.subtract = function() {var iters = SLICE$0.call(arguments, 0);\n      if (iters.length === 0) {\n        return this;\n      }\n      iters = iters.map(function(iter ) {return SetIterable(iter)});\n      var originalSet = this;\n      return this.withMutations(function(set ) {\n        originalSet.forEach(function(value ) {\n          if (iters.some(function(iter ) {return iter.includes(value)})) {\n            set.remove(value);\n          }\n        });\n      });\n    };\n\n    Set.prototype.merge = function() {\n      return this.union.apply(this, arguments);\n    };\n\n    Set.prototype.mergeWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n      return this.union.apply(this, iters);\n    };\n\n    Set.prototype.sort = function(comparator) {\n      // Late binding\n      return OrderedSet(sortFactory(this, comparator));\n    };\n\n    Set.prototype.sortBy = function(mapper, comparator) {\n      // Late binding\n      return OrderedSet(sortFactory(this, comparator, mapper));\n    };\n\n    Set.prototype.wasAltered = function() {\n      return this._map.wasAltered();\n    };\n\n    Set.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      return this._map.__iterate(function(_, k)  {return fn(k, k, this$0)}, reverse);\n    };\n\n    Set.prototype.__iterator = function(type, reverse) {\n      return this._map.map(function(_, k)  {return k}).__iterator(type, reverse);\n    };\n\n    Set.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      var newMap = this._map.__ensureOwner(ownerID);\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        this._map = newMap;\n        return this;\n      }\n      return this.__make(newMap, ownerID);\n    };\n\n\n  function isSet(maybeSet) {\n    return !!(maybeSet && maybeSet[IS_SET_SENTINEL]);\n  }\n\n  Set.isSet = isSet;\n\n  var IS_SET_SENTINEL = '@@__IMMUTABLE_SET__@@';\n\n  var SetPrototype = Set.prototype;\n  SetPrototype[IS_SET_SENTINEL] = true;\n  SetPrototype[DELETE] = SetPrototype.remove;\n  SetPrototype.mergeDeep = SetPrototype.merge;\n  SetPrototype.mergeDeepWith = SetPrototype.mergeWith;\n  SetPrototype.withMutations = MapPrototype.withMutations;\n  SetPrototype.asMutable = MapPrototype.asMutable;\n  SetPrototype.asImmutable = MapPrototype.asImmutable;\n\n  SetPrototype.__empty = emptySet;\n  SetPrototype.__make = makeSet;\n\n  function updateSet(set, newMap) {\n    if (set.__ownerID) {\n      set.size = newMap.size;\n      set._map = newMap;\n      return set;\n    }\n    return newMap === set._map ? set :\n      newMap.size === 0 ? set.__empty() :\n      set.__make(newMap);\n  }\n\n  function makeSet(map, ownerID) {\n    var set = Object.create(SetPrototype);\n    set.size = map ? map.size : 0;\n    set._map = map;\n    set.__ownerID = ownerID;\n    return set;\n  }\n\n  var EMPTY_SET;\n  function emptySet() {\n    return EMPTY_SET || (EMPTY_SET = makeSet(emptyMap()));\n  }\n\n  createClass(OrderedSet, Set);\n\n    // @pragma Construction\n\n    function OrderedSet(value) {\n      return value === null || value === undefined ? emptyOrderedSet() :\n        isOrderedSet(value) ? value :\n        emptyOrderedSet().withMutations(function(set ) {\n          var iter = SetIterable(value);\n          assertNotInfinite(iter.size);\n          iter.forEach(function(v ) {return set.add(v)});\n        });\n    }\n\n    OrderedSet.of = function(/*...values*/) {\n      return this(arguments);\n    };\n\n    OrderedSet.fromKeys = function(value) {\n      return this(KeyedIterable(value).keySeq());\n    };\n\n    OrderedSet.prototype.toString = function() {\n      return this.__toString('OrderedSet {', '}');\n    };\n\n\n  function isOrderedSet(maybeOrderedSet) {\n    return isSet(maybeOrderedSet) && isOrdered(maybeOrderedSet);\n  }\n\n  OrderedSet.isOrderedSet = isOrderedSet;\n\n  var OrderedSetPrototype = OrderedSet.prototype;\n  OrderedSetPrototype[IS_ORDERED_SENTINEL] = true;\n\n  OrderedSetPrototype.__empty = emptyOrderedSet;\n  OrderedSetPrototype.__make = makeOrderedSet;\n\n  function makeOrderedSet(map, ownerID) {\n    var set = Object.create(OrderedSetPrototype);\n    set.size = map ? map.size : 0;\n    set._map = map;\n    set.__ownerID = ownerID;\n    return set;\n  }\n\n  var EMPTY_ORDERED_SET;\n  function emptyOrderedSet() {\n    return EMPTY_ORDERED_SET || (EMPTY_ORDERED_SET = makeOrderedSet(emptyOrderedMap()));\n  }\n\n  createClass(Stack, IndexedCollection);\n\n    // @pragma Construction\n\n    function Stack(value) {\n      return value === null || value === undefined ? emptyStack() :\n        isStack(value) ? value :\n        emptyStack().unshiftAll(value);\n    }\n\n    Stack.of = function(/*...values*/) {\n      return this(arguments);\n    };\n\n    Stack.prototype.toString = function() {\n      return this.__toString('Stack [', ']');\n    };\n\n    // @pragma Access\n\n    Stack.prototype.get = function(index, notSetValue) {\n      var head = this._head;\n      index = wrapIndex(this, index);\n      while (head && index--) {\n        head = head.next;\n      }\n      return head ? head.value : notSetValue;\n    };\n\n    Stack.prototype.peek = function() {\n      return this._head && this._head.value;\n    };\n\n    // @pragma Modification\n\n    Stack.prototype.push = function(/*...values*/) {\n      if (arguments.length === 0) {\n        return this;\n      }\n      var newSize = this.size + arguments.length;\n      var head = this._head;\n      for (var ii = arguments.length - 1; ii >= 0; ii--) {\n        head = {\n          value: arguments[ii],\n          next: head\n        };\n      }\n      if (this.__ownerID) {\n        this.size = newSize;\n        this._head = head;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return makeStack(newSize, head);\n    };\n\n    Stack.prototype.pushAll = function(iter) {\n      iter = IndexedIterable(iter);\n      if (iter.size === 0) {\n        return this;\n      }\n      assertNotInfinite(iter.size);\n      var newSize = this.size;\n      var head = this._head;\n      iter.reverse().forEach(function(value ) {\n        newSize++;\n        head = {\n          value: value,\n          next: head\n        };\n      });\n      if (this.__ownerID) {\n        this.size = newSize;\n        this._head = head;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return makeStack(newSize, head);\n    };\n\n    Stack.prototype.pop = function() {\n      return this.slice(1);\n    };\n\n    Stack.prototype.unshift = function(/*...values*/) {\n      return this.push.apply(this, arguments);\n    };\n\n    Stack.prototype.unshiftAll = function(iter) {\n      return this.pushAll(iter);\n    };\n\n    Stack.prototype.shift = function() {\n      return this.pop.apply(this, arguments);\n    };\n\n    Stack.prototype.clear = function() {\n      if (this.size === 0) {\n        return this;\n      }\n      if (this.__ownerID) {\n        this.size = 0;\n        this._head = undefined;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return emptyStack();\n    };\n\n    Stack.prototype.slice = function(begin, end) {\n      if (wholeSlice(begin, end, this.size)) {\n        return this;\n      }\n      var resolvedBegin = resolveBegin(begin, this.size);\n      var resolvedEnd = resolveEnd(end, this.size);\n      if (resolvedEnd !== this.size) {\n        // super.slice(begin, end);\n        return IndexedCollection.prototype.slice.call(this, begin, end);\n      }\n      var newSize = this.size - resolvedBegin;\n      var head = this._head;\n      while (resolvedBegin--) {\n        head = head.next;\n      }\n      if (this.__ownerID) {\n        this.size = newSize;\n        this._head = head;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return makeStack(newSize, head);\n    };\n\n    // @pragma Mutability\n\n    Stack.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        this.__altered = false;\n        return this;\n      }\n      return makeStack(this.size, this._head, ownerID, this.__hash);\n    };\n\n    // @pragma Iteration\n\n    Stack.prototype.__iterate = function(fn, reverse) {\n      if (reverse) {\n        return this.reverse().__iterate(fn);\n      }\n      var iterations = 0;\n      var node = this._head;\n      while (node) {\n        if (fn(node.value, iterations++, this) === false) {\n          break;\n        }\n        node = node.next;\n      }\n      return iterations;\n    };\n\n    Stack.prototype.__iterator = function(type, reverse) {\n      if (reverse) {\n        return this.reverse().__iterator(type);\n      }\n      var iterations = 0;\n      var node = this._head;\n      return new Iterator(function()  {\n        if (node) {\n          var value = node.value;\n          node = node.next;\n          return iteratorValue(type, iterations++, value);\n        }\n        return iteratorDone();\n      });\n    };\n\n\n  function isStack(maybeStack) {\n    return !!(maybeStack && maybeStack[IS_STACK_SENTINEL]);\n  }\n\n  Stack.isStack = isStack;\n\n  var IS_STACK_SENTINEL = '@@__IMMUTABLE_STACK__@@';\n\n  var StackPrototype = Stack.prototype;\n  StackPrototype[IS_STACK_SENTINEL] = true;\n  StackPrototype.withMutations = MapPrototype.withMutations;\n  StackPrototype.asMutable = MapPrototype.asMutable;\n  StackPrototype.asImmutable = MapPrototype.asImmutable;\n  StackPrototype.wasAltered = MapPrototype.wasAltered;\n\n\n  function makeStack(size, head, ownerID, hash) {\n    var map = Object.create(StackPrototype);\n    map.size = size;\n    map._head = head;\n    map.__ownerID = ownerID;\n    map.__hash = hash;\n    map.__altered = false;\n    return map;\n  }\n\n  var EMPTY_STACK;\n  function emptyStack() {\n    return EMPTY_STACK || (EMPTY_STACK = makeStack(0));\n  }\n\n  /**\n   * Contributes additional methods to a constructor\n   */\n  function mixin(ctor, methods) {\n    var keyCopier = function(key ) { ctor.prototype[key] = methods[key]; };\n    Object.keys(methods).forEach(keyCopier);\n    Object.getOwnPropertySymbols &&\n      Object.getOwnPropertySymbols(methods).forEach(keyCopier);\n    return ctor;\n  }\n\n  Iterable.Iterator = Iterator;\n\n  mixin(Iterable, {\n\n    // ### Conversion to other types\n\n    toArray: function() {\n      assertNotInfinite(this.size);\n      var array = new Array(this.size || 0);\n      this.valueSeq().__iterate(function(v, i)  { array[i] = v; });\n      return array;\n    },\n\n    toIndexedSeq: function() {\n      return new ToIndexedSequence(this);\n    },\n\n    toJS: function() {\n      return this.toSeq().map(\n        function(value ) {return value && typeof value.toJS === 'function' ? value.toJS() : value}\n      ).__toJS();\n    },\n\n    toJSON: function() {\n      return this.toSeq().map(\n        function(value ) {return value && typeof value.toJSON === 'function' ? value.toJSON() : value}\n      ).__toJS();\n    },\n\n    toKeyedSeq: function() {\n      return new ToKeyedSequence(this, true);\n    },\n\n    toMap: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return Map(this.toKeyedSeq());\n    },\n\n    toObject: function() {\n      assertNotInfinite(this.size);\n      var object = {};\n      this.__iterate(function(v, k)  { object[k] = v; });\n      return object;\n    },\n\n    toOrderedMap: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return OrderedMap(this.toKeyedSeq());\n    },\n\n    toOrderedSet: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return OrderedSet(isKeyed(this) ? this.valueSeq() : this);\n    },\n\n    toSet: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return Set(isKeyed(this) ? this.valueSeq() : this);\n    },\n\n    toSetSeq: function() {\n      return new ToSetSequence(this);\n    },\n\n    toSeq: function() {\n      return isIndexed(this) ? this.toIndexedSeq() :\n        isKeyed(this) ? this.toKeyedSeq() :\n        this.toSetSeq();\n    },\n\n    toStack: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return Stack(isKeyed(this) ? this.valueSeq() : this);\n    },\n\n    toList: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return List(isKeyed(this) ? this.valueSeq() : this);\n    },\n\n\n    // ### Common JavaScript methods and properties\n\n    toString: function() {\n      return '[Iterable]';\n    },\n\n    __toString: function(head, tail) {\n      if (this.size === 0) {\n        return head + tail;\n      }\n      return head + ' ' + this.toSeq().map(this.__toStringMapper).join(', ') + ' ' + tail;\n    },\n\n\n    // ### ES6 Collection methods (ES6 Array and Map)\n\n    concat: function() {var values = SLICE$0.call(arguments, 0);\n      return reify(this, concatFactory(this, values));\n    },\n\n    includes: function(searchValue) {\n      return this.some(function(value ) {return is(value, searchValue)});\n    },\n\n    entries: function() {\n      return this.__iterator(ITERATE_ENTRIES);\n    },\n\n    every: function(predicate, context) {\n      assertNotInfinite(this.size);\n      var returnValue = true;\n      this.__iterate(function(v, k, c)  {\n        if (!predicate.call(context, v, k, c)) {\n          returnValue = false;\n          return false;\n        }\n      });\n      return returnValue;\n    },\n\n    filter: function(predicate, context) {\n      return reify(this, filterFactory(this, predicate, context, true));\n    },\n\n    find: function(predicate, context, notSetValue) {\n      var entry = this.findEntry(predicate, context);\n      return entry ? entry[1] : notSetValue;\n    },\n\n    forEach: function(sideEffect, context) {\n      assertNotInfinite(this.size);\n      return this.__iterate(context ? sideEffect.bind(context) : sideEffect);\n    },\n\n    join: function(separator) {\n      assertNotInfinite(this.size);\n      separator = separator !== undefined ? '' + separator : ',';\n      var joined = '';\n      var isFirst = true;\n      this.__iterate(function(v ) {\n        isFirst ? (isFirst = false) : (joined += separator);\n        joined += v !== null && v !== undefined ? v.toString() : '';\n      });\n      return joined;\n    },\n\n    keys: function() {\n      return this.__iterator(ITERATE_KEYS);\n    },\n\n    map: function(mapper, context) {\n      return reify(this, mapFactory(this, mapper, context));\n    },\n\n    reduce: function(reducer, initialReduction, context) {\n      assertNotInfinite(this.size);\n      var reduction;\n      var useFirst;\n      if (arguments.length < 2) {\n        useFirst = true;\n      } else {\n        reduction = initialReduction;\n      }\n      this.__iterate(function(v, k, c)  {\n        if (useFirst) {\n          useFirst = false;\n          reduction = v;\n        } else {\n          reduction = reducer.call(context, reduction, v, k, c);\n        }\n      });\n      return reduction;\n    },\n\n    reduceRight: function(reducer, initialReduction, context) {\n      var reversed = this.toKeyedSeq().reverse();\n      return reversed.reduce.apply(reversed, arguments);\n    },\n\n    reverse: function() {\n      return reify(this, reverseFactory(this, true));\n    },\n\n    slice: function(begin, end) {\n      return reify(this, sliceFactory(this, begin, end, true));\n    },\n\n    some: function(predicate, context) {\n      return !this.every(not(predicate), context);\n    },\n\n    sort: function(comparator) {\n      return reify(this, sortFactory(this, comparator));\n    },\n\n    values: function() {\n      return this.__iterator(ITERATE_VALUES);\n    },\n\n\n    // ### More sequential methods\n\n    butLast: function() {\n      return this.slice(0, -1);\n    },\n\n    isEmpty: function() {\n      return this.size !== undefined ? this.size === 0 : !this.some(function()  {return true});\n    },\n\n    count: function(predicate, context) {\n      return ensureSize(\n        predicate ? this.toSeq().filter(predicate, context) : this\n      );\n    },\n\n    countBy: function(grouper, context) {\n      return countByFactory(this, grouper, context);\n    },\n\n    equals: function(other) {\n      return deepEqual(this, other);\n    },\n\n    entrySeq: function() {\n      var iterable = this;\n      if (iterable._cache) {\n        // We cache as an entries array, so we can just return the cache!\n        return new ArraySeq(iterable._cache);\n      }\n      var entriesSequence = iterable.toSeq().map(entryMapper).toIndexedSeq();\n      entriesSequence.fromEntrySeq = function()  {return iterable.toSeq()};\n      return entriesSequence;\n    },\n\n    filterNot: function(predicate, context) {\n      return this.filter(not(predicate), context);\n    },\n\n    findEntry: function(predicate, context, notSetValue) {\n      var found = notSetValue;\n      this.__iterate(function(v, k, c)  {\n        if (predicate.call(context, v, k, c)) {\n          found = [k, v];\n          return false;\n        }\n      });\n      return found;\n    },\n\n    findKey: function(predicate, context) {\n      var entry = this.findEntry(predicate, context);\n      return entry && entry[0];\n    },\n\n    findLast: function(predicate, context, notSetValue) {\n      return this.toKeyedSeq().reverse().find(predicate, context, notSetValue);\n    },\n\n    findLastEntry: function(predicate, context, notSetValue) {\n      return this.toKeyedSeq().reverse().findEntry(predicate, context, notSetValue);\n    },\n\n    findLastKey: function(predicate, context) {\n      return this.toKeyedSeq().reverse().findKey(predicate, context);\n    },\n\n    first: function() {\n      return this.find(returnTrue);\n    },\n\n    flatMap: function(mapper, context) {\n      return reify(this, flatMapFactory(this, mapper, context));\n    },\n\n    flatten: function(depth) {\n      return reify(this, flattenFactory(this, depth, true));\n    },\n\n    fromEntrySeq: function() {\n      return new FromEntriesSequence(this);\n    },\n\n    get: function(searchKey, notSetValue) {\n      return this.find(function(_, key)  {return is(key, searchKey)}, undefined, notSetValue);\n    },\n\n    getIn: function(searchKeyPath, notSetValue) {\n      var nested = this;\n      // Note: in an ES6 environment, we would prefer:\n      // for (var key of searchKeyPath) {\n      var iter = forceIterator(searchKeyPath);\n      var step;\n      while (!(step = iter.next()).done) {\n        var key = step.value;\n        nested = nested && nested.get ? nested.get(key, NOT_SET) : NOT_SET;\n        if (nested === NOT_SET) {\n          return notSetValue;\n        }\n      }\n      return nested;\n    },\n\n    groupBy: function(grouper, context) {\n      return groupByFactory(this, grouper, context);\n    },\n\n    has: function(searchKey) {\n      return this.get(searchKey, NOT_SET) !== NOT_SET;\n    },\n\n    hasIn: function(searchKeyPath) {\n      return this.getIn(searchKeyPath, NOT_SET) !== NOT_SET;\n    },\n\n    isSubset: function(iter) {\n      iter = typeof iter.includes === 'function' ? iter : Iterable(iter);\n      return this.every(function(value ) {return iter.includes(value)});\n    },\n\n    isSuperset: function(iter) {\n      iter = typeof iter.isSubset === 'function' ? iter : Iterable(iter);\n      return iter.isSubset(this);\n    },\n\n    keyOf: function(searchValue) {\n      return this.findKey(function(value ) {return is(value, searchValue)});\n    },\n\n    keySeq: function() {\n      return this.toSeq().map(keyMapper).toIndexedSeq();\n    },\n\n    last: function() {\n      return this.toSeq().reverse().first();\n    },\n\n    lastKeyOf: function(searchValue) {\n      return this.toKeyedSeq().reverse().keyOf(searchValue);\n    },\n\n    max: function(comparator) {\n      return maxFactory(this, comparator);\n    },\n\n    maxBy: function(mapper, comparator) {\n      return maxFactory(this, comparator, mapper);\n    },\n\n    min: function(comparator) {\n      return maxFactory(this, comparator ? neg(comparator) : defaultNegComparator);\n    },\n\n    minBy: function(mapper, comparator) {\n      return maxFactory(this, comparator ? neg(comparator) : defaultNegComparator, mapper);\n    },\n\n    rest: function() {\n      return this.slice(1);\n    },\n\n    skip: function(amount) {\n      return this.slice(Math.max(0, amount));\n    },\n\n    skipLast: function(amount) {\n      return reify(this, this.toSeq().reverse().skip(amount).reverse());\n    },\n\n    skipWhile: function(predicate, context) {\n      return reify(this, skipWhileFactory(this, predicate, context, true));\n    },\n\n    skipUntil: function(predicate, context) {\n      return this.skipWhile(not(predicate), context);\n    },\n\n    sortBy: function(mapper, comparator) {\n      return reify(this, sortFactory(this, comparator, mapper));\n    },\n\n    take: function(amount) {\n      return this.slice(0, Math.max(0, amount));\n    },\n\n    takeLast: function(amount) {\n      return reify(this, this.toSeq().reverse().take(amount).reverse());\n    },\n\n    takeWhile: function(predicate, context) {\n      return reify(this, takeWhileFactory(this, predicate, context));\n    },\n\n    takeUntil: function(predicate, context) {\n      return this.takeWhile(not(predicate), context);\n    },\n\n    valueSeq: function() {\n      return this.toIndexedSeq();\n    },\n\n\n    // ### Hashable Object\n\n    hashCode: function() {\n      return this.__hash || (this.__hash = hashIterable(this));\n    }\n\n\n    // ### Internal\n\n    // abstract __iterate(fn, reverse)\n\n    // abstract __iterator(type, reverse)\n  });\n\n  // var IS_ITERABLE_SENTINEL = '@@__IMMUTABLE_ITERABLE__@@';\n  // var IS_KEYED_SENTINEL = '@@__IMMUTABLE_KEYED__@@';\n  // var IS_INDEXED_SENTINEL = '@@__IMMUTABLE_INDEXED__@@';\n  // var IS_ORDERED_SENTINEL = '@@__IMMUTABLE_ORDERED__@@';\n\n  var IterablePrototype = Iterable.prototype;\n  IterablePrototype[IS_ITERABLE_SENTINEL] = true;\n  IterablePrototype[ITERATOR_SYMBOL] = IterablePrototype.values;\n  IterablePrototype.__toJS = IterablePrototype.toArray;\n  IterablePrototype.__toStringMapper = quoteString;\n  IterablePrototype.inspect =\n  IterablePrototype.toSource = function() { return this.toString(); };\n  IterablePrototype.chain = IterablePrototype.flatMap;\n  IterablePrototype.contains = IterablePrototype.includes;\n\n  mixin(KeyedIterable, {\n\n    // ### More sequential methods\n\n    flip: function() {\n      return reify(this, flipFactory(this));\n    },\n\n    mapEntries: function(mapper, context) {var this$0 = this;\n      var iterations = 0;\n      return reify(this,\n        this.toSeq().map(\n          function(v, k)  {return mapper.call(context, [k, v], iterations++, this$0)}\n        ).fromEntrySeq()\n      );\n    },\n\n    mapKeys: function(mapper, context) {var this$0 = this;\n      return reify(this,\n        this.toSeq().flip().map(\n          function(k, v)  {return mapper.call(context, k, v, this$0)}\n        ).flip()\n      );\n    }\n\n  });\n\n  var KeyedIterablePrototype = KeyedIterable.prototype;\n  KeyedIterablePrototype[IS_KEYED_SENTINEL] = true;\n  KeyedIterablePrototype[ITERATOR_SYMBOL] = IterablePrototype.entries;\n  KeyedIterablePrototype.__toJS = IterablePrototype.toObject;\n  KeyedIterablePrototype.__toStringMapper = function(v, k)  {return JSON.stringify(k) + ': ' + quoteString(v)};\n\n\n\n  mixin(IndexedIterable, {\n\n    // ### Conversion to other types\n\n    toKeyedSeq: function() {\n      return new ToKeyedSequence(this, false);\n    },\n\n\n    // ### ES6 Collection methods (ES6 Array and Map)\n\n    filter: function(predicate, context) {\n      return reify(this, filterFactory(this, predicate, context, false));\n    },\n\n    findIndex: function(predicate, context) {\n      var entry = this.findEntry(predicate, context);\n      return entry ? entry[0] : -1;\n    },\n\n    indexOf: function(searchValue) {\n      var key = this.keyOf(searchValue);\n      return key === undefined ? -1 : key;\n    },\n\n    lastIndexOf: function(searchValue) {\n      var key = this.lastKeyOf(searchValue);\n      return key === undefined ? -1 : key;\n    },\n\n    reverse: function() {\n      return reify(this, reverseFactory(this, false));\n    },\n\n    slice: function(begin, end) {\n      return reify(this, sliceFactory(this, begin, end, false));\n    },\n\n    splice: function(index, removeNum /*, ...values*/) {\n      var numArgs = arguments.length;\n      removeNum = Math.max(removeNum | 0, 0);\n      if (numArgs === 0 || (numArgs === 2 && !removeNum)) {\n        return this;\n      }\n      // If index is negative, it should resolve relative to the size of the\n      // collection. However size may be expensive to compute if not cached, so\n      // only call count() if the number is in fact negative.\n      index = resolveBegin(index, index < 0 ? this.count() : this.size);\n      var spliced = this.slice(0, index);\n      return reify(\n        this,\n        numArgs === 1 ?\n          spliced :\n          spliced.concat(arrCopy(arguments, 2), this.slice(index + removeNum))\n      );\n    },\n\n\n    // ### More collection methods\n\n    findLastIndex: function(predicate, context) {\n      var entry = this.findLastEntry(predicate, context);\n      return entry ? entry[0] : -1;\n    },\n\n    first: function() {\n      return this.get(0);\n    },\n\n    flatten: function(depth) {\n      return reify(this, flattenFactory(this, depth, false));\n    },\n\n    get: function(index, notSetValue) {\n      index = wrapIndex(this, index);\n      return (index < 0 || (this.size === Infinity ||\n          (this.size !== undefined && index > this.size))) ?\n        notSetValue :\n        this.find(function(_, key)  {return key === index}, undefined, notSetValue);\n    },\n\n    has: function(index) {\n      index = wrapIndex(this, index);\n      return index >= 0 && (this.size !== undefined ?\n        this.size === Infinity || index < this.size :\n        this.indexOf(index) !== -1\n      );\n    },\n\n    interpose: function(separator) {\n      return reify(this, interposeFactory(this, separator));\n    },\n\n    interleave: function(/*...iterables*/) {\n      var iterables = [this].concat(arrCopy(arguments));\n      var zipped = zipWithFactory(this.toSeq(), IndexedSeq.of, iterables);\n      var interleaved = zipped.flatten(true);\n      if (zipped.size) {\n        interleaved.size = zipped.size * iterables.length;\n      }\n      return reify(this, interleaved);\n    },\n\n    keySeq: function() {\n      return Range(0, this.size);\n    },\n\n    last: function() {\n      return this.get(-1);\n    },\n\n    skipWhile: function(predicate, context) {\n      return reify(this, skipWhileFactory(this, predicate, context, false));\n    },\n\n    zip: function(/*, ...iterables */) {\n      var iterables = [this].concat(arrCopy(arguments));\n      return reify(this, zipWithFactory(this, defaultZipper, iterables));\n    },\n\n    zipWith: function(zipper/*, ...iterables */) {\n      var iterables = arrCopy(arguments);\n      iterables[0] = this;\n      return reify(this, zipWithFactory(this, zipper, iterables));\n    }\n\n  });\n\n  IndexedIterable.prototype[IS_INDEXED_SENTINEL] = true;\n  IndexedIterable.prototype[IS_ORDERED_SENTINEL] = true;\n\n\n\n  mixin(SetIterable, {\n\n    // ### ES6 Collection methods (ES6 Array and Map)\n\n    get: function(value, notSetValue) {\n      return this.has(value) ? value : notSetValue;\n    },\n\n    includes: function(value) {\n      return this.has(value);\n    },\n\n\n    // ### More sequential methods\n\n    keySeq: function() {\n      return this.valueSeq();\n    }\n\n  });\n\n  SetIterable.prototype.has = IterablePrototype.includes;\n  SetIterable.prototype.contains = SetIterable.prototype.includes;\n\n\n  // Mixin subclasses\n\n  mixin(KeyedSeq, KeyedIterable.prototype);\n  mixin(IndexedSeq, IndexedIterable.prototype);\n  mixin(SetSeq, SetIterable.prototype);\n\n  mixin(KeyedCollection, KeyedIterable.prototype);\n  mixin(IndexedCollection, IndexedIterable.prototype);\n  mixin(SetCollection, SetIterable.prototype);\n\n\n  // #pragma Helper functions\n\n  function keyMapper(v, k) {\n    return k;\n  }\n\n  function entryMapper(v, k) {\n    return [k, v];\n  }\n\n  function not(predicate) {\n    return function() {\n      return !predicate.apply(this, arguments);\n    }\n  }\n\n  function neg(predicate) {\n    return function() {\n      return -predicate.apply(this, arguments);\n    }\n  }\n\n  function quoteString(value) {\n    return typeof value === 'string' ? JSON.stringify(value) : String(value);\n  }\n\n  function defaultZipper() {\n    return arrCopy(arguments);\n  }\n\n  function defaultNegComparator(a, b) {\n    return a < b ? 1 : a > b ? -1 : 0;\n  }\n\n  function hashIterable(iterable) {\n    if (iterable.size === Infinity) {\n      return 0;\n    }\n    var ordered = isOrdered(iterable);\n    var keyed = isKeyed(iterable);\n    var h = ordered ? 1 : 0;\n    var size = iterable.__iterate(\n      keyed ?\n        ordered ?\n          function(v, k)  { h = 31 * h + hashMerge(hash(v), hash(k)) | 0; } :\n          function(v, k)  { h = h + hashMerge(hash(v), hash(k)) | 0; } :\n        ordered ?\n          function(v ) { h = 31 * h + hash(v) | 0; } :\n          function(v ) { h = h + hash(v) | 0; }\n    );\n    return murmurHashOfSize(size, h);\n  }\n\n  function murmurHashOfSize(size, h) {\n    h = imul(h, 0xCC9E2D51);\n    h = imul(h << 15 | h >>> -15, 0x1B873593);\n    h = imul(h << 13 | h >>> -13, 5);\n    h = (h + 0xE6546B64 | 0) ^ size;\n    h = imul(h ^ h >>> 16, 0x85EBCA6B);\n    h = imul(h ^ h >>> 13, 0xC2B2AE35);\n    h = smi(h ^ h >>> 16);\n    return h;\n  }\n\n  function hashMerge(a, b) {\n    return a ^ b + 0x9E3779B9 + (a << 6) + (a >> 2) | 0; // int\n  }\n\n  var Immutable = {\n\n    Iterable: Iterable,\n\n    Seq: Seq,\n    Collection: Collection,\n    Map: Map,\n    OrderedMap: OrderedMap,\n    List: List,\n    Stack: Stack,\n    Set: Set,\n    OrderedSet: OrderedSet,\n\n    Record: Record,\n    Range: Range,\n    Repeat: Repeat,\n\n    is: is,\n    fromJS: fromJS\n\n  };\n\n  return Immutable;\n\n}));","// extracted by mini-css-extract-plugin\nmodule.exports = {\"colorShow\":\"_3sm\",\"plugInZoomIn\":\"_1kA\"};","import whatsPure from \"whats-element/pure\";\nconst whats = new whatsPure();\n\nconst isMobile = ('ontouchstart' in window) || window.innerWidth<600;\n\nconst prepareSelectionTarget = function (blackNodes, enableMarkImg,positions) {\n    const selection = document.getSelection();\n    if(selection.rangeCount===0){\n        return;\n    }\n\n\n    // // pagenote 状态监测\n    // const isWaiting = this.status === constant.WAITING && selectedText === this.target.text;\n    // const isDestroy = this.status === this.CONSTANT.DESTROY;\n    // if(isWaiting || isDestroy || selection.rangeCount===0){ // 避免重复计算\\无选区\n    //     return;\n    // }\n\n    // 选区父节点是否存在\n    const range0 = selection.getRangeAt(0);\n    let parentElement = selection.anchorNode?range0.commonAncestorContainer:null;\n    if(parentElement && parentElement.nodeType===3){ // 如果父节点为文本节点，则需要再寻一级父节点\n        parentElement = parentElement.parentNode;\n    }\n    const noParentElement = !parentElement || !parentElement.tagName;\n    if(noParentElement){\n        return;\n    }\n    // 黑名单节点监测\n    let isBlackNode = parentElement.tagName.toLowerCase().indexOf('pagenote')>-1;\n    for(let i of blackNodes){\n        if(i.contains(parentElement)||i.contains(selection.anchorNode)||i.contains(selection.focusNode)){\n            isBlackNode = false;\n            break;\n        }\n    }\n    if(isBlackNode){\n        return;\n    }\n\n    // 是否可编辑区\n    let canHighlight = true;\n    if(!parentElement || parentElement.contentEditable==='true'){\n        canHighlight = false;\n    }\n\n    // TODO 监测是否有图片、视频等其他资源\n    const markImages = [];\n    const selectedElementContent = range0.cloneContents();\n    if(enableMarkImg){\n        const children = selectedElementContent.children;\n        for(let i=0; i< children.length; i++){\n            const item = children[i];\n            if(item.tagName==='IMG'){\n                // 找到对应的图片节点\n                const id = `img[src=\"${item.src}\"]`;\n                const elements = parentElement.querySelectorAll(id);\n                for(let j=0; j<elements.length; j++){\n                    const element = elements[j];\n                    if(selection.containsNode(element)){\n                        const imgId = whats.getUniqueId(element).wid;\n                        const imgUrl = element.src;\n                        markImages.push({\n                            id: imgId,\n                            url: imgUrl,\n                            alt: element.alt,\n                            pre: element.previousSibling,\n                            suffix: element.nextSibling,\n                        })\n                        break;\n                    }\n                }\n            }\n        }\n    }\n\n    const selectedText = selection.toString().trim(); // 跨标签高亮\n    if(!(selectedText || markImages.length)){\n        return\n    }\n\n    let before = range0.startContainer.textContent.substr(0,range0.startOffset);\n    let after = range0.endContainer.textContent.substr(range0.endOffset,10);\n    if(!before){\n        const preElement = parentElement.previousSibling;\n        if(preElement && parentElement.contains(preElement)){\n            before = preElement.textContent;\n        }\n    }\n    if(!after){\n        const nextElement = parentElement.nextSibling;\n        if(nextElement && parentElement.contains(nextElement)){\n            after = nextElement.textContent;\n        }\n    }\n\n    const selectionRects=selection.getRangeAt(0).getClientRects();\n    let relativeRect=selectionRects[selectionRects.length-1];\n    if(!relativeRect){\n        return;\n    }\n\n\n    const startPosition = positions[0];\n    const endPosition = positions[1];\n    let offsetRelative = 1;\n\n    // 判断是正逆方向\n    const eOffsetX = endPosition.x - startPosition.x;\n    const eOffsetY = endPosition.y - startPosition.y;\n    if(eOffsetX * eOffsetY >= 0){\n        offsetRelative = eOffsetX >= 0 ? 1 : -1;\n    } else {\n        const relativeDirection = Math.abs(eOffsetX) - Math.abs(eOffsetY) >=0 ? eOffsetX : eOffsetY;\n        offsetRelative = relativeDirection>=0 ? 1 : -1;\n    }\n\n    if(offsetRelative===-1){\n        relativeRect = selectionRects[0]\n    }\n\n    const scrollY =  window.scrollY+relativeRect.y;\n    const offsetX = offsetRelative === 1 ? relativeRect.width + 6 : -32;\n    const offsetY = offsetRelative === 1 ? relativeRect.height + 4 : -32;\n    let x = Math.max(Math.min(relativeRect.x + offsetX,window.innerWidth-150),20);\n    let y = scrollY + offsetY;\n\n\n    const whatsEl = whats.getUniqueId(parentElement);\n    const cursorX = parseInt(x);\n    const cursorY = parseInt(y);\n    const target = {\n        x:cursorX,\n        y:cursorY,\n        offsetX: 0.5,\n        offsetY: 0.9,\n        pre:before,\n        suffix:after,\n        text:selectedText,\n        tip:'', // 提供支持纯文本的取值方式\n        time: new Date().getTime(),\n        id: whatsEl.wid,\n        isActive: false,\n        bg: '',\n        parentW: parseInt(parentElement.clientWidth),\n        // clientX: e.clientX,\n        // clientY: e.clientY,\n        canHighlight: canHighlight,\n        selectionElements: selectedElementContent,\n        images: markImages,\n    };\n\n    return target\n}\n\n// http://bai.com?a=1&b=2  output [a,b],{a:1,b:1}\nfunction getParams(url) {\n    const urlSearch = url || window.location.href;\n    const paramStr = (urlSearch.match(/\\?(.*)/)||[])[1];\n    const paramObj = {};\n    const paramKeys = [];\n    if (!paramStr) {\n        return {\n            paramObj,\n            paramKeys\n        };\n    }\n    paramStr.split('&').forEach((item) => {\n        const tempArr = item.split('=');\n        if(tempArr[0]){\n            paramKeys.push(tempArr[0]);\n            paramObj[tempArr[0]] = tempArr[1];\n        }\n    });\n    return {\n        paramObj,\n        paramKeys\n    };\n}\n\n// TODO 优化精简字符串长度\nfunction encryptData(string) {\n    return btoa(encodeURI(JSON.stringify(string)))\n}\n\nfunction decryptedData(data) {\n    let result = {};\n    try {\n        result = JSON.parse(decodeURI(atob(data)));\n    }catch (e) {\n\n    }\n    return result;\n}\n\nfunction throttle(fn, interval = 300) {\n    let canRun = true;\n    return function () {\n        if (!canRun) return;\n        canRun = false;\n        setTimeout(() => {\n            fn.apply(this, arguments);\n            canRun = true;\n        }, interval);\n    };\n}\n\nfunction debounce(fn, interval = 300) {\n    let timeout = null;\n    return function () {\n        clearTimeout(timeout);\n        timeout = setTimeout(() => {\n            fn.apply(this, arguments);\n        }, interval);\n    };\n}\n\n// rgba(12,323,456) #123222\nfunction convertColor(color='') {\n    if(!color){\n        return '#000000';\n    }\n    let rgb = [];\n    let rate = 1;\n    if(color.indexOf('rgb')>-1){\n        rgb = color.match(/\\((.*)\\)/)[1].split(',');\n        rgb = [parseInt(rgb[0]),parseInt(rgb[1]),parseInt(rgb[2])];\n        if(rgb[3]!==undefined){\n            rate = rgb[3];\n        }\n    }else{\n        color = color.replace('#','');\n        rgb = [color.substr(0,2),color.substr(2,2),color.substr(4,2),1]\n        rgb = [parseInt(rgb[0],16),parseInt(rgb[1],16),parseInt(rgb[2],16)];\n    }\n    const r = rgb[0];\n    const g = rgb[1];\n    const b = rgb[2];\n    const Y = (0.3*r + 0.59*g + 0.11*b)*Math.min(rate,1);\n    return {\n        rgb: rgb,\n        textColor: Y >= 180 ? '#000000' : '#ffffff',\n        y: Y,\n    };\n}\n\n\n\nfunction computePosition(index,radio=25) {\n    const p = 45//360/(colors.length-1);\n    const hudu = -(2 * Math.PI / 360) * p * index;\n    const x =  Number.parseFloat(radio * Math.sin(hudu)).toFixed(3);\n    const y = Number.parseFloat(radio * Math.cos(hudu)).toFixed(3);\n    return {\n        x:-x,\n        y:-y,\n    }\n}\n\nexport {\n    getParams,\n    encryptData,\n    decryptedData,\n    throttle,\n    debounce,\n    convertColor,\n    computePosition,\n    prepareSelectionTarget,\n    isMobile,\n    whats,\n}\n\n","/**\n * covert canvas to image\n * and save the image file\n */\n\nvar Canvas2Image = function () {\n\n  // check if support sth.\n  var $support = function () {\n    var canvas = document.createElement('canvas'),\n      ctx = canvas.getContext('2d');\n\n    return {\n      canvas: !!ctx,\n      imageData: !!ctx.getImageData,\n      dataURL: !!canvas.toDataURL,\n      btoa: !!window.btoa\n    };\n  }();\n\n  var downloadMime = 'image/octet-stream';\n\n  function scaleCanvas (canvas, width, height) {\n    var w = canvas.width,\n      h = canvas.height;\n    if (width == undefined) {\n      width = w;\n    }\n    if (height == undefined) {\n      height = h;\n    }\n\n    var retCanvas = document.createElement('canvas');\n    var retCtx = retCanvas.getContext('2d');\n    retCanvas.width = width;\n    retCanvas.height = height;\n    retCtx.drawImage(canvas, 0, 0, w, h, 0, 0, width, height);\n    return retCanvas;\n  }\n\n  function getDataURL (canvas, type, width, height) {\n    canvas = scaleCanvas(canvas, width, height);\n    return canvas.toDataURL(type);\n  }\n\n  function saveFile (strData) {\n    document.location.href = strData;\n  }\n\n  function genImage(strData) {\n    var img = document.createElement('img');\n    img.src = strData;\n    return img;\n  }\n  function fixType (type) {\n    type = type.toLowerCase().replace(/jpg/i, 'jpeg');\n    var r = type.match(/png|jpeg|bmp|gif/)[0];\n    return 'image/' + r;\n  }\n  function encodeData (data) {\n    if (!window.btoa) { throw 'btoa undefined' }\n    var str = '';\n    if (typeof data == 'string') {\n      str = data;\n    } else {\n      for (var i = 0; i < data.length; i ++) {\n        str += String.fromCharCode(data[i]);\n      }\n    }\n\n    return btoa(str);\n  }\n  function getImageData (canvas) {\n    var w = canvas.width,\n      h = canvas.height;\n    return canvas.getContext('2d').getImageData(0, 0, w, h);\n  }\n  function makeURI (strData, type) {\n    return 'data:' + type + ';base64,' + strData;\n  }\n\n\n  /**\n   * create bitmap image\n   * 按照规则生成图片响应头和响应体\n   */\n  var genBitmapImage = function (oData) {\n\n    //\n    // BITMAPFILEHEADER: http://msdn.microsoft.com/en-us/library/windows/desktop/dd183374(v=vs.85).aspx\n    // BITMAPINFOHEADER: http://msdn.microsoft.com/en-us/library/dd183376.aspx\n    //\n\n    var biWidth  = oData.width;\n    var biHeight\t= oData.height;\n    var biSizeImage = biWidth * biHeight * 3;\n    var bfSize  = biSizeImage + 54; // total header size = 54 bytes\n\n    //\n    //  typedef struct tagBITMAPFILEHEADER {\n    //  \tWORD bfType;\n    //  \tDWORD bfSize;\n    //  \tWORD bfReserved1;\n    //  \tWORD bfReserved2;\n    //  \tDWORD bfOffBits;\n    //  } BITMAPFILEHEADER;\n    //\n    var BITMAPFILEHEADER = [\n      // WORD bfType -- The file type signature; must be \"BM\"\n      0x42, 0x4D,\n      // DWORD bfSize -- The size, in bytes, of the bitmap file\n      bfSize & 0xff, bfSize >> 8 & 0xff, bfSize >> 16 & 0xff, bfSize >> 24 & 0xff,\n      // WORD bfReserved1 -- Reserved; must be zero\n      0, 0,\n      // WORD bfReserved2 -- Reserved; must be zero\n      0, 0,\n      // DWORD bfOffBits -- The offset, in bytes, from the beginning of the BITMAPFILEHEADER structure to the bitmap bits.\n      54, 0, 0, 0\n    ];\n\n    //\n    //  typedef struct tagBITMAPINFOHEADER {\n    //  \tDWORD biSize;\n    //  \tLONG  biWidth;\n    //  \tLONG  biHeight;\n    //  \tWORD  biPlanes;\n    //  \tWORD  biBitCount;\n    //  \tDWORD biCompression;\n    //  \tDWORD biSizeImage;\n    //  \tLONG  biXPelsPerMeter;\n    //  \tLONG  biYPelsPerMeter;\n    //  \tDWORD biClrUsed;\n    //  \tDWORD biClrImportant;\n    //  } BITMAPINFOHEADER, *PBITMAPINFOHEADER;\n    //\n    var BITMAPINFOHEADER = [\n      // DWORD biSize -- The number of bytes required by the structure\n      40, 0, 0, 0,\n      // LONG biWidth -- The width of the bitmap, in pixels\n      biWidth & 0xff, biWidth >> 8 & 0xff, biWidth >> 16 & 0xff, biWidth >> 24 & 0xff,\n      // LONG biHeight -- The height of the bitmap, in pixels\n      biHeight & 0xff, biHeight >> 8  & 0xff, biHeight >> 16 & 0xff, biHeight >> 24 & 0xff,\n      // WORD biPlanes -- The number of planes for the target device. This value must be set to 1\n      1, 0,\n      // WORD biBitCount -- The number of bits-per-pixel, 24 bits-per-pixel -- the bitmap\n      // has a maximum of 2^24 colors (16777216, Truecolor)\n      24, 0,\n      // DWORD biCompression -- The type of compression, BI_RGB (code 0) -- uncompressed\n      0, 0, 0, 0,\n      // DWORD biSizeImage -- The size, in bytes, of the image. This may be set to zero for BI_RGB bitmaps\n      biSizeImage & 0xff, biSizeImage >> 8 & 0xff, biSizeImage >> 16 & 0xff, biSizeImage >> 24 & 0xff,\n      // LONG biXPelsPerMeter, unused\n      0,0,0,0,\n      // LONG biYPelsPerMeter, unused\n      0,0,0,0,\n      // DWORD biClrUsed, the number of color indexes of palette, unused\n      0,0,0,0,\n      // DWORD biClrImportant, unused\n      0,0,0,0\n    ];\n\n    var iPadding = (4 - ((biWidth * 3) % 4)) % 4;\n\n    var aImgData = oData.data;\n\n    var strPixelData = '';\n    var biWidth4 = biWidth<<2;\n    var y = biHeight;\n    var fromCharCode = String.fromCharCode;\n\n    do {\n      var iOffsetY = biWidth4*(y-1);\n      var strPixelRow = '';\n      for (var x = 0; x < biWidth; x++) {\n        var iOffsetX = x<<2;\n        strPixelRow += fromCharCode(aImgData[iOffsetY+iOffsetX+2]) +\n          fromCharCode(aImgData[iOffsetY+iOffsetX+1]) +\n          fromCharCode(aImgData[iOffsetY+iOffsetX]);\n      }\n\n      for (var c = 0; c < iPadding; c++) {\n        strPixelRow += String.fromCharCode(0);\n      }\n\n      strPixelData += strPixelRow;\n    } while (--y);\n\n    var strEncoded = encodeData(BITMAPFILEHEADER.concat(BITMAPINFOHEADER)) + encodeData(strPixelData);\n\n    return strEncoded;\n  };\n\n  /**\n   * saveAsImage\n   * @param canvasElement\n   * @param {String} image type\n   * @param {Number} [optional] png width\n   * @param {Number} [optional] png height\n   */\n  var saveAsImage = function (canvas, width, height, type) {\n    if ($support.canvas && $support.dataURL) {\n      if (typeof canvas == \"string\") { canvas = document.getElementById(canvas); }\n      if (type == undefined) { type = 'png'; }\n      type = fixType(type);\n      if (/bmp/.test(type)) {\n        var data = getImageData(scaleCanvas(canvas, width, height));\n        var strData = genBitmapImage(data);\n        saveFile(makeURI(strData, downloadMime));\n      } else {\n        var strData = getDataURL(canvas, type, width, height);\n        saveFile(strData.replace(type, downloadMime));\n      }\n    }\n  };\n\n  var convertToImage = function (canvas, width, height, type) {\n    if ($support.canvas && $support.dataURL) {\n      if (typeof canvas == \"string\") { canvas = document.getElementById(canvas); }\n      if (type == undefined) { type = 'png'; }\n      type = fixType(type);\n\n      if (/bmp/.test(type)) {\n        var data = getImageData(scaleCanvas(canvas, width, height));\n        var strData = genBitmapImage(data);\n        return genImage(makeURI(strData, 'image/bmp'));\n      } else {\n        var strData = getDataURL(canvas, type, width, height);\n        return genImage(strData);\n      }\n    }\n  };\n\n  return {\n    saveAsImage: saveAsImage,\n    saveAsPNG: function (canvas, width, height) {\n      return saveAsImage(canvas, width, height, 'png');\n    },\n    saveAsJPEG: function (canvas, width, height) {\n      return saveAsImage(canvas, width, height, 'jpeg');\n    },\n    saveAsGIF: function (canvas, width, height) {\n      return saveAsImage(canvas, width, height, 'gif');\n    },\n    saveAsBMP: function (canvas, width, height) {\n      return saveAsImage(canvas, width, height, 'bmp');\n    },\n\n    convertToImage: convertToImage,\n    convertToPNG: function (canvas, width, height) {\n      return convertToImage(canvas, width, height, 'png');\n    },\n    convertToJPEG: function (canvas, width, height) {\n      return convertToImage(canvas, width, height, 'jpeg');\n    },\n    convertToGIF: function (canvas, width, height) {\n      return convertToImage(canvas, width, height, 'gif');\n    },\n    convertToBMP: function (canvas, width, height) {\n      return convertToImage(canvas, width, height, 'bmp');\n    },\n  };\n\n}();\n\nexport default Canvas2Image;\n","import { throttle, convertColor} from \"./index\";\nimport md5 from \"blueimp-md5\";\nimport html2canvas from \"html2canvas\";\nimport Canvas2Image from \"./canvas2image\";\n\nconst IS_TOUCH = 'ontouchstart' in window,\n getXY = IS_TOUCH\n? e => {\nconst touch = e.touches[0] || e.changedTouches[0]\nreturn touch ? {\n    x: touch.pageX,\n    y: touch.pageY\n} : { x: 0, y: 0 }\n}\n: e => {\n   var e = event || window.event;\n   var x = e.pageX || e.clientX + getScroll().x;\n   var y = e.pageY || e.clientY + getScroll().y;\n   return {x, y};\n}\n\nfunction wrapRangeInTextNode(node,start,end,color,id) {\n    const hEl = 'light',\n        startNode = node.splitText(start),\n        ret = startNode.splitText(end - start);\n    let highlightEl = document.createElement(hEl);\n    highlightEl.dataset.highlight=id;\n    highlightEl.style.backgroundColor=color;\n    const {textColor,rgb} = convertColor(color);\n    const bottomColor = `rgb(${(rgb[0]-30)},${(rgb[1]-30)},${(rgb[2]-30)})`;\n    const bgColor = `rgba(${rgb.toString()},1)`;\n    highlightEl.style=`--bgcolor:${bgColor};--color:${textColor};--bgbottomcolor:${bottomColor}`;\n\n    highlightEl.textContent = startNode.textContent;\n    if(color==='rgba(1,1,1,0.5)'){\n        highlightEl.dataset.mask = '1';\n    }\n    startNode.parentNode.replaceChild(highlightEl, startNode);\n    return ret;\n}\n\n// <div>ab<div>  ab\nconst highlightElement = function (node,keyword,color){\n    const matchReg = new RegExp(keyword);\n    if (node.nodeType === 3) { // 文本节点\n        let match = node.data.match(matchReg);\n        if (match) {\n            wrapRangeInTextNode(node,match.index,match.index+match[0].length,color);\n        }\n    } else if (node.nodeType === 1 && node.childNodes&& // only element nodes that have children\n        !/(script|style)/i.test(node.tagName) // ignore script\n        && node.dataset.highlight!==\"y\"\n    ) {\n        for (let i = 0; i < node.childNodes.length; i++) {\n            highlightElement(node.childNodes[i],keyword,color);\n            i++\n        }\n    }\n},\n\n\nhighlightKeyword = function (wid,element,text,hightlight,color='',blackNodes=[],callback){\n    if(!element || !text){\n        callback({\n            totalMatches:0\n        });\n        return;\n    }\n    const id = md5(wid+text);\n    // 如果是还原 则不进行之后操作\n    if(!hightlight){\n        const highlightElements = element.querySelectorAll(`light[data-highlight='${id}']`);\n        //还原高亮，即便是高亮 也要先还原高亮\n        for(let i=0; i<highlightElements.length; i++){\n            const ele = highlightElements[i];\n            ele.outerHTML = [].find.call(ele.childNodes,((node)=>{\n                return node.nodeType === 3 || node.nodeName==='#text'\n            })).textContent;\n        }\n        const leftHighlight = element.querySelectorAll('light[data-highlight]');\n        // if(leftHighlight.length===0){\n        //     delete element.dataset.highlightbk\n        // }\n        return\n    }\n\n    // element.dataset.highlightbk=\"y\";\n    let totalMatches = 0,kwArr=[text];\n    const dict = getTextNodes(element);\n    dict.id = id;\n    dict.color = color;\n    let hasLighted = 0;\n    const handler = kw => {\n        const regex = new RegExp(text.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&').replace(/[\\s]+/gmi, '[\\\\s]+'),'gmi');\n        let matches = 0;\n        wrapMatchesAcrossElements(dict,regex, 0, (term, node) => {\n            const isBlack = blackNodes.some((black)=>{\n                return black.contains(node);\n            });\n            const parent = node.parentNode || document.body;\n            hasLighted = parent.dataset.highlight?hasLighted+1:hasLighted;\n            // 黑名单和已高亮过的不做高亮处理\n            const valid = !isBlack && !parent.dataset.highlight;\n            return valid;\n        }, element => {\n            matches++;\n            totalMatches++;\n            // console.log('each callback',element);\n        }, () => {\n            if (matches === 0) { // TODO 往上级寻找节点\n                // console.log('没有匹配项')\n            }\n            if (kwArr[kwArr.length - 1] === kw) {\n                // console.log('关键词已匹配完')\n            } else {\n                handler(kwArr[kwArr.indexOf(kw) + 1]);\n            }\n        });\n    };\n    if(kwArr.length === 0){\n        // console.log('done totalMatch')\n    } else {\n        handler(kwArr[0]);\n        if(totalMatches===0){\n            setTimeout(()=>{\n                handler(kwArr[0]);\n            },2000)\n        }\n        typeof callback === 'function' && callback({\n            totalMatches: totalMatches || hasLighted,\n            id: dict.id,\n        });\n    }\n};\n\nlet lock = false\nconst gotoPosition = function(element,targetX,targetY,onFinished){\n    if(lock){\n        // 互斥锁\n        setTimeout(()=>{\n            gotoPosition(element,targetX,targetY,onFinished)\n        },1000)\n        return;\n    }\n    lock = true;\n    const callback = function () {\n        lock = false;\n        typeof onFinished === \"function\" && onFinished()\n    }\n    if(!element){\n        callback()\n    }\n    const inBottomView = targetY>document.documentElement.clientHeight/2;\n    // 优先使用算法，移动到视野的 1/3位置，然后计算确认，兜底使用scrolltoView\n    if(inBottomView && element&&element.scrollIntoView){\n        element.scrollIntoView({block:\"center\",behavior:'smooth'});\n        typeof callback === \"function\" && setTimeout(()=>callback(),100);\n        return;\n    }\n    const timer = setInterval(function () {\n        //移动前\n        const { x:beforeScrollLeft,y:beforeScrollTop} = getScroll();\n        const distanceX = targetX - beforeScrollLeft\n        , distanceY =  targetY - beforeScrollTop\n\n        //移动后\n        setScroll(beforeScrollLeft+distanceX/6,beforeScrollTop+distanceY/6)\n\n        const {x:afterScrollLeft,y:afterScrollTop} = getScroll()\n\n        if(beforeScrollTop === afterScrollTop && beforeScrollLeft === afterScrollLeft){\n            clearInterval(timer)\n            callback();\n        }\n    },30)\n    function setScroll(x,y){\n        documentTarget.scrollLeft = x;\n        documentTarget.scrollTop = y;\n        window.scrollTo(x,y)\n    }\n    return\n}\n\nconst documentTarget = document.documentElement || document.body\nfunction getScroll(){\n    var x = window.pageXOffset || documentTarget.scrollLeft || documentTarget.scrollLeft;\n    var y = window.pageYOffset || documentTarget.scrollTop || documentTarget.scrollTop;\n    return {x,y}\n}\n\n\n\n//TODO 获取元素位于body相对位置信息 getViewPosition + getScroll\n\nfunction getViewPosition(elem) { // crossbrowser version\n    var box = elem.getBoundingClientRect();\n    return { top: box.top, left: box.left, };\n}\n\nfunction getTextNodes(element) {\n    let nodes = [];\n    const filter = {\n        acceptNode: function (node) {\n            const condition = node.nodeType === 3;\n            return condition ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_REJECT\n        }\n    };\n    const iter = document.createNodeIterator(element, NodeFilter.SHOW_TEXT, filter, false);\n    let tempNote;\n    let val = '';\n    while (tempNote = iter.nextNode()) {\n        nodes.push({\n            node: tempNote,\n            start: val.length,\n            end: (val += tempNote.textContent).length\n        })\n    }\n    const dict = {\n        nodes: nodes,\n        value: val,\n    };\n    return dict;\n}\n\nfunction wrapMatchesAcrossElements(dict,regex, ignoreGroups, filterCb, eachCb, endCb) {\n    const matchIdx = ignoreGroups === 0 ? 0 : ignoreGroups + 1;\n    let match;\n    while (\n        (match = regex.exec(dict.value)) !== null &&\n        match[matchIdx] !== ''\n        ) {\n        // calculate range inside dict.value\n        let start = match.index;\n        if (matchIdx !== 0) {\n            for (let i = 1; i < matchIdx; i++) {\n                start += match[i].length;\n            }\n        }\n        const end = start + match[matchIdx].length;\n        // note that dict will be updated automatically, as it'll change\n        // in the wrapping process, due to the fact that text\n        // nodes will be splitted\n        wrapRangeInMappedTextNode(dict, start, end, node => {\n            return filterCb(match[matchIdx], node);\n        }, (node, lastIndex) => {\n            // console.log(node,lastIndex)\n            regex.lastIndex = lastIndex;\n            eachCb(node);\n        });\n    }\n    endCb();\n}\n\nfunction wrapRangeInMappedTextNode(dict, start, end, filterCb, eachCb) {\n    // iterate over all text nodes to find the one matching the positions\n    dict.nodes.every((n, i) => {\n        const sibl = dict.nodes[i + 1];\n        if (typeof sibl === 'undefined' || sibl.start > start) {\n            if (!filterCb(n.node)) {\n                return false;\n            }\n            // map range from dict.value to text node\n            const s = start - n.start,\n                e = (end > n.end ? n.end : end) - n.start,\n                startStr = dict.value.substr(0, n.start),\n                endStr = dict.value.substr(e + n.start);\n            n.node = wrapRangeInTextNode(n.node, s, e,dict.color,dict.id);\n            // recalculate positions to also find subsequent matches in the\n            // same text node. Necessary as the text node in dict now only\n            // contains the splitted part after the wrapped one\n            dict.value = startStr + endStr;\n            dict.nodes.forEach((k, j) => {\n                if (j >= i) {\n                    if (dict.nodes[j].start > 0 && j !== i) {\n                        dict.nodes[j].start -= e;\n                    }\n                    dict.nodes[j].end -= e;\n                }\n            });\n            end -= e;\n            eachCb(n.node.previousSibling, n.start);\n            if (end > n.end) {\n                start = n.end;\n            } else {\n                return false;\n            }\n        }\n        return true;\n    });\n}\n\nfunction getWebIcon() {\n    const iconEle = document.querySelector('link[rel~=icon]');\n    return iconEle ? iconEle.href : window.location.origin+'/favicon.ico';\n}\n\nfunction convertImgToBase64(url,width,height, callback, outputFormat){\n    var canvas = document.createElement('CANVAS');\n    var ctx = canvas.getContext('2d');\n    var img = new Image;\n    img.crossOrigin = 'Anonymous';\n    img.onload = function(){\n        var width = img.width;\n        var height = img.height;\n        // 按比例压缩4倍\n        // var rate = (width<height ? width/height : height/width)/4;\n\n        canvas.width = width;\n        canvas.height = height;\n        ctx.drawImage(img,0,0,width,height,0,0,width,height);\n        var dataURL = canvas.toDataURL(outputFormat || 'image/png');\n        callback.call(this, dataURL);\n        canvas = null;\n    };\n    img.src = url;\n}\n\n\nfunction moveable(element,callback,childMove=true) {\n    if(!element) {\n        return\n    }\n    const isMobile = 'ontouchstart' in window;\n    element.style.cursor = 'move';\n    let canMove = false;\n    const downEvent = isMobile?'touchstart':'mousedown';\n    element.addEventListener(downEvent,function (e) {\n        if(childMove===false && e.target !== element){\n            return;\n        }\n        e.stopPropagation();\n        setTimeout(()=>{\n            canMove = true;\n        },300);\n    },{capture: true});\n    const upEvent = isMobile?'touchend':'mouseup';\n    document.addEventListener(upEvent,function () {\n        canMove = false;\n        setTimeout(()=>{\n            canMove = false;\n            document.body.style.userSelect='auto';\n        },300)\n    },{capture: true});\n    const moveEvent = isMobile?'touchmove':'mousemove';\n    document.addEventListener(moveEvent,throttle(function (e) {\n        if(canMove){\n            document.body.style.userSelect='none';\n            callback(isMobile?e.touches[0]:e)\n        }\n    },1000/60),{capture: true})\n}\n\nfunction writeTextToClipboard(text) {\n    try {\n        return  navigator.clipboard.writeText(text)\n    } catch (e) {\n        const textarea = document.createElement('textarea');\n        textarea.textContent = text;\n        document.body.appendChild(textarea);\n        textarea.select();\n        document.execCommand('Copy', false, null);\n        document.body.removeChild(textarea)\n    }\n}\n\nfunction captureElementImage(target) {\n    return new Promise((resolve,reject)=>{\n        html2canvas(target,{\n            useCORS: true,\n            ignoreElements: function (element) {\n                const isPagenote = element.tagName.toLowerCase().indexOf('pagenote')>-1;\n                const unVisiable = getComputedStyle(element).opacity<=0;\n                return isPagenote || unVisiable;\n            }\n        }).then((canvas)=>{\n            const result = Canvas2Image.convertToImage(canvas,target.offsetWidth,target.scrollHeight).src;\n            resolve(result);\n        }).catch((e)=>{\n            reject(e);\n        })\n    });\n}\n\nvar showCamera = function (snapshot) {\n    const camera = document.createElement('pagenote-camera');\n    const tip = '个快照';\n    camera.innerHTML = `<div class='pagenote-camera-container'>\n                                  <div class='camera-top'>\n                                    <div class='zoom'></div>\n                                    <div class='mode-changer'></div>\n                                    <div class='sides'></div>\n                                    <div class='range-finder'></div>\n                                    <div class='focus'></div>\n                                    <div class='red'></div>\n                                    <div class='view-finder'></div>\n                                    <div class='flash'>\n                                      <div class='light'></div>\n                                    </div>\n                                  </div>\n                                  <div class='camera-mid'>\n                                    <div class='sensor'></div>\n                                    <div class='lens'></div> \n                                    <div class=\"tip\"><div>已拍照完成并保存，你可以在管理页进行查看、编辑。</div><button><a target=\"_blank\" href=\"https://pagenote.cn/me\">前往查看${tip}</a></button><button id=\"close-camera\">关闭摄像机<span id=\"count-down\">8s</span></button></div>\n                                  </div>\n                                  <div class='camera-bottom'></div>\n                                  <div class=\"camera-picture\"><img src=${snapshot} alt=\"\"></div>\n                                </div>`;\n    document.body.appendChild(camera);\n\n\n    let time = 8;\n    const timer = setInterval(()=>{\n        document.getElementById('count-down').innerText = time + 's';\n        time--;\n        if(time<=0){\n            destoryCa();\n        }\n    },1000);\n\n    function destoryCa() {\n        camera.parentNode.removeChild(camera);\n        clearInterval(timer);\n    };\n\n    document.getElementById('close-camera').onclick = destoryCa;\n};\n\nexport {\n    gotoPosition,\n    getScroll,\n    highlightKeyword,\n    getWebIcon,\n    getViewPosition,\n    moveable,\n    writeTextToClipboard,\n    captureElementImage,\n    convertImgToBase64,\n    showCamera\n}\n","import defaultLangeObject from './zh_CN.json';\n\nlet language = 'zh_CN';\nconst defaultLanguage = 'zh_CN';\nlet i18nObject = {\n  [defaultLanguage]: defaultLangeObject,\n};\n\nexport default {\n  setLang: function (lang,values){\n    i18nObject[lang] = values;\n  },\n  t: function (key,values=[]){\n    const langObject = i18nObject[language] || i18nObject[defaultLanguage] || {};\n    let message = langObject[key] ? langObject[key].message : key;\n    message = message.replace(/\\$\\{.*?\\}/,values[0]);\n    return message;\n  },\n  setLangType: function (lang){\n    language = lang;\n  },\n  getLangType: function (){\n    return language;\n  }\n}\n\nfunction getBrowserLanguage(){\n  let language = navigator.language || navigator.userLanguage || function (){\n    const languages = navigator.languages;\n    if (navigator.languages.length > 0){\n      return navigator.languages[0];\n    }\n  }() || 'en';\n  return language.split('-')[0];\n}\n","\nexport const BAR_STATUS = {\n    fold:'fold', // 默认状态，折叠侧边栏\n    expand:'expand', // 展开侧边栏\n};","\n// 按字符串逐字高亮\nfunction wrapMatchesAcrossElements(dict,regex, ignoreGroups, warpTagFun,filter, eachCb, endCb) {\n    const matchIdxDef = ignoreGroups === 0 ? 0 : ignoreGroups+1;\n\n    (function checkMatch(dict,matchIdx){\n        const tempMatch = regex.exec(dict.value);\n        if(tempMatch && tempMatch[matchIdx]){\n            let start = tempMatch.index;\n            if (matchIdx !== 0) {\n                for (let i = 1; i < matchIdx; i++) {\n                    start += tempMatch[i].length;\n                }\n            }\n            // 当前字符串匹配到的开始偏移量、结束偏移量\n            const end = start + tempMatch[matchIdx].length;\n\n            // 对待高亮关键词字符串，进行包裹处理 标签处理\n            wrapRangeInMappedTextNode(dict, start, end, node => {\n                return filter(tempMatch[matchIdx], node);\n            }, (node, lastIndex) => {\n                regex.lastIndex = lastIndex; // 重置上次匹配结果\n                eachCb(node);\n            });\n            checkMatch(dict,matchIdx);\n        }\n    })(dict,matchIdxDef)\n\n    endCb();\n\n    // 循环处理每一个文本节点\n    function wrapRangeInMappedTextNode(dict, start, end, filter, eachCb) {\n        // 给为for break 方式跳出\n        dict.nodes.every((n, i) => {\n            // 下一个节点\n            const sibl = dict.nodes[i + 1];\n            // 如果没有下一个节点，或者下一个节点的初始位置大于 高亮起始位置时。0-8,8-9,start 7\n            if (typeof sibl === 'undefined' || sibl.start > start) { // TODO 判断优化\n                if (!filter(n.node)) {\n                    return false;\n                }\n                // map range from dict.value to text node\n                const s = start - n.start,\n                    e = (end > n.end ? n.end : end) - n.start,\n                    startStr = dict.value.substr(0, n.start),\n                    endStr = dict.value.substr(e + n.start);\n                n.node = wrapRangeInTextNode(n.node, s, e);\n                // 重置字典待匹配字符串\n                dict.value = startStr + endStr;\n                // 修正偏移量\n                dict.nodes.forEach((k, j) => {\n                    if (j >= i) {\n                        if (dict.nodes[j].start > 0 && j !== i) {\n                            dict.nodes[j].start -= e;\n                        }\n                        dict.nodes[j].end -= e;\n                    }\n                });\n                end -= e;\n                eachCb(n.node.previousSibling, n.start);\n                if (end > n.end) {\n                    start = n.end;\n                } else {\n                    return false;\n                }\n            }\n            return true;\n        });\n    }\n\n    // 文本节点包裹处理\n    function wrapRangeInTextNode(node,start,end) {\n        const startNode = node.splitText(start)\n        const rest = startNode.splitText(end - start);\n        const replaced = warpTagFun(startNode.textContent);\n        startNode.parentNode.replaceChild(replaced, startNode);\n        return rest;\n    }\n}\n\n// 拆分一个 element，得到元素的文本节点集合，最小元素单位，element 整个文本字符串\nfunction getTextNodes(element) {\n    let nodes = [];\n    const filter = {\n        acceptNode: function (node) {\n            const condition = node.nodeType === 3;\n            return condition ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_REJECT\n        }\n    };\n    const iter = document.createNodeIterator(element, NodeFilter.SHOW_TEXT, filter, false);\n    let tempNote;\n    let val = '';\n    while (tempNote = iter.nextNode()) {\n        nodes.push({\n            node: tempNote,\n            start: val.length,\n            end: (val += tempNote.textContent).length\n        })\n    }\n    const dict = {\n        nodes: nodes,\n        value: val,\n    };\n    return dict;\n}\n\n// 处理关键词转义\nfunction formatKeyword(keyword){\n    return keyword.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&').replace(/[\\s]+/gmi, '[\\\\s]*');\n}\n\n// 高亮一个元素内的关键词，return {match:2,light:1,lights:[elements]}\nconst highlightKeywordInElement = function (element,keywords,pre='',next='',deep=20,warpTagFun,blackNodes){\n    // 返回结果\n    const result = {\n        match: 0,\n        lightsElement: [],\n    }\n    if(!element || !keywords){\n        return result;\n    }\n\n    // 包装方法，可自定义\n    warpTagFun = warpTagFun || function (text){\n        const light = document.createElement('light');\n        light.dataset.highlight='1';\n        light.style.color = 'red';\n        light.textContent = text;\n        return light;\n    };\n    const dict = getTextNodes(element);\n    const handler = (kw,pre,suffix) => {\n        const formatKw = formatKeyword(kw);\n        const formatPre = formatKeyword(pre);\n        const formatSuffix = formatKeyword(suffix);\n        const regex = new RegExp('('+formatPre+')'+'\\\\s*('+formatKw+')\\\\s*'+'('+formatSuffix+')','gmi');  // TODO 考虑pre next (${formatPre}) (${formatSuffix})\n        wrapMatchesAcrossElements(dict,regex, 1,warpTagFun, (term, node) => {\n            const isBlack = blackNodes.some((black)=>{\n                return black.contains(node);\n            });\n            const parent = node.nodeType===3 ? node.parentNode : node;\n            let hasLighted = !!parent.dataset.highlight;\n            return !isBlack && !hasLighted && node.tagName!=='LIGHT';\n        }, element => {\n            result.lightsElement.push(element);\n        }, () => {\n\n        });\n    };\n\n    handler(keywords,pre,next);\n    return result;\n};\n\n// 移除高亮、还原\nconst removeElementHighlight = function (query){\n    let element;\n    if(typeof query==='string'){\n        element = document.querySelector(query);\n    }else if(query instanceof HTMLElement){\n        element = query;\n    }\n\n    if(element.dataset.type==='img'){\n        element.outerHTML = element.innerHTML;\n    }else {\n        const result = [].find.call(element.childNodes,((node)=>{\n            return node.nodeType === 3 || node.nodeName==='#text'\n        }));\n        element.outerHTML = result?result.textContent : element.textContent;\n    }\n}\n\nexport {\n    highlightKeywordInElement,\n    removeElementHighlight,\n}\n","// @ts-nocheck // TODO enable\nimport md5 from \"blueimp-md5\";\nimport {highlightKeywordInElement, removeElementHighlight} from \"./utils/highlight\";\nimport { whats } from './utils/index'\nimport {convertColor} from \"./utils/index\";\nimport {gotoPosition} from \"./utils/document\";\n\nexport interface StepProps {\n  x: number,\n  y: number,\n  id: string,\n  text?: string,\n  tip?: string,\n  bg: string,\n  isActive: boolean,\n  offsetX?: boolean,\n  offsetY?: boolean,\n  parentW?: number,\n  pre? : string,\n  suffix?: string,\n  images?: string[],\n  lightBg?: string,\n  daskBg?: string,\n  lightId?: string,\n  isFocus?: boolean,\n  level: number, // 高亮层级\n  [other: string]: any,\n}\n\nclass Step {\n    private lightBg: string;\n    private darkBg: string;\n    private lightId: any;\n    private relatedNode: any[];\n    private isInview: boolean;\n    private isFocus: boolean;\n    constructor(info: StepProps,pagenote:object) {\n      pagenote.CONSTANT.STORE_KEYS_VERSION_2_VALIDATE.forEach((key: string)=>{\n        this[key] = info[key];\n        });\n        const {rgb}:object = convertColor(info.bg);\n        this.lightBg = `rgb(${(rgb[0]+10)},${(rgb[1]+10)},${(rgb[2]+10)})`;\n        this.darkBg = `rgb(${(rgb[0]-30)},${(rgb[1]-30)},${(rgb[2]-30)})`;\n        this.lightId = md5(info.id+info.text);\n        this.isFocus = false; // 是否 hover focus\n        // noinspection JSConstantReassignment\n        this.relatedNode = []; // 关联的dom元素\n        this.isInview = false; // 是否在视野内\n        this.level = info.level === undefined ? 1 : info.level\n        this.pagenote = pagenote\n    }\n\n    protected pagenote;\n\n    public delete (e: { stopPropagation: () => any; }) {\n      const pagenote = this.pagenote;\n      for(let i=0; i<pagenote.recordedSteps.length; i++){\n        if(this.lightId===pagenote.recordedSteps[i].lightId){\n          this.relatedNode.forEach((element: any)=>{\n            removeElementHighlight(element);\n          })\n          pagenote.remove(i);\n          break;\n        }\n      }\n      e && e.stopPropagation();\n    }\n\n}\n\nStep.prototype.toggle = function (isLight: Boolean,goto=true) {\n  let light = isLight;\n  const pagenote = this.pagenote;\n  for(let i=0; i<pagenote.recordedSteps.length; i++){\n    if(this.lightId===pagenote.recordedSteps[i].lightId){\n\n      if(light===undefined && this.relatedNode && this.relatedNode.length){\n        const elementInfo = whats.compute(this.relatedNode[0]);\n        if(elementInfo.visible===false && light===undefined){\n          light = true;\n        } else {\n          light = !this.isActive;\n        }\n      }else{\n        isLight!==undefined?isLight:!this.isActive\n      }\n      pagenote.replay(i, goto, false, light);\n      break;\n    }\n  }\n};\n\nStep.prototype.highlight = function (isActiveLight){\n  const runStep = this;\n  runStep.isActive = isActiveLight;\n\n  if(this.relatedNode && this.relatedNode.length){\n    this.relatedNode.forEach((element)=>{\n      element.dataset.active = isActiveLight ? '1' : '0';\n    })\n    return;\n  }\n\n  const color = runStep.bg;\n  // 高亮元素\n  const warpFun = function (text,children){\n    const light = document.createElement('light');\n    const {textColor,rgb} = convertColor(color);\n    const bottomColor = `rgb(${(rgb[0]-30)},${(rgb[1]-30)},${(rgb[2]-30)})`;\n    const bgColor = `rgba(${rgb.toString()},1)`;\n    light.style.backgroundColor=runStep.bg;\n    light.style=`--bgcolor:${bgColor};--color:${textColor};--bgbottomcolor:${bottomColor}`;\n    if(text){\n      light.textContent = text;\n    }\n    if(children){\n      // 已高亮过不再高亮\n      if(children && children.parentNode.tagName==='LIGHT'){\n        return children;\n      }\n      light.dataset.type='img'\n      light.appendChild(children.cloneNode());\n    }\n\n    light.dataset.highlight = runStep.lightId;\n    if(runStep.tip){\n      light.dataset.note = '1'\n    }\n    if(color==='rgba(1,1,1,0.5)'){\n      light.dataset.mask = '1';\n    }\n    light.dataset.active = isActiveLight ? '1' : '0';\n    light.dataset.note = !!runStep.tip?'1':''\n\n    light._light = runStep;\n    return light;\n  }\n  let targetEl = null;\n  let timer = null;\n  (function findElement(times){\n    targetEl = whats.getTarget(runStep.id);\n    clearTimeout(timer);\n    if(targetEl){\n      highlightElement(targetEl);\n      (runStep.images||[]).forEach((item)=>{\n        const imageElement = whats.getTarget(item.id);\n        if(imageElement){\n          const lightedImg = warpFun('',imageElement);\n          const parent = imageElement.parentNode;\n          parent.replaceChild(lightedImg,imageElement);\n          runStep.relatedNode.push(lightedImg);\n        }\n      })\n    }else if(times<3){\n      timer = setTimeout(()=>{\n        findElement(++times)\n      },3000)\n    }else{\n      highlightElement(document.body,true)\n    }\n  })(0)\n\n  function highlightElement(target,missParent){\n    if(!runStep.text){\n      return;\n    }\n    const result = highlightKeywordInElement(target,runStep.text,runStep.pre,  runStep.suffix,null,warpFun,runStep.pagenote.blackNodes);\n    runStep.warn = result.match ? '' : '未找到匹配内容';\n    runStep.missParent = missParent;\n    runStep.relatedNode.push(...result.lightsElement);\n  }\n}\n\nStep.prototype.gotoView = function (callback=function(){}){\n  let targetEl = this.relatedNode?this.relatedNode[0]:null;\n  if(!targetEl){\n    try{\n      targetEl = whats.getTarget(this.id);\n    }catch (e){\n\n    }\n  }\n  return gotoPosition(targetEl,this.x-window.innerWidth/2,this.y-window.innerHeight/3,()=>{\n    callback();\n  })\n}\n\nStep.prototype.changeColor = function(color: string){\n  this.bg = color;\n  const {textColor: textColor, rgb: rgb} = convertColor(color);\n  const bottomColor = `rgb(${(rgb[0]-30)},${(rgb[1]-30)},${(rgb[2]-30)})`;\n  const bgColor = `rgba(${rgb.toString()},1)`;\n\n  this.relatedNode.forEach((item: HTMLElement)=>{\n    item.style=`--bgcolor:${bgColor};--color:${textColor};--bgbottomcolor:${bottomColor}`;\n  });\n  this.darkBg = bottomColor;\n  this.lightBg = `rgb(${(rgb[0]+10)},${(rgb[1]+10)},${(rgb[2]+10)})`;\n  this.save();\n};\n\nStep.prototype.save = function (callback: Function) {\n  this.pagenote.makelink((...arg: any)=>{\n    typeof callback==='function'&&callback(...arg)\n  });\n};\n\nStep.prototype.checkInSign = function (){\n  const result =  this.relatedNode.some((item: HTMLElement)=>{\n   const position = item.getBoundingClientRect();\n   const inSign =  position.top > 0 && position.top < window.innerHeight;\n   return inSign;\n  });\n  this.pagenote.triggerListener();\n  this.isInview = result;\n  return result;\n}\n\n\nfunction Steps(option: { max: number; }, pagenote: this) {\n  this.option = option;\n  this.__proto__.pagenote = pagenote;\n}\nSteps.prototype = Array.prototype;\nSteps.prototype.add = function (item) {\n  if(item.save){ // TODO  item instanceof Step 判断异常？\n    this.push(item);\n  }else{\n    console.error('非法类型',item,item.prototype,item.__proto__,Step.constructor);\n  }\n};\n// @ts-ignore-end\n\n\nexport {\n  Step,\n  Steps,\n}\n","import debounce from 'lodash/debounce';\nimport {getWebIcon, captureElementImage, showCamera} from './utils/document'\nimport {decryptedData, encryptData, getParams, prepareSelectionTarget, throttle, whats} from \"./utils\";\nimport i18n from \"./locale/i18n\";\nimport { BAR_STATUS } from \"./const\";\nimport {Step} from './pagenote-step';\n// import debug from \"./utils/debug\";\nimport './assets/styles/camera.scss'\nimport './assets/iconfont/icon.css'\n//whats getTarget try catch  同时计算出多个 进行长度比较 取最优的\n//将所有常用量进行存储 此处是全局 避免和原本常亮冲突 放到 constant里面\n\n//增加开关 是否开启\nexport default function PagenoteCore(id, options={}){ // TODO 支持载入语言包\n    this.id = id || \"pagenote-container\";\n    this.options =  Object.assign({\n        initType:'default',\n        dura:100,\n        saveInURL: false,\n        saveInLocal: true,\n        maxMarkNumber:50,\n        enableMarkImg: false,\n        blacklist:[],\n        autoLight: false,\n        brushes:[\n            {\n                bg:'rgba(114,208,255)',\n                shortcut:'p',\n                label:'',\n                level:1,\n            },{\n                bg:'#ffbea9',\n                shortcut:'n',\n                label:'',\n                level:1,\n            }\n        ],\n        barInfo:{\n            right:2,\n            top:100,\n            status: BAR_STATUS.fold,\n        },\n        actionBarOffset:{\n          offsetX: 10,\n          offsetY: 20,\n        },\n        showIconAnimation: true,\n        onShare: null, // function\n        functionColors:[],\n        sideBarActions:[],\n        categories:[],\n        showBarTimeout: 20,\n        keyupTimeout: 500,\n        debug: false,\n    },options);\n    this.status = this.CONSTANT.UN_INIT;\n    this.recordedSteps = [];\n    this.snapshots = [];\n    this.categories = new Set();\n    this.note='';\n    this.score=0; // 评分系统\n    this.runindex = null;\n    const runBarInfo = JSON.parse(JSON.stringify(this.options.barInfo));\n    runBarInfo.status = runBarInfo.status || 'fold';\n    this.runningSetting = Object.assign({},{\n        initType: this.options.initType,\n        dura: this.options.dura,\n        autoLight: this.options.autoLight,\n        barInfo: runBarInfo,\n    });\n    this.target = null\n    this.lastEvent = null;\n    //用户用户复制的 分享的URL\n    this.url = window.location.href\n    //只提供读方法\n    this.data = \"\" //PagenoteCore 使用的原始数据字符串\n    this.plainData = {} // 与 data 配套，明文的存储数据\n    this.blackNodes = []\n    this.lastaction = this.CONSTANT.DIS_LIGHT\n    let status,\n        nextTimer,\n        runningTimer\n\n    let modal = null;// pagenote 弹框，避免重复出现\n\n    // 全局变量\n    const CALLBACKFUN = [],\n          NULL = null,\n          constant = this.CONSTANT,\n          OPTIONS = this.options,\n          // 网站配置的setting设置\n          location = window.location,\n          emptyString = \"\",\n          isMoble = \"ontouchstart\" in window,\n          blackNodes = this.blackNodes;\n\n\n    let hasListened = false;\n    // TODO 初始化动效\n    this.init = function(initData,sync=false){ // 为一段加密过的数据信息\n        initData = initData||getParams().paramObj[constant.ID];\n        if(!initData && this.options.saveInLocal){\n            initData = localStorage.getItem(this.id)\n        }\n        let simpleStep = [];\n        let setting = {};\n        let dataVersion = 1;\n        if(initData){\n            try {\n                let dataObject = {};\n                if(typeof initData === 'object' && initData.steps){\n                    dataObject = initData;\n                    simpleStep = initData.steps || [];\n                    setting = initData.setting || {};\n                }\n                else if(typeof initData === 'string'){\n                    dataObject = decryptedData(initData);\n                    simpleStep = dataObject.steps || [];\n                    setting = dataObject.setting || {};\n                }\n                this.snapshots = Array.isArray(dataObject.snapshots) ? dataObject.snapshots : [];\n                this.categories = new Set(dataObject.categories||[dataObject.category]);\n                this.note = dataObject.note;\n                dataVersion = dataObject.version || 1;\n            }catch (e) {\n                console.error('解析step异常',e,initData);\n            }\n        }\n        this.recordedSteps.splice(0,this.recordedSteps.length);\n        simpleStep.forEach((step)=>{\n            const newStep = new Step(step,this);\n            this.recordedSteps.push(newStep);\n        });\n        // 修改当前设置项\n        this.runningSetting = Object.assign(this.runningSetting,setting);\n\n        // 黑名单初始化\n        setTimeout(()=>{\n            [...OPTIONS.blacklist,'.no-pagenote','*[data-pagenote]','*[contenteditable=\"true\"]'].forEach((queryId)=>{\n                [].forEach.call(document.querySelectorAll(queryId),(blockElement)=>{\n                    blackNodes.push(blockElement)\n                });\n            })\n        },0); // timeout 方式元素还未渲染出来\n\n        [].forEach.call(document.querySelectorAll('light[data-highlight]'),function (element) {\n            element.outerHTML = element.innerHTML;\n        });\n\n        switch (this.runningSetting.initType) {\n            case 'light':\n                this.replay(0,false,true,true);\n                break;\n            case 'default':\n                this.replay(0,false,true,function (step) {\n                    return step.isActive;\n                });\n                break;\n            case 'off':\n                // this.recordedSteps.forEach((tempStep)=>{\n                //     tempStep.isActive = false;\n                // });\n                break;\n        }\n        // 销毁 pagenote ，删除所有监听\n        if(!hasListened){\n            hasListened = true;\n\n            upListen.call(this);\n\n            function upListen() {\n                const that = this;\n                const upEvent = isMoble?'touchend':'mouseup';\n                const downEvent = isMoble?'touchstart' :'mousedown';\n                const mouseMove = 'mousemove';\n\n                const timeout = that.options.showBarTimeout || 0;\n                let lastActionTime = 0;\n                let showBarTimer = null;\n                let isPressingMouse = false;\n                let lastPosition = {};\n                let startPosition = {};\n\n                // 轮询检测\n                let loopCheckStartTime = 0;\n                function loopCheck(){\n                    loopCheckStartTime = new Date().getTime();\n                    clearInterval(showBarTimer)\n                    showBarTimer = setInterval(function () {\n                        checkShow(new Date().getTime(),function (result) {\n                            if(result){\n                                clearInterval(showBarTimer)\n                            } else {\n                                const loopDuration = new Date().getTime() - loopCheckStartTime;\n                                // 最多轮询10s，防止死循环\n                                if(loopDuration > 3 * 1000){\n                                    clearInterval(showBarTimer)\n                                }\n                            }\n                        })\n                    },100)\n                    return showBarTimer;\n                }\n\n                // 检测是否出bar,判断时长 是否按压、是否有选区\n                function checkShow(currentTime,callback) {\n                    const timeGap = (currentTime || new Date().getTime()) - lastActionTime;\n                    that.target = prepareSelectionTarget(blackNodes,that.options.enableMarkImg, [startPosition,lastPosition])\n                    // 满足计算条件\n                    const computeResult = !!that.target && timeGap>=timeout && isPressingMouse;\n                    if(computeResult){\n                        that.showActionBar();\n                    }else{\n                        that.hideActionBar()\n                    }\n                    callback && callback(computeResult);\n                }\n\n\n                const debounceTime = 20;\n                const selectionChange = throttle((e)=>{\n                    lastActionTime = new Date().getTime();\n                    if(document.getSelection().rangeCount===0){\n                        this.hideActionBar();\n                        return\n                    }\n                    if(timeout>0){\n                        checkShow(null,function (result,target) {\n                            if(!result){\n                                loopCheck()\n                            }\n                        })\n                    }\n\n                },debounceTime)\n                const onMouseMove = debounce(function(e) {\n                    if(!isPressingMouse){\n                        return\n                    }\n                    lastPosition = e;\n                },60)\n\n                document.addEventListener('selectionchange',selectionChange,{capture:true});\n\n                document.addEventListener(downEvent,(e)=>{\n                    that.lastEvent = e;\n                    isPressingMouse = true;\n                    startPosition = e;\n                    lastActionTime = new Date().getTime();\n                    document.addEventListener(mouseMove,onMouseMove);\n                },{capture:true})\n\n                document.addEventListener(upEvent,(e)=>{\n                    that.lastEvent = e;\n                    lastPosition = e;\n                    checkShow();\n                    lastActionTime = new Date().getTime();\n                    isPressingMouse = false;\n                    clearInterval(showBarTimer)\n                    document.removeEventListener(mouseMove,onMouseMove);\n                },{capture:true});\n            }\n\n            const extensionActions = {};\n            this.options.functionColors.forEach((actionGroup,groupIndex)=>{\n                actionGroup.forEach((action,itemIndex)=>{\n                    action.eventid = groupIndex + itemIndex + Math.random();\n                    if(action.shortcut){\n                        extensionActions[action.shortcut.toLowerCase()] = action.onclick;\n                    }\n                });\n            });\n\n            let lastKeydownTime = 0;\n            const that = this;\n            const keyupTimeout = this.options.keyupTimeout || 0;\n            let keyCheckTimer = null;\n            function handleKey(key,e) {\n                clearTimeout(keyCheckTimer)\n                const timeGap = new Date().getTime() - lastKeydownTime;\n                if(timeGap >= keyupTimeout && lastKeydownTime!==0){\n                    lastKeydownTime = 0\n                    key = key.toLowerCase();\n                    // 高亮快捷键处理\n                    const doHighlight = that.target && that.target.canHighlight===true;\n                    // 获取画笔\n                    const brush = that.options.brushes.find((colorItem)=>{\n                        return colorItem.shortcut && colorItem.shortcut.toLowerCase() === key;\n                    });\n                    if(doHighlight && brush){\n                        that.record({\n                            bg: brush.bg,\n                            level: brush.level, // TODO 支持 level 级别参数\n                        },true);\n                    } else if(typeof extensionActions[key] === 'function'){ // 扩展插件快捷键\n                        extensionActions[key](e,that.target);\n                    }\n                }else {\n                    keyCheckTimer = setTimeout(()=>{\n                        handleKey(key,e)\n                    },keyupTimeout/4)\n                }\n            }\n\n            document.addEventListener('keydown',(e)=>{\n                if(lastKeydownTime===0){\n                    lastKeydownTime = new Date().getTime()\n                }\n                handleKey(e.key,e)\n            },{capture:true})\n\n            // 监听单独提取为一个文件 hotkeys\n            document.addEventListener('keyup',(e)=>{\n                lastKeydownTime = 0\n                handleKey(e.key,e)\n                clearTimeout(keyCheckTimer)\n            },{capture:true});\n\n\n            // url listen start\n            window.addEventListener('hashchange', ()=> {\n                this.status = constant.HASHCHANGED;\n            },{capture:true});\n            window.addEventListener('popstate', ()=> {\n                this.status = constant.URLCHANGED;\n            },{capture:true});\n\n            const originPush = window.history.pushState;\n            window.history.pushState = ()=>{\n                originPush.apply(this,arguments);\n                this.status = constant.URLCHANGED;\n            };\n            const originReplace = window.history.replaceState;\n            window.history.replaceState = ()=>{\n                originReplace.apply(this,arguments);\n                this.status = constant.URLCHANGED;\n            };\n            /*url change end*/\n        }\n        this.status = constant.READY;\n\n        if(sync){\n            this.makelink();\n        }\n    };\n\n    this.showActionBar = function () {\n        this.status = this.CONSTANT.WAITING;\n    }\n\n    this.hideActionBar = function () {\n        this.status = this.CONSTANT.PAUSE\n    }\n\n    this.destroy = function () {\n        this.status = constant.DESTROY;\n        document.querySelectorAll('light[data-highlight]').forEach((element)=>{\n            element.outerHTML = element.innerText;\n        })\n    };\n\n    this.realive = function () {\n        this.status = constant.RE_ALIVE;\n        this.replay(0,false,true,function (step) {\n            return step.isActive;\n        });\n    };\n\n    this.toggleAllLight = function () {\n        const lightAll = this.lastaction===this.CONSTANT.DIS_LIGHT;\n        this.replay(0,false,true,lightAll);\n        if(lightAll===false){\n            this.runningSetting.autoLight = false;\n        }\n        // this.makelink(callback);\n    };\n\n    this.addListener = function(fun){\n        if(typeof fun == \"function\"){\n            CALLBACKFUN.push(fun)\n        }\n    };\n\n    // success: true,faild:false 增加参数 排序方式，按时间、按网页位置（默认)\n    this.record = function(info={},forceRecord){\n        info = Object.assign(this.target,info);\n        const maxNn = OPTIONS.maxMarkNumber;\n        if(this.recordedSteps.length>=maxNn){\n            alert(i18n.t('mark_limited',[maxNn]));\n            return false\n        }\n        this.status = constant.RECORDING;\n\n        const newStep = new Step(info,this);\n        // TODO target 存储在 info 中 避免再次寻找\n        const target = whats.getTarget(info.id);\n        // captureElementImage(target).then((imageSrc)=>{\n        //     newStep.thumbnail = imageSrc;\n        //     newStep.save();\n        // });\n        this.recordedSteps.push(newStep);\n        this.recordedSteps = this.recordedSteps.sort((a,b)=>{\n            return a.y -b.y\n        });\n        window.getSelection().removeAllRanges();\n        this.target = {};\n        // 高亮文本以及图片\n        newStep.highlight(true)\n        this.makelink((result)=>{\n            if(!result){\n                alert(i18n.t('save_failed'));\n                this.recordedSteps.splice(-1,1);\n                console.error('记录失败');\n                this.status = constant.RECORDFAIL;\n                return false\n            }\n            this.status = constant.RECORDED\n        });\n        return newStep\n    };\n\n    this.remove = function(stepIndex=-1,id){\n        //删除所有\n        if(stepIndex===-1){\n            while(this.recordedSteps.length>0){\n                this.recordedSteps.splice(0,1)\n                this.replay(0,false,false)\n            }\n            this.status = constant.PAUSE\n            this.status = constant.REMOVEDALL;\n        }else {\n            this.recordedSteps.splice(stepIndex,1)\n            this.replay(stepIndex,false,false)\n            this.status = constant.REMOVED;\n        }\n        this.makelink()\n    };\n\n    // index 入参修改为array 支持断点点亮\n    this.replay = function(index=0,goto=true,autoNext=false,isActive=true){\n        const timeout=this.runningSetting.dura;\n        //TODO 根据当前窗口与记录时候窗口大小进行比较，如果差异较大 则进行提示 可能定位不准确的情况\n        const runStep = this.recordedSteps[index];\n        if(!runStep){\n            this.runindex = NULL\n            this.status = constant.DONE\n            this.makelink();\n            return\n        }\n        const isActiveLight = typeof isActive == \"function\" ? isActive(runStep) : isActive;\n\n        clearInterval(runningTimer)\n        clearTimeout(nextTimer)\n        runningTimer = nextTimer = NULL\n        //开始滚动\n        this.runindex = index\n        this.status = constant.REPLAYING\n        this.lastaction = isActiveLight ? constant.LIGHT : constant.DIS_LIGHT;\n\n        runStep.highlight(isActiveLight);\n\n        // 如果没有next了 则保存数据\n        if(!autoNext){\n            this.makelink();\n        }\n\n        if(goto){\n            runningTimer = runStep.gotoView(()=>{\n                this.runindex = NULL\n                if(autoNext){\n                    nextTimer = setTimeout(()=>this.replay(index+1,goto\n                        ,autoNext,isActive),timeout)\n                }else{\n                    this.status = constant.DONE\n                    clearTimeout(nextTimer)\n                }\n            })\n        }else if(autoNext){\n            nextTimer = setTimeout(()=>this.replay(index+1,goto\n                ,autoNext,isActive),timeout)\n        }\n        else{\n            this.runindex = NULL\n            this.status = constant.DONE\n        }\n        this.makelink();\n    };\n\n    //success no return; failed return errorMsg 持久化存储\n    this.makelink = (callback) => {\n        this.status = constant.START_SYNC;\n        store(typeof callback === 'function' ? callback : function () {\n        });\n    };\n\n    this.openModal = (activeTab='md')=>{\n\n        if(modal&&modal.show){\n            modal.changeTab(activeTab);\n            modal.initData();\n        } else {\n            modal = document.createElement('pagenote-modal');\n            modal.setAttribute('show',true);\n            modal.setAttribute('activeTab',activeTab);\n            document.body.appendChild(modal);\n        }\n    };\n\n    this._syncModal = ()=>{\n        if(modal){\n            modal.initData();\n        }\n    };\n\n    this.generateMD = ()=>{\n        let content = '';\n        const steps = this.recordedSteps;\n        const url = window.location.href;\n\n        const titleEle = document.querySelector('title');\n        const title = titleEle.innerText.trim() || '';\n\n        content += `## [${title}](${url})\\n\\n`;\n\n        steps.forEach((step)=>{\n            const refer = step.text;\n            const note = step.tip;\n            if(note!==refer&&note){\n                content += `${note}\\n`;\n            }\n            content += `> ${refer}\\n\\n`; // [${time}](${recordInfo})\n        });\n        content += '\\n';\n        content = content.trim();\n        return content;\n    };\n\n    this.notification = (message,type,duration = 3000, position={x:\"50%\",y:\"50%\"})=>{\n       const ele =  document.createElement('pagenote-notification');\n       ele.className = type || 'success';\n       ele.innerHTML = message;\n       ele.style.left = position.x || this.target.clientX || window.innerWidth/2 + 'px';\n       ele.style.top = position.y || this.target.clientY || window.innerHeight/2 + 'px';\n       document.body.appendChild(ele);\n       let timer = null;\n       setTimer();\n       ele.addEventListener('mouseover',function () {\n           ele.classList.remove('fade');\n           clearTimeout(timer);\n       },{capture:true});\n       ele.addEventListener('mouseout',function () {\n           setTimer();\n       },{capture:true});\n\n        function setTimer() {\n            ele.classList.add('fade');\n            timer = setTimeout(()=>{\n                ele.remove();\n            },duration);\n        }\n    };\n\n    this.capture = (target=document.documentElement || document.body)=>{\n        return new Promise((resolve,reject)=>{\n            captureElementImage(target).then((imageSrc)=>{\n                this.snapshots.push(imageSrc);\n                this.makelink();\n                showCamera(imageSrc);\n                resolve(imageSrc);\n            }).catch((e)=>{\n                console.error(e);\n                reject(e);\n                this.notification(i18n.t('capture_error'),'error')\n            });\n        })\n    };\n\n    const store= debounce( (callback)=> {\n        try{\n            const simpleSteps = [];\n            this.recordedSteps.forEach((step)=>{\n                const tempStep = {};\n                Object.keys(step).forEach((key)=>{\n                    if(this.CONSTANT.STORE_KEYS_VERSION_2_VALIDATE.includes(key)){\n                        tempStep[key] = step[key];\n                    }\n                });\n                simpleSteps.push(tempStep);\n            });\n\n            const differentSetting = {};\n            let diffSettingCount = 0;\n            Object.keys(this.runningSetting).forEach((key)=>{\n                if(this.runningSetting[key]!==OPTIONS[key]){\n                    differentSetting[key] = this.runningSetting[key];\n                    diffSettingCount++\n                }\n            });\n\n            const images = document.getElementsByTagName('img');\n            const storeImages = [];\n            for(let i=0; i<images.length; i++) {\n                const tempImg = images[i];\n                const {width,height,src} = tempImg;\n                if(src && width>100 && height>100 && width/height<2 && height/width<2) {\n                    storeImages.push(src);\n                }\n            }\n\n            const titleEle = document.querySelector('title');\n            const descriptionEle = document.querySelector('meta[name=description]');\n            const storeInfo={\n                steps:simpleSteps,\n                setting:{},\n                url: window.location.href,\n                lastModified:new Date().getTime(),\n                icon:getWebIcon(),\n                title: titleEle? titleEle.innerText.trim() :'',\n                description: descriptionEle? descriptionEle.content : '',\n                images: storeImages,\n                snapshots: this.snapshots,\n                version: 2,\n                categories: this.categories.size>0?Array.from(this.categories):[],\n                note: this.note,\n            };\n            if(diffSettingCount){\n                storeInfo.setting = differentSetting;\n            }else{\n                delete storeInfo.setting\n            }\n\n            // TODO 不再将数据存储在URL中，通过shareKey存储\n            const {paramObj,paramKeys} = getParams();\n            if(!paramKeys.includes(constant.ID)){\n                paramKeys.push(constant.ID)\n            }\n            paramObj[constant.ID]=simpleSteps.length?encryptData(storeInfo):'';\n            this.data = paramObj[constant.ID];\n            this.plainData = storeInfo;\n            // json parse 避免存储一些异常数据 如 function\n            const storeData = simpleSteps.length?JSON.parse(JSON.stringify(storeInfo)):{};\n            if(this.options.saveInLocal){\n                localStorage.setItem(this.id,this.data);\n            }\n\n            let searchString = '';\n            // 复原search参数\n            paramKeys.forEach((key,index)=>{\n\n                const appendShareSearch = !(key===constant.ID && simpleSteps.length===0);\n                if(appendShareSearch) {\n                    const appendInfo = paramObj[key]===undefined?'':('='+(paramObj[key]||''));\n                    searchString = searchString + key +  appendInfo + '&'\n                }\n            });\n            searchString = searchString?'?'+searchString:'';\n\n            this.url  = location.protocol+\"//\"+location.host+location.pathname+searchString+location.hash;\n\n            if(this.options.saveInURL){\n                history.pushState(emptyString, constant.ID, this.url);\n            }\n            this.status = constant.SYNCED\n            callback(storeData,this.url);\n        }catch(e){\n            this.status = constant.SYNCED_ERROR\n            console.error(e)\n            callback()\n        }\n    },1000);\n\n    //TODO 滚动到此 自动展开 ，视线离开 自动收缩\n    Object.defineProperty(this,\"status\",{get:()=>{return status},set:(value=>{\n        const originStatus = status;\n        if(originStatus===constant.DESTROY && value !== constant.RE_ALIVE){\n            return;\n        }\n        status=value;\n        if(status!==originStatus||status===constant.WAITING){\n            CALLBACKFUN.forEach(fun=>{\n                fun(value,originStatus)\n            })\n        }\n    })});\n\n    this.triggerListener = function (){\n        CALLBACKFUN.forEach(fun=>{\n            fun(this.status,this.status)\n        })\n    }\n}\n\n\nPagenoteCore.prototype.decodeData = function(data) {\n    return decryptedData(data);\n};\nPagenoteCore.prototype.encryptData = function(data) {\n    return encryptData(data)\n};\n\nPagenoteCore.prototype.i18n = i18n;\n\nPagenoteCore.prototype.CONSTANT = {\n    ID:\"pagenote\",\n    UN_INIT: -1,\n    DESTROY: -9,\n    RE_ALIVE: 99,\n    WAITING:0,\n    READY:1,\n    RECORDING:2,\n    PAUSE:3,\n    RECORDED:4,\n    REMOVED: -4,\n    REMOVEDALL: -5,\n    RECORDFAIL:5,\n    FINNISHED:6,\n    REPLAYING:7,\n    PLAYANDWAIT:8,\n    DONE:9,// 播放完毕\n    START_SYNC:100, // 开始同步\n    SYNCED:10, // 存储数据和内存对象已经同步\n    SYNCED_ERROR: -10,\n\n    URLCHANGED: 11,\n    HASHCHANGED: 12,\n\n    LIGHT: 100,\n    DIS_LIGHT: -100,\n\n    SHARE_CONFIRM: 'c',\n    SHARE_ING:'i',\n    SHARE_ERROR: 'e',\n    SHARE_SUCCESS: 's',\n\n    STORE_KEYS_VERSION_1:[\"x\",\"y\",\"id\",\"text\",\"tip\",\"bg\",\"time\",\"isActive\",\"offsetX\",\"offsetY\",\"parentW\",\"pre\",\"suffix\"],\n    STORE_KEYS_VERSION_2_VALIDATE:[\"x\",\"y\",\"id\",\"text\",\"tip\",\"bg\",\"time\",\"isActive\",\"offsetX\",\"offsetY\",\"parentW\",\"pre\",\"suffix\",\"images\",\"level\"],\n};\n\nPagenoteCore.prototype.version = \"4.7.0-typescript\";\n","\n\nimport { h } from 'preact';\n\nexport default function (props) {\n    var styles = props.styles;\n    var rest = Object.assign({}, props);\n    delete rest.styles;\n\n    return h('svg', Object.assign({\"t\":\"1599576075781\",\"class\":[styles && styles[\"icon\"] || \"icon\"].join(' '),\"viewBox\":\"0 0 1024 1024\",\"version\":\"1.1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"p-id\":\"2626\",\"data-spm-anchor-id\":\"a313x.7781069.0.i2\",\"width\":\"16\",\"height\":\"16\"}, rest), [h('path', {\"d\":\"M512 1024C229.229714 1024 0 794.770286 0 512 0 229.229714 229.229714 0 512 0 794.770286 0 1024 229.229714 1024 512 1024 794.770286 794.770286 1024 512 1024ZM768.146286 305.152 716.434286 253.366857 509.586286 460.288 302.665143 253.366857 250.953143 305.152 457.874286 512 250.953143 718.921143 302.665143 770.633143 509.586286 563.712 716.434286 770.633143 768.146286 718.921143 561.298286 512 768.146286 305.152Z\",\"fill\":\"#666666\",\"p-id\":\"2627\"}, [])]);\n};\n\n        ","\n\nimport { h } from 'preact';\n\nexport default function (props) {\n    var styles = props.styles;\n    var rest = Object.assign({}, props);\n    delete rest.styles;\n\n    return h('svg', Object.assign({\"t\":\"1619246250804\",\"class\":[styles && styles[\"icon\"] || \"icon\"].join(' '),\"viewBox\":\"0 0 1024 1024\",\"version\":\"1.1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"p-id\":\"6808\",\"width\":\"16\",\"height\":\"16\"}, rest), [h('path', {\"d\":\"M651.4 163.75l-532.06 0c-12.74 0-23.14 10.15-23.48 22.86l0 71.66c0.34 12.70000001 10.74 22.86 23.48 22.86L651.4 281.13c12.95000001 0 23.49-10.5 23.49-23.5l0-70.38c0.01-13-10.54-23.5-23.49-23.5z m0 0M119.34 570.62L580.96 570.62c13.00000001 0 23.5-10.49 23.5-23.5l0-70.38c0-13.00000001-10.5-23.5-23.5-23.5l-461.62 0c-12.66 0-23.02 10.03-23.47 22.63l0 72.11c0.45 12.61 10.81 22.64 23.47 22.64z m0 0M651.4 742.76l-532.06 0c-12.74 0-23.14 10.15-23.48 22.86l0 71.66c0.34 12.70000001 10.74 22.86 23.48 22.86L651.4 860.14c12.95000001 0 23.49-10.5 23.49-23.5l0-70.38c0.01-13-10.54-23.5-23.49-23.5z m0 0M919.61 498.48l-195.23-150.74c-10.85999999-8.77-31.43-3.82-31.43 22.24L692.95 658.41c0 31.64 20.57 31.59 31.43 22.24L919.61 529.92c10.81-8.15 10.08-22.71999999 0-31.44z m0 0\",\"p-id\":\"6809\",\"fill\":\"#ffffff\"}, [])]);\n};\n\n        ","\n\nimport { h } from 'preact';\n\nexport default function (props) {\n    var styles = props.styles;\n    var rest = Object.assign({}, props);\n    delete rest.styles;\n\n    return h('svg', Object.assign({\"t\":\"1619246124187\",\"class\":[styles && styles[\"icon\"] || \"icon\"].join(' '),\"viewBox\":\"0 0 1024 1024\",\"version\":\"1.1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"p-id\":\"4658\",\"width\":\"16\",\"height\":\"16\"}, rest), [h('path', {\"d\":\"M307.2 665.6l-204.8-153.6 204.8-153.6v307.2zM870.4 307.2H460.8a51.2 51.2 0 0 1-51.2-51.2V153.6a51.2 51.2 0 0 1 51.2-51.2h409.6a51.2 51.2 0 0 1 51.2 51.2v102.4a51.2 51.2 0 0 1-51.2 51.2z m0 307.2H460.8a51.2 51.2 0 0 1-51.2-51.2v-102.4a51.2 51.2 0 0 1 51.2-51.2h409.6a51.2 51.2 0 0 1 51.2 51.2v102.4a51.2 51.2 0 0 1-51.2 51.2z m0 307.2H460.8a51.2 51.2 0 0 1-51.2-51.2v-102.4a51.2 51.2 0 0 1 51.2-51.2h409.6a51.2 51.2 0 0 1 51.2 51.2v102.4a51.2 51.2 0 0 1-51.2 51.2z\",\"p-id\":\"4659\",\"fill\":\"#ffffff\"}, [])]);\n};\n\n        ","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import _typeof from \"@babel/runtime/helpers/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct.js\";\nimport possibleConstructorReturn from \"./possibleConstructorReturn.js\";\nexport default function _createSuper(Derived) {\n  var hasNativeReflectConstruct = isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","var raf = function raf(callback) {\n  return +setTimeout(callback, 16);\n};\n\nvar caf = function caf(num) {\n  return clearTimeout(num);\n};\n\nif (typeof window !== 'undefined' && 'requestAnimationFrame' in window) {\n  raf = function raf(callback) {\n    return window.requestAnimationFrame(callback);\n  };\n\n  caf = function caf(handle) {\n    return window.cancelAnimationFrame(handle);\n  };\n}\n\nvar rafUUID = 0;\nvar rafIds = new Map();\n\nfunction cleanup(id) {\n  rafIds.delete(id);\n}\n\nexport default function wrapperRaf(callback) {\n  var times = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n  rafUUID += 1;\n  var id = rafUUID;\n\n  function callRef(leftTimes) {\n    if (leftTimes === 0) {\n      // Clean up\n      cleanup(id); // Trigger\n\n      callback();\n    } else {\n      // Next raf\n      var realId = raf(function () {\n        callRef(leftTimes - 1);\n      }); // Bind real raf id\n\n      rafIds.set(id, realId);\n    }\n  }\n\n  callRef(times);\n  return id;\n}\n\nwrapperRaf.cancel = function (id) {\n  var realId = rafIds.get(id);\n  cleanup(realId);\n  return caf(realId);\n};","export default function contains(root, n) {\n  if (!root) {\n    return false;\n  }\n\n  return root.contains(n);\n}","import ReactDOM from 'react-dom';\n/**\n * Return if a node is a DOM node. Else will return by `findDOMNode`\n */\n\nexport default function findDOMNode(node) {\n  if (node instanceof HTMLElement) {\n    return node;\n  }\n\n  return ReactDOM.findDOMNode(node);\n}","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport { isMemo } from 'react-is';\nexport function fillRef(ref, node) {\n  if (typeof ref === 'function') {\n    ref(node);\n  } else if (_typeof(ref) === 'object' && ref && 'current' in ref) {\n    ref.current = node;\n  }\n}\n/**\n * Merge refs into one ref function to support ref passing.\n */\n\nexport function composeRef() {\n  for (var _len = arguments.length, refs = new Array(_len), _key = 0; _key < _len; _key++) {\n    refs[_key] = arguments[_key];\n  }\n\n  return function (node) {\n    refs.forEach(function (ref) {\n      fillRef(ref, node);\n    });\n  };\n}\nexport function supportRef(nodeOrComponent) {\n  var _type$prototype, _nodeOrComponent$prot;\n\n  var type = isMemo(nodeOrComponent) ? nodeOrComponent.type.type : nodeOrComponent.type; // Function component node\n\n  if (typeof type === 'function' && !((_type$prototype = type.prototype) === null || _type$prototype === void 0 ? void 0 : _type$prototype.render)) {\n    return false;\n  } // Class component\n\n\n  if (typeof nodeOrComponent === 'function' && !((_nodeOrComponent$prot = nodeOrComponent.prototype) === null || _nodeOrComponent$prot === void 0 ? void 0 : _nodeOrComponent$prot.render)) {\n    return false;\n  }\n\n  return true;\n}\n/* eslint-enable */","import ReactDOM from 'react-dom';\nexport default function addEventListenerWrap(target, eventType, cb, option) {\n  /* eslint camelcase: 2 */\n  var callback = ReactDOM.unstable_batchedUpdates ? function run(e) {\n    ReactDOM.unstable_batchedUpdates(cb, e);\n  } : cb;\n\n  if (target.addEventListener) {\n    target.addEventListener(eventType, callback, option);\n  }\n\n  return {\n    remove: function remove() {\n      if (target.removeEventListener) {\n        target.removeEventListener(eventType, callback);\n      }\n    }\n  };\n}","export default function canUseDom() {\n  return !!(typeof window !== 'undefined' && window.document && window.document.createElement);\n}","import { useRef, useEffect, forwardRef, useImperativeHandle } from 'react';\nimport ReactDOM from 'react-dom';\nimport canUseDom from './Dom/canUseDom';\nvar Portal = forwardRef(function (props, ref) {\n  var didUpdate = props.didUpdate,\n      getContainer = props.getContainer,\n      children = props.children;\n  var containerRef = useRef(); // Ref return nothing, only for wrapper check exist\n\n  useImperativeHandle(ref, function () {\n    return {};\n  }); // Create container in client side with sync to avoid useEffect not get ref\n\n  var initRef = useRef(false);\n\n  if (!initRef.current && canUseDom()) {\n    containerRef.current = getContainer();\n    initRef.current = true;\n  } // [Legacy] Used by `rc-trigger`\n\n\n  useEffect(function () {\n    didUpdate === null || didUpdate === void 0 ? void 0 : didUpdate(props);\n  });\n  useEffect(function () {\n    return function () {\n      var _containerRef$current, _containerRef$current2;\n\n      // [Legacy] This should not be handle by Portal but parent PortalWrapper instead.\n      // Since some component use `Portal` directly, we have to keep the logic here.\n      (_containerRef$current = containerRef.current) === null || _containerRef$current === void 0 ? void 0 : (_containerRef$current2 = _containerRef$current.parentNode) === null || _containerRef$current2 === void 0 ? void 0 : _containerRef$current2.removeChild(containerRef.current);\n    };\n  }, []);\n  return containerRef.current ? ReactDOM.createPortal(children, containerRef.current) : null;\n});\nexport default Portal;","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n\nfunction isPointsEq(a1, a2, isAlignPoint) {\n  if (isAlignPoint) {\n    return a1[0] === a2[0];\n  }\n\n  return a1[0] === a2[0] && a1[1] === a2[1];\n}\n\nexport function getAlignFromPlacement(builtinPlacements, placementStr, align) {\n  var baseAlign = builtinPlacements[placementStr] || {};\n  return _objectSpread(_objectSpread({}, baseAlign), align);\n}\nexport function getAlignPopupClassName(builtinPlacements, prefixCls, align, isAlignPoint) {\n  var points = align.points;\n  var placements = Object.keys(builtinPlacements);\n\n  for (var i = 0; i < placements.length; i += 1) {\n    var placement = placements[i];\n\n    if (isPointsEq(builtinPlacements[placement].points, points, isAlignPoint)) {\n      return \"\".concat(prefixCls, \"-placement-\").concat(placement);\n    }\n  }\n\n  return '';\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = arr && (typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]);\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport canUseDOM from \"rc-util/es/Dom/canUseDom\"; // ================= Transition =================\n// Event wrapper. Copy from react source code\n\nfunction makePrefixMap(styleProp, eventName) {\n  var prefixes = {};\n  prefixes[styleProp.toLowerCase()] = eventName.toLowerCase();\n  prefixes[\"Webkit\".concat(styleProp)] = \"webkit\".concat(eventName);\n  prefixes[\"Moz\".concat(styleProp)] = \"moz\".concat(eventName);\n  prefixes[\"ms\".concat(styleProp)] = \"MS\".concat(eventName);\n  prefixes[\"O\".concat(styleProp)] = \"o\".concat(eventName.toLowerCase());\n  return prefixes;\n}\n\nexport function getVendorPrefixes(domSupport, win) {\n  var prefixes = {\n    animationend: makePrefixMap('Animation', 'AnimationEnd'),\n    transitionend: makePrefixMap('Transition', 'TransitionEnd')\n  };\n\n  if (domSupport) {\n    if (!('AnimationEvent' in win)) {\n      delete prefixes.animationend.animation;\n    }\n\n    if (!('TransitionEvent' in win)) {\n      delete prefixes.transitionend.transition;\n    }\n  }\n\n  return prefixes;\n}\nvar vendorPrefixes = getVendorPrefixes(canUseDOM(), typeof window !== 'undefined' ? window : {});\nvar style = {};\n\nif (canUseDOM()) {\n  var _document$createEleme = document.createElement('div');\n\n  style = _document$createEleme.style;\n}\n\nvar prefixedEventNames = {};\nexport function getVendorPrefixedEventName(eventName) {\n  if (prefixedEventNames[eventName]) {\n    return prefixedEventNames[eventName];\n  }\n\n  var prefixMap = vendorPrefixes[eventName];\n\n  if (prefixMap) {\n    var stylePropList = Object.keys(prefixMap);\n    var len = stylePropList.length;\n\n    for (var i = 0; i < len; i += 1) {\n      var styleProp = stylePropList[i];\n\n      if (Object.prototype.hasOwnProperty.call(prefixMap, styleProp) && styleProp in style) {\n        prefixedEventNames[eventName] = prefixMap[styleProp];\n        return prefixedEventNames[eventName];\n      }\n    }\n  }\n\n  return '';\n}\nvar internalAnimationEndName = getVendorPrefixedEventName('animationend');\nvar internalTransitionEndName = getVendorPrefixedEventName('transitionend');\nexport var supportTransition = !!(internalAnimationEndName && internalTransitionEndName);\nexport var animationEndName = internalAnimationEndName || 'animationend';\nexport var transitionEndName = internalTransitionEndName || 'transitionend';\nexport function getTransitionName(transitionName, transitionType) {\n  if (!transitionName) return null;\n\n  if (_typeof(transitionName) === 'object') {\n    var type = transitionType.replace(/-\\w/g, function (match) {\n      return match[1].toUpperCase();\n    });\n    return transitionName[type];\n  }\n\n  return \"\".concat(transitionName, \"-\").concat(transitionType);\n}","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { useEffect, useState, useRef } from 'react';\nexport default function useMountStatus(defaultValue) {\n  var destroyRef = useRef(false);\n\n  var _useState = useState(defaultValue),\n      _useState2 = _slicedToArray(_useState, 2),\n      val = _useState2[0],\n      setVal = _useState2[1];\n\n  function setValue(next) {\n    if (!destroyRef.current) {\n      setVal(next);\n    }\n  }\n\n  useEffect(function () {\n    return function () {\n      destroyRef.current = true;\n    };\n  }, []);\n  return [val, setValue];\n}","import { useEffect, useLayoutEffect } from 'react';\nimport canUseDom from \"rc-util/es/Dom/canUseDom\"; // It's safe to use `useLayoutEffect` but the warning is annoying\n\nvar useIsomorphicLayoutEffect = canUseDom() ? useLayoutEffect : useEffect;\nexport default useIsomorphicLayoutEffect;","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport { STEP_PREPARE, STEP_ACTIVE, STEP_START, STEP_ACTIVATED, STEP_NONE } from '../interface';\nimport useIsomorphicLayoutEffect from './useIsomorphicLayoutEffect';\nimport useNextFrame from './useNextFrame';\nvar STEP_QUEUE = [STEP_PREPARE, STEP_START, STEP_ACTIVE, STEP_ACTIVATED];\n/** Skip current step */\n\nexport var SkipStep = false;\n/** Current step should be update in */\n\nexport var DoStep = true;\nexport function isActive(step) {\n  return step === STEP_ACTIVE || step === STEP_ACTIVATED;\n}\nexport default (function (status, callback) {\n  var _React$useState = React.useState(STEP_NONE),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      step = _React$useState2[0],\n      setStep = _React$useState2[1];\n\n  var _useNextFrame = useNextFrame(),\n      _useNextFrame2 = _slicedToArray(_useNextFrame, 2),\n      nextFrame = _useNextFrame2[0],\n      cancelNextFrame = _useNextFrame2[1];\n\n  function startQueue() {\n    setStep(STEP_PREPARE);\n  }\n\n  useIsomorphicLayoutEffect(function () {\n    if (step !== STEP_NONE && step !== STEP_ACTIVATED) {\n      var index = STEP_QUEUE.indexOf(step);\n      var nextStep = STEP_QUEUE[index + 1];\n      var result = callback(step);\n\n      if (result === SkipStep) {\n        // Skip when no needed\n        setStep(nextStep);\n      } else {\n        // Do as frame for step update\n        nextFrame(function (info) {\n          function doNext() {\n            // Skip since current queue is ood\n            if (info.isCanceled()) return;\n            setStep(nextStep);\n          }\n\n          if (result === true) {\n            doNext();\n          } else {\n            // Only promise should be async\n            Promise.resolve(result).then(doNext);\n          }\n        });\n      }\n    }\n  }, [status, step]);\n  React.useEffect(function () {\n    return function () {\n      cancelNextFrame();\n    };\n  }, []);\n  return [startQueue, step];\n});","export var STATUS_NONE = 'none';\nexport var STATUS_APPEAR = 'appear';\nexport var STATUS_ENTER = 'enter';\nexport var STATUS_LEAVE = 'leave';\nexport var STEP_NONE = 'none';\nexport var STEP_PREPARE = 'prepare';\nexport var STEP_START = 'start';\nexport var STEP_ACTIVE = 'active';\nexport var STEP_ACTIVATED = 'end';","import * as React from 'react';\nimport raf from \"rc-util/es/raf\";\nexport default (function () {\n  var nextFrameRef = React.useRef(null);\n\n  function cancelNextFrame() {\n    raf.cancel(nextFrameRef.current);\n  }\n\n  function nextFrame(callback) {\n    var delay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n    cancelNextFrame();\n    var nextFrameId = raf(function () {\n      if (delay <= 1) {\n        callback({\n          isCanceled: function isCanceled() {\n            return nextFrameId !== nextFrameRef.current;\n          }\n        });\n      } else {\n        nextFrame(callback, delay - 1);\n      }\n    });\n    nextFrameRef.current = nextFrameId;\n  }\n\n  React.useEffect(function () {\n    return function () {\n      cancelNextFrame();\n    };\n  }, []);\n  return [nextFrame, cancelNextFrame];\n});","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport { useRef, useEffect } from 'react';\nimport { STATUS_APPEAR, STATUS_NONE, STATUS_LEAVE, STATUS_ENTER, STEP_PREPARE, STEP_START, STEP_ACTIVE } from '../interface';\nimport useState from './useState';\nimport useIsomorphicLayoutEffect from './useIsomorphicLayoutEffect';\nimport useStepQueue, { DoStep, SkipStep, isActive } from './useStepQueue';\nimport useDomMotionEvents from './useDomMotionEvents';\nexport default function useStatus(supportMotion, visible, getElement, _ref) {\n  var _ref$motionEnter = _ref.motionEnter,\n      motionEnter = _ref$motionEnter === void 0 ? true : _ref$motionEnter,\n      _ref$motionAppear = _ref.motionAppear,\n      motionAppear = _ref$motionAppear === void 0 ? true : _ref$motionAppear,\n      _ref$motionLeave = _ref.motionLeave,\n      motionLeave = _ref$motionLeave === void 0 ? true : _ref$motionLeave,\n      motionDeadline = _ref.motionDeadline,\n      motionLeaveImmediately = _ref.motionLeaveImmediately,\n      onAppearPrepare = _ref.onAppearPrepare,\n      onEnterPrepare = _ref.onEnterPrepare,\n      onLeavePrepare = _ref.onLeavePrepare,\n      onAppearStart = _ref.onAppearStart,\n      onEnterStart = _ref.onEnterStart,\n      onLeaveStart = _ref.onLeaveStart,\n      onAppearActive = _ref.onAppearActive,\n      onEnterActive = _ref.onEnterActive,\n      onLeaveActive = _ref.onLeaveActive,\n      onAppearEnd = _ref.onAppearEnd,\n      onEnterEnd = _ref.onEnterEnd,\n      onLeaveEnd = _ref.onLeaveEnd,\n      onVisibleChanged = _ref.onVisibleChanged;\n\n  // Used for outer render usage to avoid `visible: false & status: none` to render nothing\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      asyncVisible = _useState2[0],\n      setAsyncVisible = _useState2[1];\n\n  var _useState3 = useState(STATUS_NONE),\n      _useState4 = _slicedToArray(_useState3, 2),\n      status = _useState4[0],\n      setStatus = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      style = _useState6[0],\n      setStyle = _useState6[1];\n\n  var mountedRef = useRef(false);\n  var deadlineRef = useRef(null);\n  var destroyedRef = useRef(false); // =========================== Dom Node ===========================\n\n  var cacheElementRef = useRef(null);\n\n  function getDomElement() {\n    var element = getElement();\n    return element || cacheElementRef.current;\n  } // ========================== Motion End ==========================\n\n\n  var activeRef = useRef(false);\n\n  function onInternalMotionEnd(event) {\n    var element = getDomElement();\n\n    if (event && !event.deadline && event.target !== element) {\n      // event exists\n      // not initiated by deadline\n      // transitionEnd not fired by inner elements\n      return;\n    }\n\n    var canEnd;\n\n    if (status === STATUS_APPEAR && activeRef.current) {\n      canEnd = onAppearEnd === null || onAppearEnd === void 0 ? void 0 : onAppearEnd(element, event);\n    } else if (status === STATUS_ENTER && activeRef.current) {\n      canEnd = onEnterEnd === null || onEnterEnd === void 0 ? void 0 : onEnterEnd(element, event);\n    } else if (status === STATUS_LEAVE && activeRef.current) {\n      canEnd = onLeaveEnd === null || onLeaveEnd === void 0 ? void 0 : onLeaveEnd(element, event);\n    } // Only update status when `canEnd` and not destroyed\n\n\n    if (canEnd !== false && !destroyedRef.current) {\n      setStatus(STATUS_NONE);\n      setStyle(null);\n    }\n  }\n\n  var _useDomMotionEvents = useDomMotionEvents(onInternalMotionEnd),\n      _useDomMotionEvents2 = _slicedToArray(_useDomMotionEvents, 1),\n      patchMotionEvents = _useDomMotionEvents2[0]; // ============================= Step =============================\n\n\n  var eventHandlers = React.useMemo(function () {\n    var _ref2, _ref3, _ref4;\n\n    switch (status) {\n      case 'appear':\n        return _ref2 = {}, _defineProperty(_ref2, STEP_PREPARE, onAppearPrepare), _defineProperty(_ref2, STEP_START, onAppearStart), _defineProperty(_ref2, STEP_ACTIVE, onAppearActive), _ref2;\n\n      case 'enter':\n        return _ref3 = {}, _defineProperty(_ref3, STEP_PREPARE, onEnterPrepare), _defineProperty(_ref3, STEP_START, onEnterStart), _defineProperty(_ref3, STEP_ACTIVE, onEnterActive), _ref3;\n\n      case 'leave':\n        return _ref4 = {}, _defineProperty(_ref4, STEP_PREPARE, onLeavePrepare), _defineProperty(_ref4, STEP_START, onLeaveStart), _defineProperty(_ref4, STEP_ACTIVE, onLeaveActive), _ref4;\n\n      default:\n        return {};\n    }\n  }, [status]);\n\n  var _useStepQueue = useStepQueue(status, function (newStep) {\n    // Only prepare step can be skip\n    if (newStep === STEP_PREPARE) {\n      var onPrepare = eventHandlers[STEP_PREPARE];\n\n      if (!onPrepare) {\n        return SkipStep;\n      }\n\n      return onPrepare(getDomElement());\n    } // Rest step is sync update\n\n\n    // Rest step is sync update\n    if (step in eventHandlers) {\n      var _eventHandlers$step;\n\n      setStyle(((_eventHandlers$step = eventHandlers[step]) === null || _eventHandlers$step === void 0 ? void 0 : _eventHandlers$step.call(eventHandlers, getDomElement(), null)) || null);\n    }\n\n    if (step === STEP_ACTIVE) {\n      // Patch events when motion needed\n      patchMotionEvents(getDomElement());\n\n      if (motionDeadline > 0) {\n        clearTimeout(deadlineRef.current);\n        deadlineRef.current = setTimeout(function () {\n          onInternalMotionEnd({\n            deadline: true\n          });\n        }, motionDeadline);\n      }\n    }\n\n    return DoStep;\n  }),\n      _useStepQueue2 = _slicedToArray(_useStepQueue, 2),\n      startStep = _useStepQueue2[0],\n      step = _useStepQueue2[1];\n\n  var active = isActive(step);\n  activeRef.current = active; // ============================ Status ============================\n  // Update with new status\n\n  useIsomorphicLayoutEffect(function () {\n    setAsyncVisible(visible);\n    var isMounted = mountedRef.current;\n    mountedRef.current = true;\n\n    if (!supportMotion) {\n      return;\n    }\n\n    var nextStatus; // Appear\n\n    if (!isMounted && visible && motionAppear) {\n      nextStatus = STATUS_APPEAR;\n    } // Enter\n\n\n    if (isMounted && visible && motionEnter) {\n      nextStatus = STATUS_ENTER;\n    } // Leave\n\n\n    if (isMounted && !visible && motionLeave || !isMounted && motionLeaveImmediately && !visible && motionLeave) {\n      nextStatus = STATUS_LEAVE;\n    } // Update to next status\n\n\n    if (nextStatus) {\n      setStatus(nextStatus);\n      startStep();\n    }\n  }, [visible]); // ============================ Effect ============================\n  // Reset when motion changed\n\n  useEffect(function () {\n    if ( // Cancel appear\n    status === STATUS_APPEAR && !motionAppear || // Cancel enter\n    status === STATUS_ENTER && !motionEnter || // Cancel leave\n    status === STATUS_LEAVE && !motionLeave) {\n      setStatus(STATUS_NONE);\n    }\n  }, [motionAppear, motionEnter, motionLeave]);\n  useEffect(function () {\n    return function () {\n      clearTimeout(deadlineRef.current);\n      destroyedRef.current = true;\n    };\n  }, []); // Trigger `onVisibleChanged`\n\n  useEffect(function () {\n    if (asyncVisible !== undefined && status === STATUS_NONE) {\n      onVisibleChanged === null || onVisibleChanged === void 0 ? void 0 : onVisibleChanged(asyncVisible);\n    }\n  }, [asyncVisible, status]); // ============================ Styles ============================\n\n  var mergedStyle = style;\n\n  if (eventHandlers[STEP_PREPARE] && step === STEP_START) {\n    mergedStyle = _objectSpread({\n      transition: 'none'\n    }, mergedStyle);\n  }\n\n  return [status, step, mergedStyle, asyncVisible !== null && asyncVisible !== void 0 ? asyncVisible : visible];\n}","import * as React from 'react';\nimport { useRef } from 'react';\nimport { animationEndName, transitionEndName } from '../util/motion';\nexport default (function (callback) {\n  var cacheElementRef = useRef(); // Cache callback\n\n  var callbackRef = useRef(callback);\n  callbackRef.current = callback; // Internal motion event handler\n\n  var onInternalMotionEnd = React.useCallback(function (event) {\n    callbackRef.current(event);\n  }, []); // Remove events\n\n  function removeMotionEvents(element) {\n    if (element) {\n      element.removeEventListener(transitionEndName, onInternalMotionEnd);\n      element.removeEventListener(animationEndName, onInternalMotionEnd);\n    }\n  } // Patch events\n\n\n  function patchMotionEvents(element) {\n    if (cacheElementRef.current && cacheElementRef.current !== element) {\n      removeMotionEvents(cacheElementRef.current);\n    }\n\n    if (element && element !== cacheElementRef.current) {\n      element.addEventListener(transitionEndName, onInternalMotionEnd);\n      element.addEventListener(animationEndName, onInternalMotionEnd); // Save as cache in case dom removed trigger by `motionDeadline`\n\n      cacheElementRef.current = element;\n    }\n  } // Clean up when removed\n\n\n  React.useEffect(function () {\n    return function () {\n      removeMotionEvents(cacheElementRef.current);\n    };\n  }, []);\n  return [patchMotionEvents, removeMotionEvents];\n});","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport * as React from 'react';\n\nvar DomWrapper = /*#__PURE__*/function (_React$Component) {\n  _inherits(DomWrapper, _React$Component);\n\n  var _super = _createSuper(DomWrapper);\n\n  function DomWrapper() {\n    _classCallCheck(this, DomWrapper);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(DomWrapper, [{\n    key: \"render\",\n    value: function render() {\n      return this.props.children;\n    }\n  }]);\n\n  return DomWrapper;\n}(React.Component);\n\nexport default DomWrapper;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\n\n/* eslint-disable react/default-props-match-prop-types, react/no-multi-comp, react/prop-types */\nimport * as React from 'react';\nimport { useRef } from 'react';\nimport findDOMNode from \"rc-util/es/Dom/findDOMNode\";\nimport { fillRef } from \"rc-util/es/ref\";\nimport classNames from 'classnames';\nimport { getTransitionName, supportTransition } from './util/motion';\nimport { STATUS_NONE, STEP_PREPARE, STEP_START } from './interface';\nimport useStatus from './hooks/useStatus';\nimport DomWrapper from './DomWrapper';\nimport { isActive } from './hooks/useStepQueue';\n/**\n * `transitionSupport` is used for none transition test case.\n * Default we use browser transition event support check.\n */\n\nexport function genCSSMotion(config) {\n  var transitionSupport = config;\n\n  if (_typeof(config) === 'object') {\n    transitionSupport = config.transitionSupport;\n  }\n\n  function isSupportTransition(props) {\n    return !!(props.motionName && transitionSupport);\n  }\n\n  var CSSMotion = /*#__PURE__*/React.forwardRef(function (props, ref) {\n    var _props$visible = props.visible,\n        visible = _props$visible === void 0 ? true : _props$visible,\n        _props$removeOnLeave = props.removeOnLeave,\n        removeOnLeave = _props$removeOnLeave === void 0 ? true : _props$removeOnLeave,\n        forceRender = props.forceRender,\n        children = props.children,\n        motionName = props.motionName,\n        leavedClassName = props.leavedClassName,\n        eventProps = props.eventProps;\n    var supportMotion = isSupportTransition(props); // Ref to the react node, it may be a HTMLElement\n\n    var nodeRef = useRef(); // Ref to the dom wrapper in case ref can not pass to HTMLElement\n\n    var wrapperNodeRef = useRef();\n\n    function getDomElement() {\n      try {\n        return findDOMNode(nodeRef.current || wrapperNodeRef.current);\n      } catch (e) {\n        // Only happen when `motionDeadline` trigger but element removed.\n        return null;\n      }\n    }\n\n    var _useStatus = useStatus(supportMotion, visible, getDomElement, props),\n        _useStatus2 = _slicedToArray(_useStatus, 4),\n        status = _useStatus2[0],\n        statusStep = _useStatus2[1],\n        statusStyle = _useStatus2[2],\n        mergedVisible = _useStatus2[3]; // Record whether content has rended\n    // Will return null for un-rendered even when `removeOnLeave={false}`\n\n\n    var renderedRef = React.useRef(mergedVisible);\n\n    if (mergedVisible) {\n      renderedRef.current = true;\n    } // ====================== Refs ======================\n\n\n    var originRef = useRef(ref);\n    originRef.current = ref;\n    var setNodeRef = React.useCallback(function (node) {\n      nodeRef.current = node;\n      fillRef(originRef.current, node);\n    }, []); // ===================== Render =====================\n\n    var motionChildren;\n\n    var mergedProps = _objectSpread(_objectSpread({}, eventProps), {}, {\n      visible: visible\n    });\n\n    if (!children) {\n      // No children\n      motionChildren = null;\n    } else if (status === STATUS_NONE || !isSupportTransition(props)) {\n      // Stable children\n      if (mergedVisible) {\n        motionChildren = children(_objectSpread({}, mergedProps), setNodeRef);\n      } else if (!removeOnLeave && renderedRef.current) {\n        motionChildren = children(_objectSpread(_objectSpread({}, mergedProps), {}, {\n          className: leavedClassName\n        }), setNodeRef);\n      } else if (forceRender) {\n        motionChildren = children(_objectSpread(_objectSpread({}, mergedProps), {}, {\n          style: {\n            display: 'none'\n          }\n        }), setNodeRef);\n      } else {\n        motionChildren = null;\n      }\n    } else {\n      var _classNames;\n\n      // In motion\n      var statusSuffix;\n\n      if (statusStep === STEP_PREPARE) {\n        statusSuffix = 'prepare';\n      } else if (isActive(statusStep)) {\n        statusSuffix = 'active';\n      } else if (statusStep === STEP_START) {\n        statusSuffix = 'start';\n      }\n\n      motionChildren = children(_objectSpread(_objectSpread({}, mergedProps), {}, {\n        className: classNames(getTransitionName(motionName, status), (_classNames = {}, _defineProperty(_classNames, getTransitionName(motionName, \"\".concat(status, \"-\").concat(statusSuffix)), statusSuffix), _defineProperty(_classNames, motionName, typeof motionName === 'string'), _classNames)),\n        style: statusStyle\n      }), setNodeRef);\n    }\n\n    return /*#__PURE__*/React.createElement(DomWrapper, {\n      ref: wrapperNodeRef\n    }, motionChildren);\n  });\n  CSSMotion.displayName = 'CSSMotion';\n  return CSSMotion;\n}\nexport default genCSSMotion(supportTransition);","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nexport var STATUS_ADD = 'add';\nexport var STATUS_KEEP = 'keep';\nexport var STATUS_REMOVE = 'remove';\nexport var STATUS_REMOVED = 'removed';\nexport function wrapKeyToObject(key) {\n  var keyObj;\n\n  if (key && _typeof(key) === 'object' && 'key' in key) {\n    keyObj = key;\n  } else {\n    keyObj = {\n      key: key\n    };\n  }\n\n  return _objectSpread(_objectSpread({}, keyObj), {}, {\n    key: String(keyObj.key)\n  });\n}\nexport function parseKeys() {\n  var keys = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  return keys.map(wrapKeyToObject);\n}\nexport function diffKeys() {\n  var prevKeys = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var currentKeys = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var list = [];\n  var currentIndex = 0;\n  var currentLen = currentKeys.length;\n  var prevKeyObjects = parseKeys(prevKeys);\n  var currentKeyObjects = parseKeys(currentKeys); // Check prev keys to insert or keep\n\n  prevKeyObjects.forEach(function (keyObj) {\n    var hit = false;\n\n    for (var i = currentIndex; i < currentLen; i += 1) {\n      var currentKeyObj = currentKeyObjects[i];\n\n      if (currentKeyObj.key === keyObj.key) {\n        // New added keys should add before current key\n        if (currentIndex < i) {\n          list = list.concat(currentKeyObjects.slice(currentIndex, i).map(function (obj) {\n            return _objectSpread(_objectSpread({}, obj), {}, {\n              status: STATUS_ADD\n            });\n          }));\n          currentIndex = i;\n        }\n\n        list.push(_objectSpread(_objectSpread({}, currentKeyObj), {}, {\n          status: STATUS_KEEP\n        }));\n        currentIndex += 1;\n        hit = true;\n        break;\n      }\n    } // If not hit, it means key is removed\n\n\n    if (!hit) {\n      list.push(_objectSpread(_objectSpread({}, keyObj), {}, {\n        status: STATUS_REMOVE\n      }));\n    }\n  }); // Add rest to the list\n\n  if (currentIndex < currentLen) {\n    list = list.concat(currentKeyObjects.slice(currentIndex).map(function (obj) {\n      return _objectSpread(_objectSpread({}, obj), {}, {\n        status: STATUS_ADD\n      });\n    }));\n  }\n  /**\n   * Merge same key when it remove and add again:\n   *    [1 - add, 2 - keep, 1 - remove] -> [1 - keep, 2 - keep]\n   */\n\n\n  var keys = {};\n  list.forEach(function (_ref) {\n    var key = _ref.key;\n    keys[key] = (keys[key] || 0) + 1;\n  });\n  var duplicatedKeys = Object.keys(keys).filter(function (key) {\n    return keys[key] > 1;\n  });\n  duplicatedKeys.forEach(function (matchKey) {\n    // Remove `STATUS_REMOVE` node.\n    list = list.filter(function (_ref2) {\n      var key = _ref2.key,\n          status = _ref2.status;\n      return key !== matchKey || status !== STATUS_REMOVE;\n    }); // Update `STATUS_ADD` to `STATUS_KEEP`\n\n    list.forEach(function (node) {\n      if (node.key === matchKey) {\n        // eslint-disable-next-line no-param-reassign\n        node.status = STATUS_KEEP;\n      }\n    });\n  });\n  return list;\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\n\n/* eslint react/prop-types: 0 */\nimport * as React from 'react';\nimport OriginCSSMotion from './CSSMotion';\nimport { supportTransition } from './util/motion';\nimport { STATUS_ADD, STATUS_KEEP, STATUS_REMOVE, STATUS_REMOVED, diffKeys, parseKeys } from './util/diff';\nvar MOTION_PROP_NAMES = ['eventProps', 'visible', 'children', 'motionName', 'motionAppear', 'motionEnter', 'motionLeave', 'motionLeaveImmediately', 'motionDeadline', 'removeOnLeave', 'leavedClassName', 'onAppearStart', 'onAppearActive', 'onAppearEnd', 'onEnterStart', 'onEnterActive', 'onEnterEnd', 'onLeaveStart', 'onLeaveActive', 'onLeaveEnd'];\n/**\n * Generate a CSSMotionList component with config\n * @param transitionSupport No need since CSSMotionList no longer depends on transition support\n * @param CSSMotion CSSMotion component\n */\n\nexport function genCSSMotionList(transitionSupport) {\n  var CSSMotion = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : OriginCSSMotion;\n\n  var CSSMotionList = /*#__PURE__*/function (_React$Component) {\n    _inherits(CSSMotionList, _React$Component);\n\n    var _super = _createSuper(CSSMotionList);\n\n    function CSSMotionList() {\n      var _this;\n\n      _classCallCheck(this, CSSMotionList);\n\n      _this = _super.apply(this, arguments);\n      _this.state = {\n        keyEntities: []\n      };\n\n      _this.removeKey = function (removeKey) {\n        _this.setState(function (_ref) {\n          var keyEntities = _ref.keyEntities;\n          return {\n            keyEntities: keyEntities.map(function (entity) {\n              if (entity.key !== removeKey) return entity;\n              return _objectSpread(_objectSpread({}, entity), {}, {\n                status: STATUS_REMOVED\n              });\n            })\n          };\n        });\n      };\n\n      return _this;\n    }\n\n    _createClass(CSSMotionList, [{\n      key: \"render\",\n      value: function render() {\n        var _this2 = this;\n\n        var keyEntities = this.state.keyEntities;\n\n        var _this$props = this.props,\n            component = _this$props.component,\n            children = _this$props.children,\n            _onVisibleChanged = _this$props.onVisibleChanged,\n            restProps = _objectWithoutProperties(_this$props, [\"component\", \"children\", \"onVisibleChanged\"]);\n\n        var Component = component || React.Fragment;\n        var motionProps = {};\n        MOTION_PROP_NAMES.forEach(function (prop) {\n          motionProps[prop] = restProps[prop];\n          delete restProps[prop];\n        });\n        delete restProps.keys;\n        return /*#__PURE__*/React.createElement(Component, restProps, keyEntities.map(function (_ref2) {\n          var status = _ref2.status,\n              eventProps = _objectWithoutProperties(_ref2, [\"status\"]);\n\n          var visible = status === STATUS_ADD || status === STATUS_KEEP;\n          return /*#__PURE__*/React.createElement(CSSMotion, _extends({}, motionProps, {\n            key: eventProps.key,\n            visible: visible,\n            eventProps: eventProps,\n            onVisibleChanged: function onVisibleChanged(changedVisible) {\n              _onVisibleChanged === null || _onVisibleChanged === void 0 ? void 0 : _onVisibleChanged(changedVisible, {\n                key: eventProps.key\n              });\n\n              if (!changedVisible) {\n                _this2.removeKey(eventProps.key);\n              }\n            }\n          }), children);\n        }));\n      }\n    }], [{\n      key: \"getDerivedStateFromProps\",\n      value: function getDerivedStateFromProps(_ref3, _ref4) {\n        var keys = _ref3.keys;\n        var keyEntities = _ref4.keyEntities;\n        var parsedKeyObjects = parseKeys(keys);\n        var mixedKeyEntities = diffKeys(keyEntities, parsedKeyObjects);\n        return {\n          keyEntities: mixedKeyEntities.filter(function (entity) {\n            var prevEntity = keyEntities.find(function (_ref5) {\n              var key = _ref5.key;\n              return entity.key === key;\n            }); // Remove if already mark as removed\n\n            if (prevEntity && prevEntity.status === STATUS_REMOVED && entity.status === STATUS_REMOVE) {\n              return false;\n            }\n\n            return true;\n          })\n        };\n      }\n    }]);\n\n    return CSSMotionList;\n  }(React.Component);\n\n  CSSMotionList.defaultProps = {\n    component: 'div'\n  };\n  return CSSMotionList;\n}\nexport default genCSSMotionList(supportTransition);","import CSSMotion from './CSSMotion';\nimport CSSMotionList from './CSSMotionList';\nexport { CSSMotionList };\nexport default CSSMotion;","export function getMotion(_ref) {\n  var prefixCls = _ref.prefixCls,\n      motion = _ref.motion,\n      animation = _ref.animation,\n      transitionName = _ref.transitionName;\n\n  if (motion) {\n    return motion;\n  }\n\n  if (animation) {\n    return {\n      motionName: \"\".concat(prefixCls, \"-\").concat(animation)\n    };\n  }\n\n  if (transitionName) {\n    return {\n      motionName: transitionName\n    };\n  }\n\n  return null;\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport CSSMotion from 'rc-motion';\nimport { getMotion } from '../utils/legacyUtil';\nexport default function Mask(props) {\n  var prefixCls = props.prefixCls,\n      visible = props.visible,\n      zIndex = props.zIndex,\n      mask = props.mask,\n      maskMotion = props.maskMotion,\n      maskAnimation = props.maskAnimation,\n      maskTransitionName = props.maskTransitionName;\n\n  if (!mask) {\n    return null;\n  }\n\n  var motion = {};\n\n  if (maskMotion || maskTransitionName || maskAnimation) {\n    motion = _objectSpread({\n      motionAppear: true\n    }, getMotion({\n      motion: maskMotion,\n      prefixCls: prefixCls,\n      transitionName: maskTransitionName,\n      animation: maskAnimation\n    }));\n  }\n\n  return /*#__PURE__*/React.createElement(CSSMotion, _extends({}, motion, {\n    visible: visible,\n    removeOnLeave: true\n  }), function (_ref) {\n    var className = _ref.className;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        zIndex: zIndex\n      },\n      className: classNames(\"\".concat(prefixCls, \"-mask\"), className)\n    });\n  });\n}","export default (function (element) {\n  if (!element) {\n    return false;\n  }\n\n  if (element.offsetParent) {\n    return true;\n  }\n\n  if (element.getBBox) {\n    var box = element.getBBox();\n\n    if (box.width || box.height) {\n      return true;\n    }\n  }\n\n  if (element.getBoundingClientRect) {\n    var _box = element.getBoundingClientRect();\n\n    if (_box.width || _box.height) {\n      return true;\n    }\n  }\n\n  return false;\n});","function ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar vendorPrefix;\nvar jsCssMap = {\n  Webkit: '-webkit-',\n  Moz: '-moz-',\n  // IE did it wrong again ...\n  ms: '-ms-',\n  O: '-o-'\n};\n\nfunction getVendorPrefix() {\n  if (vendorPrefix !== undefined) {\n    return vendorPrefix;\n  }\n\n  vendorPrefix = '';\n  var style = document.createElement('p').style;\n  var testProp = 'Transform';\n\n  for (var key in jsCssMap) {\n    if (key + testProp in style) {\n      vendorPrefix = key;\n    }\n  }\n\n  return vendorPrefix;\n}\n\nfunction getTransitionName() {\n  return getVendorPrefix() ? \"\".concat(getVendorPrefix(), \"TransitionProperty\") : 'transitionProperty';\n}\n\nfunction getTransformName() {\n  return getVendorPrefix() ? \"\".concat(getVendorPrefix(), \"Transform\") : 'transform';\n}\nfunction setTransitionProperty(node, value) {\n  var name = getTransitionName();\n\n  if (name) {\n    node.style[name] = value;\n\n    if (name !== 'transitionProperty') {\n      node.style.transitionProperty = value;\n    }\n  }\n}\n\nfunction setTransform(node, value) {\n  var name = getTransformName();\n\n  if (name) {\n    node.style[name] = value;\n\n    if (name !== 'transform') {\n      node.style.transform = value;\n    }\n  }\n}\n\nfunction getTransitionProperty(node) {\n  return node.style.transitionProperty || node.style[getTransitionName()];\n}\nfunction getTransformXY(node) {\n  var style = window.getComputedStyle(node, null);\n  var transform = style.getPropertyValue('transform') || style.getPropertyValue(getTransformName());\n\n  if (transform && transform !== 'none') {\n    var matrix = transform.replace(/[^0-9\\-.,]/g, '').split(',');\n    return {\n      x: parseFloat(matrix[12] || matrix[4], 0),\n      y: parseFloat(matrix[13] || matrix[5], 0)\n    };\n  }\n\n  return {\n    x: 0,\n    y: 0\n  };\n}\nvar matrix2d = /matrix\\((.*)\\)/;\nvar matrix3d = /matrix3d\\((.*)\\)/;\nfunction setTransformXY(node, xy) {\n  var style = window.getComputedStyle(node, null);\n  var transform = style.getPropertyValue('transform') || style.getPropertyValue(getTransformName());\n\n  if (transform && transform !== 'none') {\n    var arr;\n    var match2d = transform.match(matrix2d);\n\n    if (match2d) {\n      match2d = match2d[1];\n      arr = match2d.split(',').map(function (item) {\n        return parseFloat(item, 10);\n      });\n      arr[4] = xy.x;\n      arr[5] = xy.y;\n      setTransform(node, \"matrix(\".concat(arr.join(','), \")\"));\n    } else {\n      var match3d = transform.match(matrix3d)[1];\n      arr = match3d.split(',').map(function (item) {\n        return parseFloat(item, 10);\n      });\n      arr[12] = xy.x;\n      arr[13] = xy.y;\n      setTransform(node, \"matrix3d(\".concat(arr.join(','), \")\"));\n    }\n  } else {\n    setTransform(node, \"translateX(\".concat(xy.x, \"px) translateY(\").concat(xy.y, \"px) translateZ(0)\"));\n  }\n}\n\nvar RE_NUM = /[\\-+]?(?:\\d*\\.|)\\d+(?:[eE][\\-+]?\\d+|)/.source;\nvar getComputedStyleX; // https://stackoverflow.com/a/3485654/3040605\n\nfunction forceRelayout(elem) {\n  var originalStyle = elem.style.display;\n  elem.style.display = 'none';\n  elem.offsetHeight; // eslint-disable-line\n\n  elem.style.display = originalStyle;\n}\n\nfunction css(el, name, v) {\n  var value = v;\n\n  if (_typeof(name) === 'object') {\n    for (var i in name) {\n      if (name.hasOwnProperty(i)) {\n        css(el, i, name[i]);\n      }\n    }\n\n    return undefined;\n  }\n\n  if (typeof value !== 'undefined') {\n    if (typeof value === 'number') {\n      value = \"\".concat(value, \"px\");\n    }\n\n    el.style[name] = value;\n    return undefined;\n  }\n\n  return getComputedStyleX(el, name);\n}\n\nfunction getClientPosition(elem) {\n  var box;\n  var x;\n  var y;\n  var doc = elem.ownerDocument;\n  var body = doc.body;\n  var docElem = doc && doc.documentElement; // 根据 GBS 最新数据，A-Grade Browsers 都已支持 getBoundingClientRect 方法，不用再考虑传统的实现方式\n\n  box = elem.getBoundingClientRect(); // 注：jQuery 还考虑减去 docElem.clientLeft/clientTop\n  // 但测试发现，这样反而会导致当 html 和 body 有边距/边框样式时，获取的值不正确\n  // 此外，ie6 会忽略 html 的 margin 值，幸运地是没有谁会去设置 html 的 margin\n\n  x = box.left;\n  y = box.top; // In IE, most of the time, 2 extra pixels are added to the top and left\n  // due to the implicit 2-pixel inset border.  In IE6/7 quirks mode and\n  // IE6 standards mode, this border can be overridden by setting the\n  // document element's border to zero -- thus, we cannot rely on the\n  // offset always being 2 pixels.\n  // In quirks mode, the offset can be determined by querying the body's\n  // clientLeft/clientTop, but in standards mode, it is found by querying\n  // the document element's clientLeft/clientTop.  Since we already called\n  // getClientBoundingRect we have already forced a reflow, so it is not\n  // too expensive just to query them all.\n  // ie 下应该减去窗口的边框吧，毕竟默认 absolute 都是相对窗口定位的\n  // 窗口边框标准是设 documentElement ,quirks 时设置 body\n  // 最好禁止在 body 和 html 上边框 ，但 ie < 9 html 默认有 2px ，减去\n  // 但是非 ie 不可能设置窗口边框，body html 也不是窗口 ,ie 可以通过 html,body 设置\n  // 标准 ie 下 docElem.clientTop 就是 border-top\n  // ie7 html 即窗口边框改变不了。永远为 2\n  // 但标准 firefox/chrome/ie9 下 docElem.clientTop 是窗口边框，即使设了 border-top 也为 0\n\n  x -= docElem.clientLeft || body.clientLeft || 0;\n  y -= docElem.clientTop || body.clientTop || 0;\n  return {\n    left: x,\n    top: y\n  };\n}\n\nfunction getScroll(w, top) {\n  var ret = w[\"page\".concat(top ? 'Y' : 'X', \"Offset\")];\n  var method = \"scroll\".concat(top ? 'Top' : 'Left');\n\n  if (typeof ret !== 'number') {\n    var d = w.document; // ie6,7,8 standard mode\n\n    ret = d.documentElement[method];\n\n    if (typeof ret !== 'number') {\n      // quirks mode\n      ret = d.body[method];\n    }\n  }\n\n  return ret;\n}\n\nfunction getScrollLeft(w) {\n  return getScroll(w);\n}\n\nfunction getScrollTop(w) {\n  return getScroll(w, true);\n}\n\nfunction getOffset(el) {\n  var pos = getClientPosition(el);\n  var doc = el.ownerDocument;\n  var w = doc.defaultView || doc.parentWindow;\n  pos.left += getScrollLeft(w);\n  pos.top += getScrollTop(w);\n  return pos;\n}\n/**\n * A crude way of determining if an object is a window\n * @member util\n */\n\n\nfunction isWindow(obj) {\n  // must use == for ie8\n\n  /* eslint eqeqeq:0 */\n  return obj !== null && obj !== undefined && obj == obj.window;\n}\n\nfunction getDocument(node) {\n  if (isWindow(node)) {\n    return node.document;\n  }\n\n  if (node.nodeType === 9) {\n    return node;\n  }\n\n  return node.ownerDocument;\n}\n\nfunction _getComputedStyle(elem, name, cs) {\n  var computedStyle = cs;\n  var val = '';\n  var d = getDocument(elem);\n  computedStyle = computedStyle || d.defaultView.getComputedStyle(elem, null); // https://github.com/kissyteam/kissy/issues/61\n\n  if (computedStyle) {\n    val = computedStyle.getPropertyValue(name) || computedStyle[name];\n  }\n\n  return val;\n}\n\nvar _RE_NUM_NO_PX = new RegExp(\"^(\".concat(RE_NUM, \")(?!px)[a-z%]+$\"), 'i');\n\nvar RE_POS = /^(top|right|bottom|left)$/;\nvar CURRENT_STYLE = 'currentStyle';\nvar RUNTIME_STYLE = 'runtimeStyle';\nvar LEFT = 'left';\nvar PX = 'px';\n\nfunction _getComputedStyleIE(elem, name) {\n  // currentStyle maybe null\n  // http://msdn.microsoft.com/en-us/library/ms535231.aspx\n  var ret = elem[CURRENT_STYLE] && elem[CURRENT_STYLE][name]; // 当 width/height 设置为百分比时，通过 pixelLeft 方式转换的 width/height 值\n  // 一开始就处理了! CUSTOM_STYLE.height,CUSTOM_STYLE.width ,cssHook 解决@2011-08-19\n  // 在 ie 下不对，需要直接用 offset 方式\n  // borderWidth 等值也有问题，但考虑到 borderWidth 设为百分比的概率很小，这里就不考虑了\n  // From the awesome hack by Dean Edwards\n  // http://erik.eae.net/archives/2007/07/27/18.54.15/#comment-102291\n  // If we're not dealing with a regular pixel number\n  // but a number that has a weird ending, we need to convert it to pixels\n  // exclude left right for relativity\n\n  if (_RE_NUM_NO_PX.test(ret) && !RE_POS.test(name)) {\n    // Remember the original values\n    var style = elem.style;\n    var left = style[LEFT];\n    var rsLeft = elem[RUNTIME_STYLE][LEFT]; // prevent flashing of content\n\n    elem[RUNTIME_STYLE][LEFT] = elem[CURRENT_STYLE][LEFT]; // Put in the new values to get a computed value out\n\n    style[LEFT] = name === 'fontSize' ? '1em' : ret || 0;\n    ret = style.pixelLeft + PX; // Revert the changed values\n\n    style[LEFT] = left;\n    elem[RUNTIME_STYLE][LEFT] = rsLeft;\n  }\n\n  return ret === '' ? 'auto' : ret;\n}\n\nif (typeof window !== 'undefined') {\n  getComputedStyleX = window.getComputedStyle ? _getComputedStyle : _getComputedStyleIE;\n}\n\nfunction getOffsetDirection(dir, option) {\n  if (dir === 'left') {\n    return option.useCssRight ? 'right' : dir;\n  }\n\n  return option.useCssBottom ? 'bottom' : dir;\n}\n\nfunction oppositeOffsetDirection(dir) {\n  if (dir === 'left') {\n    return 'right';\n  } else if (dir === 'right') {\n    return 'left';\n  } else if (dir === 'top') {\n    return 'bottom';\n  } else if (dir === 'bottom') {\n    return 'top';\n  }\n} // 设置 elem 相对 elem.ownerDocument 的坐标\n\n\nfunction setLeftTop(elem, offset, option) {\n  // set position first, in-case top/left are set even on static elem\n  if (css(elem, 'position') === 'static') {\n    elem.style.position = 'relative';\n  }\n\n  var presetH = -999;\n  var presetV = -999;\n  var horizontalProperty = getOffsetDirection('left', option);\n  var verticalProperty = getOffsetDirection('top', option);\n  var oppositeHorizontalProperty = oppositeOffsetDirection(horizontalProperty);\n  var oppositeVerticalProperty = oppositeOffsetDirection(verticalProperty);\n\n  if (horizontalProperty !== 'left') {\n    presetH = 999;\n  }\n\n  if (verticalProperty !== 'top') {\n    presetV = 999;\n  }\n\n  var originalTransition = '';\n  var originalOffset = getOffset(elem);\n\n  if ('left' in offset || 'top' in offset) {\n    originalTransition = getTransitionProperty(elem) || '';\n    setTransitionProperty(elem, 'none');\n  }\n\n  if ('left' in offset) {\n    elem.style[oppositeHorizontalProperty] = '';\n    elem.style[horizontalProperty] = \"\".concat(presetH, \"px\");\n  }\n\n  if ('top' in offset) {\n    elem.style[oppositeVerticalProperty] = '';\n    elem.style[verticalProperty] = \"\".concat(presetV, \"px\");\n  } // force relayout\n\n\n  forceRelayout(elem);\n  var old = getOffset(elem);\n  var originalStyle = {};\n\n  for (var key in offset) {\n    if (offset.hasOwnProperty(key)) {\n      var dir = getOffsetDirection(key, option);\n      var preset = key === 'left' ? presetH : presetV;\n      var off = originalOffset[key] - old[key];\n\n      if (dir === key) {\n        originalStyle[dir] = preset + off;\n      } else {\n        originalStyle[dir] = preset - off;\n      }\n    }\n  }\n\n  css(elem, originalStyle); // force relayout\n\n  forceRelayout(elem);\n\n  if ('left' in offset || 'top' in offset) {\n    setTransitionProperty(elem, originalTransition);\n  }\n\n  var ret = {};\n\n  for (var _key in offset) {\n    if (offset.hasOwnProperty(_key)) {\n      var _dir = getOffsetDirection(_key, option);\n\n      var _off = offset[_key] - originalOffset[_key];\n\n      if (_key === _dir) {\n        ret[_dir] = originalStyle[_dir] + _off;\n      } else {\n        ret[_dir] = originalStyle[_dir] - _off;\n      }\n    }\n  }\n\n  css(elem, ret);\n}\n\nfunction setTransform$1(elem, offset) {\n  var originalOffset = getOffset(elem);\n  var originalXY = getTransformXY(elem);\n  var resultXY = {\n    x: originalXY.x,\n    y: originalXY.y\n  };\n\n  if ('left' in offset) {\n    resultXY.x = originalXY.x + offset.left - originalOffset.left;\n  }\n\n  if ('top' in offset) {\n    resultXY.y = originalXY.y + offset.top - originalOffset.top;\n  }\n\n  setTransformXY(elem, resultXY);\n}\n\nfunction setOffset(elem, offset, option) {\n  if (option.ignoreShake) {\n    var oriOffset = getOffset(elem);\n    var oLeft = oriOffset.left.toFixed(0);\n    var oTop = oriOffset.top.toFixed(0);\n    var tLeft = offset.left.toFixed(0);\n    var tTop = offset.top.toFixed(0);\n\n    if (oLeft === tLeft && oTop === tTop) {\n      return;\n    }\n  }\n\n  if (option.useCssRight || option.useCssBottom) {\n    setLeftTop(elem, offset, option);\n  } else if (option.useCssTransform && getTransformName() in document.body.style) {\n    setTransform$1(elem, offset);\n  } else {\n    setLeftTop(elem, offset, option);\n  }\n}\n\nfunction each(arr, fn) {\n  for (var i = 0; i < arr.length; i++) {\n    fn(arr[i]);\n  }\n}\n\nfunction isBorderBoxFn(elem) {\n  return getComputedStyleX(elem, 'boxSizing') === 'border-box';\n}\n\nvar BOX_MODELS = ['margin', 'border', 'padding'];\nvar CONTENT_INDEX = -1;\nvar PADDING_INDEX = 2;\nvar BORDER_INDEX = 1;\nvar MARGIN_INDEX = 0;\n\nfunction swap(elem, options, callback) {\n  var old = {};\n  var style = elem.style;\n  var name; // Remember the old values, and insert the new ones\n\n  for (name in options) {\n    if (options.hasOwnProperty(name)) {\n      old[name] = style[name];\n      style[name] = options[name];\n    }\n  }\n\n  callback.call(elem); // Revert the old values\n\n  for (name in options) {\n    if (options.hasOwnProperty(name)) {\n      style[name] = old[name];\n    }\n  }\n}\n\nfunction getPBMWidth(elem, props, which) {\n  var value = 0;\n  var prop;\n  var j;\n  var i;\n\n  for (j = 0; j < props.length; j++) {\n    prop = props[j];\n\n    if (prop) {\n      for (i = 0; i < which.length; i++) {\n        var cssProp = void 0;\n\n        if (prop === 'border') {\n          cssProp = \"\".concat(prop).concat(which[i], \"Width\");\n        } else {\n          cssProp = prop + which[i];\n        }\n\n        value += parseFloat(getComputedStyleX(elem, cssProp)) || 0;\n      }\n    }\n  }\n\n  return value;\n}\n\nvar domUtils = {\n  getParent: function getParent(element) {\n    var parent = element;\n\n    do {\n      if (parent.nodeType === 11 && parent.host) {\n        parent = parent.host;\n      } else {\n        parent = parent.parentNode;\n      }\n    } while (parent && parent.nodeType !== 1 && parent.nodeType !== 9);\n\n    return parent;\n  }\n};\neach(['Width', 'Height'], function (name) {\n  domUtils[\"doc\".concat(name)] = function (refWin) {\n    var d = refWin.document;\n    return Math.max( // firefox chrome documentElement.scrollHeight< body.scrollHeight\n    // ie standard mode : documentElement.scrollHeight> body.scrollHeight\n    d.documentElement[\"scroll\".concat(name)], // quirks : documentElement.scrollHeight 最大等于可视窗口多一点？\n    d.body[\"scroll\".concat(name)], domUtils[\"viewport\".concat(name)](d));\n  };\n\n  domUtils[\"viewport\".concat(name)] = function (win) {\n    // pc browser includes scrollbar in window.innerWidth\n    var prop = \"client\".concat(name);\n    var doc = win.document;\n    var body = doc.body;\n    var documentElement = doc.documentElement;\n    var documentElementProp = documentElement[prop]; // 标准模式取 documentElement\n    // backcompat 取 body\n\n    return doc.compatMode === 'CSS1Compat' && documentElementProp || body && body[prop] || documentElementProp;\n  };\n});\n/*\n 得到元素的大小信息\n @param elem\n @param name\n @param {String} [extra]  'padding' : (css width) + padding\n 'border' : (css width) + padding + border\n 'margin' : (css width) + padding + border + margin\n */\n\nfunction getWH(elem, name, ex) {\n  var extra = ex;\n\n  if (isWindow(elem)) {\n    return name === 'width' ? domUtils.viewportWidth(elem) : domUtils.viewportHeight(elem);\n  } else if (elem.nodeType === 9) {\n    return name === 'width' ? domUtils.docWidth(elem) : domUtils.docHeight(elem);\n  }\n\n  var which = name === 'width' ? ['Left', 'Right'] : ['Top', 'Bottom'];\n  var borderBoxValue = name === 'width' ? elem.getBoundingClientRect().width : elem.getBoundingClientRect().height;\n  var isBorderBox = isBorderBoxFn(elem);\n  var cssBoxValue = 0;\n\n  if (borderBoxValue === null || borderBoxValue === undefined || borderBoxValue <= 0) {\n    borderBoxValue = undefined; // Fall back to computed then un computed css if necessary\n\n    cssBoxValue = getComputedStyleX(elem, name);\n\n    if (cssBoxValue === null || cssBoxValue === undefined || Number(cssBoxValue) < 0) {\n      cssBoxValue = elem.style[name] || 0;\n    } // Normalize '', auto, and prepare for extra\n\n\n    cssBoxValue = parseFloat(cssBoxValue) || 0;\n  }\n\n  if (extra === undefined) {\n    extra = isBorderBox ? BORDER_INDEX : CONTENT_INDEX;\n  }\n\n  var borderBoxValueOrIsBorderBox = borderBoxValue !== undefined || isBorderBox;\n  var val = borderBoxValue || cssBoxValue;\n\n  if (extra === CONTENT_INDEX) {\n    if (borderBoxValueOrIsBorderBox) {\n      return val - getPBMWidth(elem, ['border', 'padding'], which);\n    }\n\n    return cssBoxValue;\n  } else if (borderBoxValueOrIsBorderBox) {\n    if (extra === BORDER_INDEX) {\n      return val;\n    }\n\n    return val + (extra === PADDING_INDEX ? -getPBMWidth(elem, ['border'], which) : getPBMWidth(elem, ['margin'], which));\n  }\n\n  return cssBoxValue + getPBMWidth(elem, BOX_MODELS.slice(extra), which);\n}\n\nvar cssShow = {\n  position: 'absolute',\n  visibility: 'hidden',\n  display: 'block'\n}; // fix #119 : https://github.com/kissyteam/kissy/issues/119\n\nfunction getWHIgnoreDisplay() {\n  for (var _len = arguments.length, args = new Array(_len), _key2 = 0; _key2 < _len; _key2++) {\n    args[_key2] = arguments[_key2];\n  }\n\n  var val;\n  var elem = args[0]; // in case elem is window\n  // elem.offsetWidth === undefined\n\n  if (elem.offsetWidth !== 0) {\n    val = getWH.apply(undefined, args);\n  } else {\n    swap(elem, cssShow, function () {\n      val = getWH.apply(undefined, args);\n    });\n  }\n\n  return val;\n}\n\neach(['width', 'height'], function (name) {\n  var first = name.charAt(0).toUpperCase() + name.slice(1);\n\n  domUtils[\"outer\".concat(first)] = function (el, includeMargin) {\n    return el && getWHIgnoreDisplay(el, name, includeMargin ? MARGIN_INDEX : BORDER_INDEX);\n  };\n\n  var which = name === 'width' ? ['Left', 'Right'] : ['Top', 'Bottom'];\n\n  domUtils[name] = function (elem, v) {\n    var val = v;\n\n    if (val !== undefined) {\n      if (elem) {\n        var isBorderBox = isBorderBoxFn(elem);\n\n        if (isBorderBox) {\n          val += getPBMWidth(elem, ['padding', 'border'], which);\n        }\n\n        return css(elem, name, val);\n      }\n\n      return undefined;\n    }\n\n    return elem && getWHIgnoreDisplay(elem, name, CONTENT_INDEX);\n  };\n});\n\nfunction mix(to, from) {\n  for (var i in from) {\n    if (from.hasOwnProperty(i)) {\n      to[i] = from[i];\n    }\n  }\n\n  return to;\n}\n\nvar utils = {\n  getWindow: function getWindow(node) {\n    if (node && node.document && node.setTimeout) {\n      return node;\n    }\n\n    var doc = node.ownerDocument || node;\n    return doc.defaultView || doc.parentWindow;\n  },\n  getDocument: getDocument,\n  offset: function offset(el, value, option) {\n    if (typeof value !== 'undefined') {\n      setOffset(el, value, option || {});\n    } else {\n      return getOffset(el);\n    }\n  },\n  isWindow: isWindow,\n  each: each,\n  css: css,\n  clone: function clone(obj) {\n    var i;\n    var ret = {};\n\n    for (i in obj) {\n      if (obj.hasOwnProperty(i)) {\n        ret[i] = obj[i];\n      }\n    }\n\n    var overflow = obj.overflow;\n\n    if (overflow) {\n      for (i in obj) {\n        if (obj.hasOwnProperty(i)) {\n          ret.overflow[i] = obj.overflow[i];\n        }\n      }\n    }\n\n    return ret;\n  },\n  mix: mix,\n  getWindowScrollLeft: function getWindowScrollLeft(w) {\n    return getScrollLeft(w);\n  },\n  getWindowScrollTop: function getWindowScrollTop(w) {\n    return getScrollTop(w);\n  },\n  merge: function merge() {\n    var ret = {};\n\n    for (var i = 0; i < arguments.length; i++) {\n      utils.mix(ret, i < 0 || arguments.length <= i ? undefined : arguments[i]);\n    }\n\n    return ret;\n  },\n  viewportWidth: 0,\n  viewportHeight: 0\n};\nmix(utils, domUtils);\n\n/**\n * 得到会导致元素显示不全的祖先元素\n */\n\nvar getParent = utils.getParent;\n\nfunction getOffsetParent(element) {\n  if (utils.isWindow(element) || element.nodeType === 9) {\n    return null;\n  } // ie 这个也不是完全可行\n\n  /*\n   <div style=\"width: 50px;height: 100px;overflow: hidden\">\n   <div style=\"width: 50px;height: 100px;position: relative;\" id=\"d6\">\n   元素 6 高 100px 宽 50px<br/>\n   </div>\n   </div>\n   */\n  // element.offsetParent does the right thing in ie7 and below. Return parent with layout!\n  //  In other browsers it only includes elements with position absolute, relative or\n  // fixed, not elements with overflow set to auto or scroll.\n  //        if (UA.ie && ieMode < 8) {\n  //            return element.offsetParent;\n  //        }\n  // 统一的 offsetParent 方法\n\n\n  var doc = utils.getDocument(element);\n  var body = doc.body;\n  var parent;\n  var positionStyle = utils.css(element, 'position');\n  var skipStatic = positionStyle === 'fixed' || positionStyle === 'absolute';\n\n  if (!skipStatic) {\n    return element.nodeName.toLowerCase() === 'html' ? null : getParent(element);\n  }\n\n  for (parent = getParent(element); parent && parent !== body && parent.nodeType !== 9; parent = getParent(parent)) {\n    positionStyle = utils.css(parent, 'position');\n\n    if (positionStyle !== 'static') {\n      return parent;\n    }\n  }\n\n  return null;\n}\n\nvar getParent$1 = utils.getParent;\nfunction isAncestorFixed(element) {\n  if (utils.isWindow(element) || element.nodeType === 9) {\n    return false;\n  }\n\n  var doc = utils.getDocument(element);\n  var body = doc.body;\n  var parent = null;\n\n  for (parent = getParent$1(element); // 修复元素位于 document.documentElement 下导致崩溃问题\n  parent && parent !== body && parent !== doc; parent = getParent$1(parent)) {\n    var positionStyle = utils.css(parent, 'position');\n\n    if (positionStyle === 'fixed') {\n      return true;\n    }\n  }\n\n  return false;\n}\n\n/**\n * 获得元素的显示部分的区域\n */\n\nfunction getVisibleRectForElement(element, alwaysByViewport) {\n  var visibleRect = {\n    left: 0,\n    right: Infinity,\n    top: 0,\n    bottom: Infinity\n  };\n  var el = getOffsetParent(element);\n  var doc = utils.getDocument(element);\n  var win = doc.defaultView || doc.parentWindow;\n  var body = doc.body;\n  var documentElement = doc.documentElement; // Determine the size of the visible rect by climbing the dom accounting for\n  // all scrollable containers.\n\n  while (el) {\n    // clientWidth is zero for inline block elements in ie.\n    if ((navigator.userAgent.indexOf('MSIE') === -1 || el.clientWidth !== 0) && // body may have overflow set on it, yet we still get the entire\n    // viewport. In some browsers, el.offsetParent may be\n    // document.documentElement, so check for that too.\n    el !== body && el !== documentElement && utils.css(el, 'overflow') !== 'visible') {\n      var pos = utils.offset(el); // add border\n\n      pos.left += el.clientLeft;\n      pos.top += el.clientTop;\n      visibleRect.top = Math.max(visibleRect.top, pos.top);\n      visibleRect.right = Math.min(visibleRect.right, // consider area without scrollBar\n      pos.left + el.clientWidth);\n      visibleRect.bottom = Math.min(visibleRect.bottom, pos.top + el.clientHeight);\n      visibleRect.left = Math.max(visibleRect.left, pos.left);\n    } else if (el === body || el === documentElement) {\n      break;\n    }\n\n    el = getOffsetParent(el);\n  } // Set element position to fixed\n  // make sure absolute element itself don't affect it's visible area\n  // https://github.com/ant-design/ant-design/issues/7601\n\n\n  var originalPosition = null;\n\n  if (!utils.isWindow(element) && element.nodeType !== 9) {\n    originalPosition = element.style.position;\n    var position = utils.css(element, 'position');\n\n    if (position === 'absolute') {\n      element.style.position = 'fixed';\n    }\n  }\n\n  var scrollX = utils.getWindowScrollLeft(win);\n  var scrollY = utils.getWindowScrollTop(win);\n  var viewportWidth = utils.viewportWidth(win);\n  var viewportHeight = utils.viewportHeight(win);\n  var documentWidth = documentElement.scrollWidth;\n  var documentHeight = documentElement.scrollHeight; // scrollXXX on html is sync with body which means overflow: hidden on body gets wrong scrollXXX.\n  // We should cut this ourself.\n\n  var bodyStyle = window.getComputedStyle(body);\n\n  if (bodyStyle.overflowX === 'hidden') {\n    documentWidth = win.innerWidth;\n  }\n\n  if (bodyStyle.overflowY === 'hidden') {\n    documentHeight = win.innerHeight;\n  } // Reset element position after calculate the visible area\n\n\n  if (element.style) {\n    element.style.position = originalPosition;\n  }\n\n  if (alwaysByViewport || isAncestorFixed(element)) {\n    // Clip by viewport's size.\n    visibleRect.left = Math.max(visibleRect.left, scrollX);\n    visibleRect.top = Math.max(visibleRect.top, scrollY);\n    visibleRect.right = Math.min(visibleRect.right, scrollX + viewportWidth);\n    visibleRect.bottom = Math.min(visibleRect.bottom, scrollY + viewportHeight);\n  } else {\n    // Clip by document's size.\n    var maxVisibleWidth = Math.max(documentWidth, scrollX + viewportWidth);\n    visibleRect.right = Math.min(visibleRect.right, maxVisibleWidth);\n    var maxVisibleHeight = Math.max(documentHeight, scrollY + viewportHeight);\n    visibleRect.bottom = Math.min(visibleRect.bottom, maxVisibleHeight);\n  }\n\n  return visibleRect.top >= 0 && visibleRect.left >= 0 && visibleRect.bottom > visibleRect.top && visibleRect.right > visibleRect.left ? visibleRect : null;\n}\n\nfunction adjustForViewport(elFuturePos, elRegion, visibleRect, overflow) {\n  var pos = utils.clone(elFuturePos);\n  var size = {\n    width: elRegion.width,\n    height: elRegion.height\n  };\n\n  if (overflow.adjustX && pos.left < visibleRect.left) {\n    pos.left = visibleRect.left;\n  } // Left edge inside and right edge outside viewport, try to resize it.\n\n\n  if (overflow.resizeWidth && pos.left >= visibleRect.left && pos.left + size.width > visibleRect.right) {\n    size.width -= pos.left + size.width - visibleRect.right;\n  } // Right edge outside viewport, try to move it.\n\n\n  if (overflow.adjustX && pos.left + size.width > visibleRect.right) {\n    // 保证左边界和可视区域左边界对齐\n    pos.left = Math.max(visibleRect.right - size.width, visibleRect.left);\n  } // Top edge outside viewport, try to move it.\n\n\n  if (overflow.adjustY && pos.top < visibleRect.top) {\n    pos.top = visibleRect.top;\n  } // Top edge inside and bottom edge outside viewport, try to resize it.\n\n\n  if (overflow.resizeHeight && pos.top >= visibleRect.top && pos.top + size.height > visibleRect.bottom) {\n    size.height -= pos.top + size.height - visibleRect.bottom;\n  } // Bottom edge outside viewport, try to move it.\n\n\n  if (overflow.adjustY && pos.top + size.height > visibleRect.bottom) {\n    // 保证上边界和可视区域上边界对齐\n    pos.top = Math.max(visibleRect.bottom - size.height, visibleRect.top);\n  }\n\n  return utils.mix(pos, size);\n}\n\nfunction getRegion(node) {\n  var offset;\n  var w;\n  var h;\n\n  if (!utils.isWindow(node) && node.nodeType !== 9) {\n    offset = utils.offset(node);\n    w = utils.outerWidth(node);\n    h = utils.outerHeight(node);\n  } else {\n    var win = utils.getWindow(node);\n    offset = {\n      left: utils.getWindowScrollLeft(win),\n      top: utils.getWindowScrollTop(win)\n    };\n    w = utils.viewportWidth(win);\n    h = utils.viewportHeight(win);\n  }\n\n  offset.width = w;\n  offset.height = h;\n  return offset;\n}\n\n/**\n * 获取 node 上的 align 对齐点 相对于页面的坐标\n */\nfunction getAlignOffset(region, align) {\n  var V = align.charAt(0);\n  var H = align.charAt(1);\n  var w = region.width;\n  var h = region.height;\n  var x = region.left;\n  var y = region.top;\n\n  if (V === 'c') {\n    y += h / 2;\n  } else if (V === 'b') {\n    y += h;\n  }\n\n  if (H === 'c') {\n    x += w / 2;\n  } else if (H === 'r') {\n    x += w;\n  }\n\n  return {\n    left: x,\n    top: y\n  };\n}\n\nfunction getElFuturePos(elRegion, refNodeRegion, points, offset, targetOffset) {\n  var p1 = getAlignOffset(refNodeRegion, points[1]);\n  var p2 = getAlignOffset(elRegion, points[0]);\n  var diff = [p2.left - p1.left, p2.top - p1.top];\n  return {\n    left: Math.round(elRegion.left - diff[0] + offset[0] - targetOffset[0]),\n    top: Math.round(elRegion.top - diff[1] + offset[1] - targetOffset[1])\n  };\n}\n\n/**\n * align dom node flexibly\n * @author yiminghe@gmail.com\n */\n\nfunction isFailX(elFuturePos, elRegion, visibleRect) {\n  return elFuturePos.left < visibleRect.left || elFuturePos.left + elRegion.width > visibleRect.right;\n}\n\nfunction isFailY(elFuturePos, elRegion, visibleRect) {\n  return elFuturePos.top < visibleRect.top || elFuturePos.top + elRegion.height > visibleRect.bottom;\n}\n\nfunction isCompleteFailX(elFuturePos, elRegion, visibleRect) {\n  return elFuturePos.left > visibleRect.right || elFuturePos.left + elRegion.width < visibleRect.left;\n}\n\nfunction isCompleteFailY(elFuturePos, elRegion, visibleRect) {\n  return elFuturePos.top > visibleRect.bottom || elFuturePos.top + elRegion.height < visibleRect.top;\n}\n\nfunction flip(points, reg, map) {\n  var ret = [];\n  utils.each(points, function (p) {\n    ret.push(p.replace(reg, function (m) {\n      return map[m];\n    }));\n  });\n  return ret;\n}\n\nfunction flipOffset(offset, index) {\n  offset[index] = -offset[index];\n  return offset;\n}\n\nfunction convertOffset(str, offsetLen) {\n  var n;\n\n  if (/%$/.test(str)) {\n    n = parseInt(str.substring(0, str.length - 1), 10) / 100 * offsetLen;\n  } else {\n    n = parseInt(str, 10);\n  }\n\n  return n || 0;\n}\n\nfunction normalizeOffset(offset, el) {\n  offset[0] = convertOffset(offset[0], el.width);\n  offset[1] = convertOffset(offset[1], el.height);\n}\n/**\n * @param el\n * @param tgtRegion 参照节点所占的区域: { left, top, width, height }\n * @param align\n */\n\n\nfunction doAlign(el, tgtRegion, align, isTgtRegionVisible) {\n  var points = align.points;\n  var offset = align.offset || [0, 0];\n  var targetOffset = align.targetOffset || [0, 0];\n  var overflow = align.overflow;\n  var source = align.source || el;\n  offset = [].concat(offset);\n  targetOffset = [].concat(targetOffset);\n  overflow = overflow || {};\n  var newOverflowCfg = {};\n  var fail = 0;\n  var alwaysByViewport = !!(overflow && overflow.alwaysByViewport); // 当前节点可以被放置的显示区域\n\n  var visibleRect = getVisibleRectForElement(source, alwaysByViewport); // 当前节点所占的区域, left/top/width/height\n\n  var elRegion = getRegion(source); // 将 offset 转换成数值，支持百分比\n\n  normalizeOffset(offset, elRegion);\n  normalizeOffset(targetOffset, tgtRegion); // 当前节点将要被放置的位置\n\n  var elFuturePos = getElFuturePos(elRegion, tgtRegion, points, offset, targetOffset); // 当前节点将要所处的区域\n\n  var newElRegion = utils.merge(elRegion, elFuturePos); // 如果可视区域不能完全放置当前节点时允许调整\n\n  if (visibleRect && (overflow.adjustX || overflow.adjustY) && isTgtRegionVisible) {\n    if (overflow.adjustX) {\n      // 如果横向不能放下\n      if (isFailX(elFuturePos, elRegion, visibleRect)) {\n        // 对齐位置反下\n        var newPoints = flip(points, /[lr]/gi, {\n          l: 'r',\n          r: 'l'\n        }); // 偏移量也反下\n\n        var newOffset = flipOffset(offset, 0);\n        var newTargetOffset = flipOffset(targetOffset, 0);\n        var newElFuturePos = getElFuturePos(elRegion, tgtRegion, newPoints, newOffset, newTargetOffset);\n\n        if (!isCompleteFailX(newElFuturePos, elRegion, visibleRect)) {\n          fail = 1;\n          points = newPoints;\n          offset = newOffset;\n          targetOffset = newTargetOffset;\n        }\n      }\n    }\n\n    if (overflow.adjustY) {\n      // 如果纵向不能放下\n      if (isFailY(elFuturePos, elRegion, visibleRect)) {\n        // 对齐位置反下\n        var _newPoints = flip(points, /[tb]/gi, {\n          t: 'b',\n          b: 't'\n        }); // 偏移量也反下\n\n\n        var _newOffset = flipOffset(offset, 1);\n\n        var _newTargetOffset = flipOffset(targetOffset, 1);\n\n        var _newElFuturePos = getElFuturePos(elRegion, tgtRegion, _newPoints, _newOffset, _newTargetOffset);\n\n        if (!isCompleteFailY(_newElFuturePos, elRegion, visibleRect)) {\n          fail = 1;\n          points = _newPoints;\n          offset = _newOffset;\n          targetOffset = _newTargetOffset;\n        }\n      }\n    } // 如果失败，重新计算当前节点将要被放置的位置\n\n\n    if (fail) {\n      elFuturePos = getElFuturePos(elRegion, tgtRegion, points, offset, targetOffset);\n      utils.mix(newElRegion, elFuturePos);\n    }\n\n    var isStillFailX = isFailX(elFuturePos, elRegion, visibleRect);\n    var isStillFailY = isFailY(elFuturePos, elRegion, visibleRect); // 检查反下后的位置是否可以放下了，如果仍然放不下：\n    // 1. 复原修改过的定位参数\n\n    if (isStillFailX || isStillFailY) {\n      var _newPoints2 = points; // 重置对应部分的翻转逻辑\n\n      if (isStillFailX) {\n        _newPoints2 = flip(points, /[lr]/gi, {\n          l: 'r',\n          r: 'l'\n        });\n      }\n\n      if (isStillFailY) {\n        _newPoints2 = flip(points, /[tb]/gi, {\n          t: 'b',\n          b: 't'\n        });\n      }\n\n      points = _newPoints2;\n      offset = align.offset || [0, 0];\n      targetOffset = align.targetOffset || [0, 0];\n    } // 2. 只有指定了可以调整当前方向才调整\n\n\n    newOverflowCfg.adjustX = overflow.adjustX && isStillFailX;\n    newOverflowCfg.adjustY = overflow.adjustY && isStillFailY; // 确实要调整，甚至可能会调整高度宽度\n\n    if (newOverflowCfg.adjustX || newOverflowCfg.adjustY) {\n      newElRegion = adjustForViewport(elFuturePos, elRegion, visibleRect, newOverflowCfg);\n    }\n  } // need judge to in case set fixed with in css on height auto element\n\n\n  if (newElRegion.width !== elRegion.width) {\n    utils.css(source, 'width', utils.width(source) + newElRegion.width - elRegion.width);\n  }\n\n  if (newElRegion.height !== elRegion.height) {\n    utils.css(source, 'height', utils.height(source) + newElRegion.height - elRegion.height);\n  } // https://github.com/kissyteam/kissy/issues/190\n  // 相对于屏幕位置没变，而 left/top 变了\n  // 例如 <div 'relative'><el absolute></div>\n\n\n  utils.offset(source, {\n    left: newElRegion.left,\n    top: newElRegion.top\n  }, {\n    useCssRight: align.useCssRight,\n    useCssBottom: align.useCssBottom,\n    useCssTransform: align.useCssTransform,\n    ignoreShake: align.ignoreShake\n  });\n  return {\n    points: points,\n    offset: offset,\n    targetOffset: targetOffset,\n    overflow: newOverflowCfg\n  };\n}\n/**\n *  2012-04-26 yiminghe@gmail.com\n *   - 优化智能对齐算法\n *   - 慎用 resizeXX\n *\n *  2011-07-13 yiminghe@gmail.com note:\n *   - 增加智能对齐，以及大小调整选项\n **/\n\nfunction isOutOfVisibleRect(target, alwaysByViewport) {\n  var visibleRect = getVisibleRectForElement(target, alwaysByViewport);\n  var targetRegion = getRegion(target);\n  return !visibleRect || targetRegion.left + targetRegion.width <= visibleRect.left || targetRegion.top + targetRegion.height <= visibleRect.top || targetRegion.left >= visibleRect.right || targetRegion.top >= visibleRect.bottom;\n}\n\nfunction alignElement(el, refNode, align) {\n  var target = align.target || refNode;\n  var refNodeRegion = getRegion(target);\n  var isTargetNotOutOfVisible = !isOutOfVisibleRect(target, align.overflow && align.overflow.alwaysByViewport);\n  return doAlign(el, refNodeRegion, align, isTargetNotOutOfVisible);\n}\n\nalignElement.__getOffsetParent = getOffsetParent;\nalignElement.__getVisibleRectForElement = getVisibleRectForElement;\n\n/**\n * `tgtPoint`: { pageX, pageY } or { clientX, clientY }.\n * If client position provided, will internal convert to page position.\n */\n\nfunction alignPoint(el, tgtPoint, align) {\n  var pageX;\n  var pageY;\n  var doc = utils.getDocument(el);\n  var win = doc.defaultView || doc.parentWindow;\n  var scrollX = utils.getWindowScrollLeft(win);\n  var scrollY = utils.getWindowScrollTop(win);\n  var viewportWidth = utils.viewportWidth(win);\n  var viewportHeight = utils.viewportHeight(win);\n\n  if ('pageX' in tgtPoint) {\n    pageX = tgtPoint.pageX;\n  } else {\n    pageX = scrollX + tgtPoint.clientX;\n  }\n\n  if ('pageY' in tgtPoint) {\n    pageY = tgtPoint.pageY;\n  } else {\n    pageY = scrollY + tgtPoint.clientY;\n  }\n\n  var tgtRegion = {\n    left: pageX,\n    top: pageY,\n    width: 0,\n    height: 0\n  };\n  var pointInView = pageX >= 0 && pageX <= scrollX + viewportWidth && pageY >= 0 && pageY <= scrollY + viewportHeight; // Provide default target point\n\n  var points = [align.points[0], 'cc'];\n  return doAlign(el, tgtRegion, _objectSpread2(_objectSpread2({}, align), {}, {\n    points: points\n  }), pointInView);\n}\n\nexport default alignElement;\nexport { alignElement, alignPoint };\n//# sourceMappingURL=index.js.map\n","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport ResizeObserver from 'resize-observer-polyfill';\nimport contains from \"rc-util/es/Dom/contains\";\nexport function isSamePoint(prev, next) {\n  if (prev === next) return true;\n  if (!prev || !next) return false;\n\n  if ('pageX' in next && 'pageY' in next) {\n    return prev.pageX === next.pageX && prev.pageY === next.pageY;\n  }\n\n  if ('clientX' in next && 'clientY' in next) {\n    return prev.clientX === next.clientX && prev.clientY === next.clientY;\n  }\n\n  return false;\n}\nexport function restoreFocus(activeElement, container) {\n  // Focus back if is in the container\n  if (activeElement !== document.activeElement && contains(container, activeElement) && typeof activeElement.focus === 'function') {\n    activeElement.focus();\n  }\n}\nexport function monitorResize(element, callback) {\n  var prevWidth = null;\n  var prevHeight = null;\n\n  function onResize(_ref) {\n    var _ref2 = _slicedToArray(_ref, 1),\n        target = _ref2[0].target;\n\n    if (!document.documentElement.contains(target)) return;\n\n    var _target$getBoundingCl = target.getBoundingClientRect(),\n        width = _target$getBoundingCl.width,\n        height = _target$getBoundingCl.height;\n\n    var fixedWidth = Math.floor(width);\n    var fixedHeight = Math.floor(height);\n\n    if (prevWidth !== fixedWidth || prevHeight !== fixedHeight) {\n      // https://webkit.org/blog/9997/resizeobserver-in-webkit/\n      Promise.resolve().then(function () {\n        callback({\n          width: fixedWidth,\n          height: fixedHeight\n        });\n      });\n    }\n\n    prevWidth = fixedWidth;\n    prevHeight = fixedHeight;\n  }\n\n  var resizeObserver = new ResizeObserver(onResize);\n\n  if (element) {\n    resizeObserver.observe(element);\n  }\n\n  return function () {\n    resizeObserver.disconnect();\n  };\n}","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\n\n/**\n * Removed props:\n *  - childrenProps\n */\nimport React from 'react';\nimport { composeRef } from \"rc-util/es/ref\";\nimport isVisible from \"rc-util/es/Dom/isVisible\";\nimport { alignElement, alignPoint } from 'dom-align';\nimport addEventListener from \"rc-util/es/Dom/addEventListener\";\nimport { isSamePoint, restoreFocus, monitorResize } from './util';\nimport useBuffer from './hooks/useBuffer';\n\nfunction getElement(func) {\n  if (typeof func !== 'function') return null;\n  return func();\n}\n\nfunction getPoint(point) {\n  if (_typeof(point) !== 'object' || !point) return null;\n  return point;\n}\n\nvar Align = function Align(_ref, ref) {\n  var children = _ref.children,\n      disabled = _ref.disabled,\n      target = _ref.target,\n      align = _ref.align,\n      onAlign = _ref.onAlign,\n      monitorWindowResize = _ref.monitorWindowResize,\n      _ref$monitorBufferTim = _ref.monitorBufferTime,\n      monitorBufferTime = _ref$monitorBufferTim === void 0 ? 0 : _ref$monitorBufferTim;\n  var cacheRef = React.useRef({});\n  var nodeRef = React.useRef();\n  var childNode = React.Children.only(children); // ===================== Align ======================\n  // We save the props here to avoid closure makes props ood\n\n  var forceAlignPropsRef = React.useRef({});\n  forceAlignPropsRef.current.disabled = disabled;\n  forceAlignPropsRef.current.target = target;\n  forceAlignPropsRef.current.onAlign = onAlign;\n\n  var _useBuffer = useBuffer(function () {\n    var _forceAlignPropsRef$c = forceAlignPropsRef.current,\n        latestDisabled = _forceAlignPropsRef$c.disabled,\n        latestTarget = _forceAlignPropsRef$c.target,\n        latestOnAlign = _forceAlignPropsRef$c.onAlign;\n\n    if (!latestDisabled && latestTarget) {\n      var source = nodeRef.current;\n      var result;\n      var element = getElement(latestTarget);\n      var point = getPoint(latestTarget);\n      cacheRef.current.element = element;\n      cacheRef.current.point = point; // IE lose focus after element realign\n      // We should record activeElement and restore later\n\n      var _document = document,\n          activeElement = _document.activeElement; // We only align when element is visible\n\n      if (element && isVisible(element)) {\n        result = alignElement(source, element, align);\n      } else if (point) {\n        result = alignPoint(source, point, align);\n      }\n\n      restoreFocus(activeElement, source);\n\n      if (latestOnAlign && result) {\n        latestOnAlign(source, result);\n      }\n\n      return true;\n    }\n\n    return false;\n  }, monitorBufferTime),\n      _useBuffer2 = _slicedToArray(_useBuffer, 2),\n      _forceAlign = _useBuffer2[0],\n      cancelForceAlign = _useBuffer2[1]; // ===================== Effect =====================\n  // Listen for target updated\n\n\n  var resizeMonitor = React.useRef({\n    cancel: function cancel() {}\n  }); // Listen for source updated\n\n  var sourceResizeMonitor = React.useRef({\n    cancel: function cancel() {}\n  });\n  React.useEffect(function () {\n    var element = getElement(target);\n    var point = getPoint(target);\n\n    if (nodeRef.current !== sourceResizeMonitor.current.element) {\n      sourceResizeMonitor.current.cancel();\n      sourceResizeMonitor.current.element = nodeRef.current;\n      sourceResizeMonitor.current.cancel = monitorResize(nodeRef.current, _forceAlign);\n    }\n\n    if (cacheRef.current.element !== element || !isSamePoint(cacheRef.current.point, point)) {\n      _forceAlign(); // Add resize observer\n\n\n      if (resizeMonitor.current.element !== element) {\n        resizeMonitor.current.cancel();\n        resizeMonitor.current.element = element;\n        resizeMonitor.current.cancel = monitorResize(element, _forceAlign);\n      }\n    }\n  }); // Listen for disabled change\n\n  React.useEffect(function () {\n    if (!disabled) {\n      _forceAlign();\n    } else {\n      cancelForceAlign();\n    }\n  }, [disabled]); // Listen for window resize\n\n  var winResizeRef = React.useRef(null);\n  React.useEffect(function () {\n    if (monitorWindowResize) {\n      if (!winResizeRef.current) {\n        winResizeRef.current = addEventListener(window, 'resize', _forceAlign);\n      }\n    } else if (winResizeRef.current) {\n      winResizeRef.current.remove();\n      winResizeRef.current = null;\n    }\n  }, [monitorWindowResize]); // Clear all if unmount\n\n  React.useEffect(function () {\n    return function () {\n      resizeMonitor.current.cancel();\n      sourceResizeMonitor.current.cancel();\n      if (winResizeRef.current) winResizeRef.current.remove();\n      cancelForceAlign();\n    };\n  }, []); // ====================== Ref =======================\n\n  React.useImperativeHandle(ref, function () {\n    return {\n      forceAlign: function forceAlign() {\n        return _forceAlign(true);\n      }\n    };\n  }); // ===================== Render =====================\n\n  if (React.isValidElement(childNode)) {\n    childNode = React.cloneElement(childNode, {\n      ref: composeRef(childNode.ref, nodeRef)\n    });\n  }\n\n  return childNode;\n};\n\nvar RefAlign = React.forwardRef(Align);\nRefAlign.displayName = 'Align';\nexport default RefAlign;","import React from 'react';\nexport default (function (callback, buffer) {\n  var calledRef = React.useRef(false);\n  var timeoutRef = React.useRef(null);\n\n  function cancelTrigger() {\n    window.clearTimeout(timeoutRef.current);\n  }\n\n  function trigger(force) {\n    if (!calledRef.current || force === true) {\n      if (callback() === false) {\n        // Not delay since callback cancelled self\n        return;\n      }\n\n      calledRef.current = true;\n      cancelTrigger();\n      timeoutRef.current = window.setTimeout(function () {\n        calledRef.current = false;\n      }, buffer);\n    } else {\n      cancelTrigger();\n      timeoutRef.current = window.setTimeout(function () {\n        calledRef.current = false;\n        trigger();\n      }, buffer);\n    }\n  }\n\n  return [trigger, function () {\n    calledRef.current = false;\n    cancelTrigger();\n  }];\n});","// export this package's api\nimport Align from './Align';\nexport default Align;","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { useState, useEffect, useRef } from 'react';\nimport raf from \"rc-util/es/raf\";\nvar StatusQueue = ['measure', 'align', null, 'motion'];\nexport default (function (visible, doMeasure) {\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      status = _useState2[0],\n      setInternalStatus = _useState2[1];\n\n  var rafRef = useRef();\n  var destroyRef = useRef(false);\n\n  function setStatus(nextStatus) {\n    if (!destroyRef.current) {\n      setInternalStatus(nextStatus);\n    }\n  }\n\n  function cancelRaf() {\n    raf.cancel(rafRef.current);\n  }\n\n  function goNextStatus(callback) {\n    cancelRaf();\n    rafRef.current = raf(function () {\n      // Only align should be manually trigger\n      setStatus(function (prev) {\n        switch (status) {\n          case 'align':\n            return 'motion';\n\n          case 'motion':\n            return 'stable';\n\n          default:\n        }\n\n        return prev;\n      });\n      callback === null || callback === void 0 ? void 0 : callback();\n    });\n  } // Init status\n\n\n  useEffect(function () {\n    setStatus('measure');\n  }, [visible]); // Go next status\n\n  useEffect(function () {\n    switch (status) {\n      case 'measure':\n        doMeasure();\n        break;\n\n      default:\n    }\n\n    if (status) {\n      rafRef.current = raf( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var index, nextStatus;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                index = StatusQueue.indexOf(status);\n                nextStatus = StatusQueue[index + 1];\n\n                if (nextStatus && index !== -1) {\n                  setStatus(nextStatus);\n                }\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      })));\n    }\n  }, [status]);\n  useEffect(function () {\n    return function () {\n      destroyRef.current = true;\n      cancelRaf();\n    };\n  }, []);\n  return [status, goNextStatus];\n});","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport { useRef, useState } from 'react';\nimport Align from 'rc-align';\nimport CSSMotion from 'rc-motion';\nimport classNames from 'classnames';\nimport useVisibleStatus from './useVisibleStatus';\nimport { getMotion } from '../utils/legacyUtil';\nimport useStretchStyle from './useStretchStyle';\nvar PopupInner = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var visible = props.visible,\n      prefixCls = props.prefixCls,\n      className = props.className,\n      style = props.style,\n      children = props.children,\n      zIndex = props.zIndex,\n      stretch = props.stretch,\n      destroyPopupOnHide = props.destroyPopupOnHide,\n      forceRender = props.forceRender,\n      align = props.align,\n      point = props.point,\n      getRootDomNode = props.getRootDomNode,\n      getClassNameFromAlign = props.getClassNameFromAlign,\n      onAlign = props.onAlign,\n      onMouseEnter = props.onMouseEnter,\n      onMouseLeave = props.onMouseLeave,\n      onMouseDown = props.onMouseDown,\n      onTouchStart = props.onTouchStart;\n  var alignRef = useRef();\n  var elementRef = useRef();\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      alignedClassName = _useState2[0],\n      setAlignedClassName = _useState2[1]; // ======================= Measure ========================\n\n\n  var _useStretchStyle = useStretchStyle(stretch),\n      _useStretchStyle2 = _slicedToArray(_useStretchStyle, 2),\n      stretchStyle = _useStretchStyle2[0],\n      measureStretchStyle = _useStretchStyle2[1];\n\n  function doMeasure() {\n    if (stretch) {\n      measureStretchStyle(getRootDomNode());\n    }\n  } // ======================== Status ========================\n\n\n  var _useVisibleStatus = useVisibleStatus(visible, doMeasure),\n      _useVisibleStatus2 = _slicedToArray(_useVisibleStatus, 2),\n      status = _useVisibleStatus2[0],\n      goNextStatus = _useVisibleStatus2[1]; // ======================== Aligns ========================\n\n\n  var prepareResolveRef = useRef(); // `target` on `rc-align` can accept as a function to get the bind element or a point.\n  // ref: https://www.npmjs.com/package/rc-align\n\n  function getAlignTarget() {\n    if (point) {\n      return point;\n    }\n\n    return getRootDomNode;\n  }\n\n  function forceAlign() {\n    var _alignRef$current;\n\n    (_alignRef$current = alignRef.current) === null || _alignRef$current === void 0 ? void 0 : _alignRef$current.forceAlign();\n  }\n\n  function onInternalAlign(popupDomNode, matchAlign) {\n    if (status === 'align') {\n      var nextAlignedClassName = getClassNameFromAlign(matchAlign);\n      setAlignedClassName(nextAlignedClassName); // Repeat until not more align needed\n\n      if (alignedClassName !== nextAlignedClassName) {\n        Promise.resolve().then(function () {\n          forceAlign();\n        });\n      } else {\n        goNextStatus(function () {\n          var _prepareResolveRef$cu;\n\n          (_prepareResolveRef$cu = prepareResolveRef.current) === null || _prepareResolveRef$cu === void 0 ? void 0 : _prepareResolveRef$cu.call(prepareResolveRef);\n        });\n      }\n\n      onAlign === null || onAlign === void 0 ? void 0 : onAlign(popupDomNode, matchAlign);\n    }\n  } // ======================== Motion ========================\n\n\n  var motion = _objectSpread({}, getMotion(props));\n\n  ['onAppearEnd', 'onEnterEnd', 'onLeaveEnd'].forEach(function (eventName) {\n    var originHandler = motion[eventName];\n\n    motion[eventName] = function (element, event) {\n      goNextStatus();\n      return originHandler === null || originHandler === void 0 ? void 0 : originHandler(element, event);\n    };\n  });\n\n  function onShowPrepare() {\n    return new Promise(function (resolve) {\n      prepareResolveRef.current = resolve;\n    });\n  } // Go to stable directly when motion not provided\n\n\n  React.useEffect(function () {\n    if (!motion.motionName && status === 'motion') {\n      goNextStatus();\n    }\n  }, [motion.motionName, status]); // ========================= Refs =========================\n\n  React.useImperativeHandle(ref, function () {\n    return {\n      forceAlign: forceAlign,\n      getElement: function getElement() {\n        return elementRef.current;\n      }\n    };\n  }); // ======================== Render ========================\n\n  var mergedStyle = _objectSpread(_objectSpread({}, stretchStyle), {}, {\n    zIndex: zIndex,\n    opacity: status === 'motion' || status === 'stable' || !visible ? undefined : 0,\n    pointerEvents: status === 'stable' ? undefined : 'none'\n  }, style); // Align status\n\n\n  var alignDisabled = true;\n\n  if ((align === null || align === void 0 ? void 0 : align.points) && (status === 'align' || status === 'stable')) {\n    alignDisabled = false;\n  }\n\n  var childNode = children; // Wrapper when multiple children\n\n  if (React.Children.count(children) > 1) {\n    childNode = /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-content\")\n    }, children);\n  }\n\n  return /*#__PURE__*/React.createElement(CSSMotion, _extends({\n    visible: visible,\n    ref: elementRef,\n    leavedClassName: \"\".concat(prefixCls, \"-hidden\")\n  }, motion, {\n    onAppearPrepare: onShowPrepare,\n    onEnterPrepare: onShowPrepare,\n    removeOnLeave: destroyPopupOnHide,\n    forceRender: forceRender\n  }), function (_ref, motionRef) {\n    var motionClassName = _ref.className,\n        motionStyle = _ref.style;\n    var mergedClassName = classNames(prefixCls, className, alignedClassName, motionClassName);\n    return /*#__PURE__*/React.createElement(Align, {\n      target: getAlignTarget(),\n      key: \"popup\",\n      ref: alignRef,\n      monitorWindowResize: true,\n      disabled: alignDisabled,\n      align: align,\n      onAlign: onInternalAlign\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      ref: motionRef,\n      className: mergedClassName,\n      onMouseEnter: onMouseEnter,\n      onMouseLeave: onMouseLeave,\n      onMouseDownCapture: onMouseDown,\n      onTouchStartCapture: onTouchStart,\n      style: _objectSpread(_objectSpread({}, motionStyle), mergedStyle)\n    }, childNode));\n  });\n});\nPopupInner.displayName = 'PopupInner';\nexport default PopupInner;","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nexport default (function (stretch) {\n  var _React$useState = React.useState({\n    width: 0,\n    height: 0\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      targetSize = _React$useState2[0],\n      setTargetSize = _React$useState2[1];\n\n  function measureStretch(element) {\n    setTargetSize({\n      width: element.offsetWidth,\n      height: element.offsetHeight\n    });\n  } // Merge stretch style\n\n\n  var style = React.useMemo(function () {\n    var sizeStyle = {};\n\n    if (stretch) {\n      var width = targetSize.width,\n          height = targetSize.height; // Stretch with target\n\n      if (stretch.indexOf('height') !== -1 && height) {\n        sizeStyle.height = height;\n      } else if (stretch.indexOf('minHeight') !== -1 && height) {\n        sizeStyle.minHeight = height;\n      }\n\n      if (stretch.indexOf('width') !== -1 && width) {\n        sizeStyle.width = width;\n      } else if (stretch.indexOf('minWidth') !== -1 && width) {\n        sizeStyle.minWidth = width;\n      }\n    }\n\n    return sizeStyle;\n  }, [stretch, targetSize]);\n  return [style, measureStretch];\n});","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport * as React from 'react';\nimport CSSMotion from 'rc-motion';\nimport classNames from 'classnames';\nvar MobilePopupInner = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var prefixCls = props.prefixCls,\n      visible = props.visible,\n      zIndex = props.zIndex,\n      children = props.children,\n      _props$mobile = props.mobile;\n  _props$mobile = _props$mobile === void 0 ? {} : _props$mobile;\n  var popupClassName = _props$mobile.popupClassName,\n      popupStyle = _props$mobile.popupStyle,\n      _props$mobile$popupMo = _props$mobile.popupMotion,\n      popupMotion = _props$mobile$popupMo === void 0 ? {} : _props$mobile$popupMo,\n      popupRender = _props$mobile.popupRender;\n  var elementRef = React.useRef(); // ========================= Refs =========================\n\n  React.useImperativeHandle(ref, function () {\n    return {\n      forceAlign: function forceAlign() {},\n      getElement: function getElement() {\n        return elementRef.current;\n      }\n    };\n  }); // ======================== Render ========================\n\n  var mergedStyle = _objectSpread({\n    zIndex: zIndex\n  }, popupStyle);\n\n  var childNode = children; // Wrapper when multiple children\n\n  if (React.Children.count(children) > 1) {\n    childNode = /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-content\")\n    }, children);\n  } // Mobile support additional render\n\n\n  if (popupRender) {\n    childNode = popupRender(childNode);\n  }\n\n  return /*#__PURE__*/React.createElement(CSSMotion, _extends({\n    visible: visible,\n    ref: elementRef,\n    removeOnLeave: true\n  }, popupMotion), function (_ref, motionRef) {\n    var motionClassName = _ref.className,\n        motionStyle = _ref.style;\n    var mergedClassName = classNames(prefixCls, popupClassName, motionClassName);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      ref: motionRef,\n      className: mergedClassName,\n      style: _objectSpread(_objectSpread({}, motionStyle), mergedStyle)\n    }, childNode);\n  });\n});\nMobilePopupInner.displayName = 'MobilePopupInner';\nexport default MobilePopupInner;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport { useState, useEffect } from 'react';\nimport isMobile from \"rc-util/es/isMobile\";\nimport Mask from './Mask';\nimport PopupInner from './PopupInner';\nimport MobilePopupInner from './MobilePopupInner';\nvar Popup = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var visible = _ref.visible,\n      mobile = _ref.mobile,\n      props = _objectWithoutProperties(_ref, [\"visible\", \"mobile\"]);\n\n  var _useState = useState(visible),\n      _useState2 = _slicedToArray(_useState, 2),\n      innerVisible = _useState2[0],\n      serInnerVisible = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      inMobile = _useState4[0],\n      setInMobile = _useState4[1];\n\n  var cloneProps = _objectSpread(_objectSpread({}, props), {}, {\n    visible: innerVisible\n  }); // We check mobile in visible changed here.\n  // And this also delay set `innerVisible` to avoid popup component render flash\n\n\n  useEffect(function () {\n    serInnerVisible(visible);\n\n    if (visible && mobile) {\n      setInMobile(isMobile());\n    }\n  }, [visible, mobile]);\n  var popupNode = inMobile ? /*#__PURE__*/React.createElement(MobilePopupInner, _extends({}, cloneProps, {\n    mobile: mobile,\n    ref: ref\n  })) : /*#__PURE__*/React.createElement(PopupInner, _extends({}, cloneProps, {\n    ref: ref\n  })); // We can use fragment directly but this may failed some selector usage. Keep as origin logic\n\n  return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Mask, cloneProps), popupNode);\n});\nPopup.displayName = 'Popup';\nexport default Popup;","export default (function () {\n  if (typeof navigator === 'undefined' || typeof window === 'undefined') {\n    return false;\n  }\n\n  var agent = navigator.userAgent || navigator.vendor || window.opera;\n\n  if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(agent) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(agent === null || agent === void 0 ? void 0 : agent.substr(0, 4))) {\n    return true;\n  }\n\n  return false;\n});","import * as React from 'react';\nvar TriggerContext = /*#__PURE__*/React.createContext(null);\nexport default TriggerContext;","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport * as React from 'react';\nimport ReactDOM from 'react-dom';\nimport raf from \"rc-util/es/raf\";\nimport contains from \"rc-util/es/Dom/contains\";\nimport findDOMNode from \"rc-util/es/Dom/findDOMNode\";\nimport { composeRef, supportRef } from \"rc-util/es/ref\";\nimport addEventListener from \"rc-util/es/Dom/addEventListener\";\nimport Portal from \"rc-util/es/Portal\";\nimport classNames from 'classnames';\nimport { getAlignFromPlacement, getAlignPopupClassName } from './utils/alignUtil';\nimport Popup from './Popup';\nimport TriggerContext from './context';\n\nfunction noop() {}\n\nfunction returnEmptyString() {\n  return '';\n}\n\nfunction returnDocument(element) {\n  if (element) {\n    return element.ownerDocument;\n  }\n\n  return window.document;\n}\n\nvar ALL_HANDLERS = ['onClick', 'onMouseDown', 'onTouchStart', 'onMouseEnter', 'onMouseLeave', 'onFocus', 'onBlur', 'onContextMenu'];\n/**\n * Internal usage. Do not use in your code since this will be removed.\n */\n\nexport function generateTrigger(PortalComponent) {\n  var Trigger = /*#__PURE__*/function (_React$Component) {\n    _inherits(Trigger, _React$Component);\n\n    var _super = _createSuper(Trigger);\n\n    function Trigger(props) {\n      var _this;\n\n      _classCallCheck(this, Trigger);\n\n      _this = _super.call(this, props);\n      _this.popupRef = /*#__PURE__*/React.createRef();\n      _this.triggerRef = /*#__PURE__*/React.createRef();\n\n      _this.onMouseEnter = function (e) {\n        var mouseEnterDelay = _this.props.mouseEnterDelay;\n\n        _this.fireEvents('onMouseEnter', e);\n\n        _this.delaySetPopupVisible(true, mouseEnterDelay, mouseEnterDelay ? null : e);\n      };\n\n      _this.onMouseMove = function (e) {\n        _this.fireEvents('onMouseMove', e);\n\n        _this.setPoint(e);\n      };\n\n      _this.onMouseLeave = function (e) {\n        _this.fireEvents('onMouseLeave', e);\n\n        _this.delaySetPopupVisible(false, _this.props.mouseLeaveDelay);\n      };\n\n      _this.onPopupMouseEnter = function () {\n        _this.clearDelayTimer();\n      };\n\n      _this.onPopupMouseLeave = function (e) {\n        var _this$popupRef$curren;\n\n        // https://github.com/react-component/trigger/pull/13\n        // react bug?\n        if (e.relatedTarget && !e.relatedTarget.setTimeout && contains((_this$popupRef$curren = _this.popupRef.current) === null || _this$popupRef$curren === void 0 ? void 0 : _this$popupRef$curren.getElement(), e.relatedTarget)) {\n          return;\n        }\n\n        _this.delaySetPopupVisible(false, _this.props.mouseLeaveDelay);\n      };\n\n      _this.onFocus = function (e) {\n        _this.fireEvents('onFocus', e); // incase focusin and focusout\n\n\n        _this.clearDelayTimer();\n\n        if (_this.isFocusToShow()) {\n          _this.focusTime = Date.now();\n\n          _this.delaySetPopupVisible(true, _this.props.focusDelay);\n        }\n      };\n\n      _this.onMouseDown = function (e) {\n        _this.fireEvents('onMouseDown', e);\n\n        _this.preClickTime = Date.now();\n      };\n\n      _this.onTouchStart = function (e) {\n        _this.fireEvents('onTouchStart', e);\n\n        _this.preTouchTime = Date.now();\n      };\n\n      _this.onBlur = function (e) {\n        _this.fireEvents('onBlur', e);\n\n        _this.clearDelayTimer();\n\n        if (_this.isBlurToHide()) {\n          _this.delaySetPopupVisible(false, _this.props.blurDelay);\n        }\n      };\n\n      _this.onContextMenu = function (e) {\n        e.preventDefault();\n\n        _this.fireEvents('onContextMenu', e);\n\n        _this.setPopupVisible(true, e);\n      };\n\n      _this.onContextMenuClose = function () {\n        if (_this.isContextMenuToShow()) {\n          _this.close();\n        }\n      };\n\n      _this.onClick = function (event) {\n        _this.fireEvents('onClick', event); // focus will trigger click\n\n\n        if (_this.focusTime) {\n          var preTime;\n\n          if (_this.preClickTime && _this.preTouchTime) {\n            preTime = Math.min(_this.preClickTime, _this.preTouchTime);\n          } else if (_this.preClickTime) {\n            preTime = _this.preClickTime;\n          } else if (_this.preTouchTime) {\n            preTime = _this.preTouchTime;\n          }\n\n          if (Math.abs(preTime - _this.focusTime) < 20) {\n            return;\n          }\n\n          _this.focusTime = 0;\n        }\n\n        _this.preClickTime = 0;\n        _this.preTouchTime = 0; // Only prevent default when all the action is click.\n        // https://github.com/ant-design/ant-design/issues/17043\n        // https://github.com/ant-design/ant-design/issues/17291\n\n        if (_this.isClickToShow() && (_this.isClickToHide() || _this.isBlurToHide()) && event && event.preventDefault) {\n          event.preventDefault();\n        }\n\n        var nextVisible = !_this.state.popupVisible;\n\n        if (_this.isClickToHide() && !nextVisible || nextVisible && _this.isClickToShow()) {\n          _this.setPopupVisible(!_this.state.popupVisible, event);\n        }\n      };\n\n      _this.onPopupMouseDown = function () {\n        _this.hasPopupMouseDown = true;\n        clearTimeout(_this.mouseDownTimeout);\n        _this.mouseDownTimeout = window.setTimeout(function () {\n          _this.hasPopupMouseDown = false;\n        }, 0);\n\n        if (_this.context) {\n          var _this$context;\n\n          (_this$context = _this.context).onPopupMouseDown.apply(_this$context, arguments);\n        }\n      };\n\n      _this.onDocumentClick = function (event) {\n        if (_this.props.mask && !_this.props.maskClosable) {\n          return;\n        }\n\n        var target = event.target;\n\n        var root = _this.getRootDomNode();\n\n        var popupNode = _this.getPopupDomNode();\n\n        if ( // mousedown on the target should also close popup when action is contextMenu.\n        // https://github.com/ant-design/ant-design/issues/29853\n        (!contains(root, target) || _this.isContextMenuOnly()) && !contains(popupNode, target) && !_this.hasPopupMouseDown) {\n          _this.close();\n        }\n      };\n\n      _this.getRootDomNode = function () {\n        var getTriggerDOMNode = _this.props.getTriggerDOMNode;\n\n        if (getTriggerDOMNode) {\n          return getTriggerDOMNode(_this.triggerRef.current);\n        }\n\n        try {\n          var domNode = findDOMNode(_this.triggerRef.current);\n\n          if (domNode) {\n            return domNode;\n          }\n        } catch (err) {// Do nothing\n        }\n\n        return ReactDOM.findDOMNode(_assertThisInitialized(_this));\n      };\n\n      _this.getPopupClassNameFromAlign = function (align) {\n        var className = [];\n        var _this$props = _this.props,\n            popupPlacement = _this$props.popupPlacement,\n            builtinPlacements = _this$props.builtinPlacements,\n            prefixCls = _this$props.prefixCls,\n            alignPoint = _this$props.alignPoint,\n            getPopupClassNameFromAlign = _this$props.getPopupClassNameFromAlign;\n\n        if (popupPlacement && builtinPlacements) {\n          className.push(getAlignPopupClassName(builtinPlacements, prefixCls, align, alignPoint));\n        }\n\n        if (getPopupClassNameFromAlign) {\n          className.push(getPopupClassNameFromAlign(align));\n        }\n\n        return className.join(' ');\n      };\n\n      _this.getComponent = function () {\n        var _this$props2 = _this.props,\n            prefixCls = _this$props2.prefixCls,\n            destroyPopupOnHide = _this$props2.destroyPopupOnHide,\n            popupClassName = _this$props2.popupClassName,\n            onPopupAlign = _this$props2.onPopupAlign,\n            popupMotion = _this$props2.popupMotion,\n            popupAnimation = _this$props2.popupAnimation,\n            popupTransitionName = _this$props2.popupTransitionName,\n            popupStyle = _this$props2.popupStyle,\n            mask = _this$props2.mask,\n            maskAnimation = _this$props2.maskAnimation,\n            maskTransitionName = _this$props2.maskTransitionName,\n            maskMotion = _this$props2.maskMotion,\n            zIndex = _this$props2.zIndex,\n            popup = _this$props2.popup,\n            stretch = _this$props2.stretch,\n            alignPoint = _this$props2.alignPoint,\n            mobile = _this$props2.mobile,\n            forceRender = _this$props2.forceRender;\n        var _this$state = _this.state,\n            popupVisible = _this$state.popupVisible,\n            point = _this$state.point;\n\n        var align = _this.getPopupAlign();\n\n        var mouseProps = {};\n\n        if (_this.isMouseEnterToShow()) {\n          mouseProps.onMouseEnter = _this.onPopupMouseEnter;\n        }\n\n        if (_this.isMouseLeaveToHide()) {\n          mouseProps.onMouseLeave = _this.onPopupMouseLeave;\n        }\n\n        mouseProps.onMouseDown = _this.onPopupMouseDown;\n        mouseProps.onTouchStart = _this.onPopupMouseDown;\n        return /*#__PURE__*/React.createElement(Popup, _extends({\n          prefixCls: prefixCls,\n          destroyPopupOnHide: destroyPopupOnHide,\n          visible: popupVisible,\n          point: alignPoint && point,\n          className: popupClassName,\n          align: align,\n          onAlign: onPopupAlign,\n          animation: popupAnimation,\n          getClassNameFromAlign: _this.getPopupClassNameFromAlign\n        }, mouseProps, {\n          stretch: stretch,\n          getRootDomNode: _this.getRootDomNode,\n          style: popupStyle,\n          mask: mask,\n          zIndex: zIndex,\n          transitionName: popupTransitionName,\n          maskAnimation: maskAnimation,\n          maskTransitionName: maskTransitionName,\n          maskMotion: maskMotion,\n          ref: _this.popupRef,\n          motion: popupMotion,\n          mobile: mobile,\n          forceRender: forceRender\n        }), typeof popup === 'function' ? popup() : popup);\n      };\n\n      _this.attachParent = function (popupContainer) {\n        raf.cancel(_this.attachId);\n        var _this$props3 = _this.props,\n            getPopupContainer = _this$props3.getPopupContainer,\n            getDocument = _this$props3.getDocument;\n\n        var domNode = _this.getRootDomNode();\n\n        var mountNode;\n\n        if (!getPopupContainer) {\n          mountNode = getDocument(_this.getRootDomNode()).body;\n        } else if (domNode || getPopupContainer.length === 0) {\n          // Compatible for legacy getPopupContainer with domNode argument.\n          // If no need `domNode` argument, will call directly.\n          // https://codesandbox.io/s/eloquent-mclean-ss93m?file=/src/App.js\n          mountNode = getPopupContainer(domNode);\n        }\n\n        if (mountNode) {\n          mountNode.appendChild(popupContainer);\n        } else {\n          // Retry after frame render in case parent not ready\n          _this.attachId = raf(function () {\n            _this.attachParent(popupContainer);\n          });\n        }\n      };\n\n      _this.getContainer = function () {\n        var getDocument = _this.props.getDocument;\n        var popupContainer = getDocument(_this.getRootDomNode()).createElement('div'); // Make sure default popup container will never cause scrollbar appearing\n        // https://github.com/react-component/trigger/issues/41\n\n        popupContainer.style.position = 'absolute';\n        popupContainer.style.top = '0';\n        popupContainer.style.left = '0';\n        popupContainer.style.width = '100%';\n\n        _this.attachParent(popupContainer);\n\n        return popupContainer;\n      };\n\n      _this.setPoint = function (point) {\n        var alignPoint = _this.props.alignPoint;\n        if (!alignPoint || !point) return;\n\n        _this.setState({\n          point: {\n            pageX: point.pageX,\n            pageY: point.pageY\n          }\n        });\n      };\n\n      _this.handlePortalUpdate = function () {\n        if (_this.state.prevPopupVisible !== _this.state.popupVisible) {\n          _this.props.afterPopupVisibleChange(_this.state.popupVisible);\n        }\n      };\n\n      _this.triggerContextValue = {\n        onPopupMouseDown: _this.onPopupMouseDown\n      };\n      var popupVisible;\n\n      if ('popupVisible' in props) {\n        popupVisible = !!props.popupVisible;\n      } else {\n        popupVisible = !!props.defaultPopupVisible;\n      }\n\n      _this.state = {\n        prevPopupVisible: popupVisible,\n        popupVisible: popupVisible\n      };\n      ALL_HANDLERS.forEach(function (h) {\n        _this[\"fire\".concat(h)] = function (e) {\n          _this.fireEvents(h, e);\n        };\n      });\n      return _this;\n    }\n\n    _createClass(Trigger, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        this.componentDidUpdate();\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate() {\n        var props = this.props;\n        var state = this.state; // We must listen to `mousedown` or `touchstart`, edge case:\n        // https://github.com/ant-design/ant-design/issues/5804\n        // https://github.com/react-component/calendar/issues/250\n        // https://github.com/react-component/trigger/issues/50\n\n        if (state.popupVisible) {\n          var currentDocument;\n\n          if (!this.clickOutsideHandler && (this.isClickToHide() || this.isContextMenuToShow())) {\n            currentDocument = props.getDocument(this.getRootDomNode());\n            this.clickOutsideHandler = addEventListener(currentDocument, 'mousedown', this.onDocumentClick);\n          } // always hide on mobile\n\n\n          if (!this.touchOutsideHandler) {\n            currentDocument = currentDocument || props.getDocument(this.getRootDomNode());\n            this.touchOutsideHandler = addEventListener(currentDocument, 'touchstart', this.onDocumentClick);\n          } // close popup when trigger type contains 'onContextMenu' and document is scrolling.\n\n\n          if (!this.contextMenuOutsideHandler1 && this.isContextMenuToShow()) {\n            currentDocument = currentDocument || props.getDocument(this.getRootDomNode());\n            this.contextMenuOutsideHandler1 = addEventListener(currentDocument, 'scroll', this.onContextMenuClose);\n          } // close popup when trigger type contains 'onContextMenu' and window is blur.\n\n\n          if (!this.contextMenuOutsideHandler2 && this.isContextMenuToShow()) {\n            this.contextMenuOutsideHandler2 = addEventListener(window, 'blur', this.onContextMenuClose);\n          }\n\n          return;\n        }\n\n        this.clearOutsideHandler();\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        this.clearDelayTimer();\n        this.clearOutsideHandler();\n        clearTimeout(this.mouseDownTimeout);\n        raf.cancel(this.attachId);\n      }\n    }, {\n      key: \"getPopupDomNode\",\n      value: function getPopupDomNode() {\n        var _this$popupRef$curren2;\n\n        // for test\n        return ((_this$popupRef$curren2 = this.popupRef.current) === null || _this$popupRef$curren2 === void 0 ? void 0 : _this$popupRef$curren2.getElement()) || null;\n      }\n    }, {\n      key: \"getPopupAlign\",\n      value: function getPopupAlign() {\n        var props = this.props;\n        var popupPlacement = props.popupPlacement,\n            popupAlign = props.popupAlign,\n            builtinPlacements = props.builtinPlacements;\n\n        if (popupPlacement && builtinPlacements) {\n          return getAlignFromPlacement(builtinPlacements, popupPlacement, popupAlign);\n        }\n\n        return popupAlign;\n      }\n      /**\n       * @param popupVisible    Show or not the popup element\n       * @param event           SyntheticEvent, used for `pointAlign`\n       */\n\n    }, {\n      key: \"setPopupVisible\",\n      value: function setPopupVisible(popupVisible, event) {\n        var alignPoint = this.props.alignPoint;\n        var prevPopupVisible = this.state.popupVisible;\n        this.clearDelayTimer();\n\n        if (prevPopupVisible !== popupVisible) {\n          if (!('popupVisible' in this.props)) {\n            this.setState({\n              popupVisible: popupVisible,\n              prevPopupVisible: prevPopupVisible\n            });\n          }\n\n          this.props.onPopupVisibleChange(popupVisible);\n        } // Always record the point position since mouseEnterDelay will delay the show\n\n\n        if (alignPoint && event && popupVisible) {\n          this.setPoint(event);\n        }\n      }\n    }, {\n      key: \"delaySetPopupVisible\",\n      value: function delaySetPopupVisible(visible, delayS, event) {\n        var _this2 = this;\n\n        var delay = delayS * 1000;\n        this.clearDelayTimer();\n\n        if (delay) {\n          var point = event ? {\n            pageX: event.pageX,\n            pageY: event.pageY\n          } : null;\n          this.delayTimer = window.setTimeout(function () {\n            _this2.setPopupVisible(visible, point);\n\n            _this2.clearDelayTimer();\n          }, delay);\n        } else {\n          this.setPopupVisible(visible, event);\n        }\n      }\n    }, {\n      key: \"clearDelayTimer\",\n      value: function clearDelayTimer() {\n        if (this.delayTimer) {\n          clearTimeout(this.delayTimer);\n          this.delayTimer = null;\n        }\n      }\n    }, {\n      key: \"clearOutsideHandler\",\n      value: function clearOutsideHandler() {\n        if (this.clickOutsideHandler) {\n          this.clickOutsideHandler.remove();\n          this.clickOutsideHandler = null;\n        }\n\n        if (this.contextMenuOutsideHandler1) {\n          this.contextMenuOutsideHandler1.remove();\n          this.contextMenuOutsideHandler1 = null;\n        }\n\n        if (this.contextMenuOutsideHandler2) {\n          this.contextMenuOutsideHandler2.remove();\n          this.contextMenuOutsideHandler2 = null;\n        }\n\n        if (this.touchOutsideHandler) {\n          this.touchOutsideHandler.remove();\n          this.touchOutsideHandler = null;\n        }\n      }\n    }, {\n      key: \"createTwoChains\",\n      value: function createTwoChains(event) {\n        var childPros = this.props.children.props;\n        var props = this.props;\n\n        if (childPros[event] && props[event]) {\n          return this[\"fire\".concat(event)];\n        }\n\n        return childPros[event] || props[event];\n      }\n    }, {\n      key: \"isClickToShow\",\n      value: function isClickToShow() {\n        var _this$props4 = this.props,\n            action = _this$props4.action,\n            showAction = _this$props4.showAction;\n        return action.indexOf('click') !== -1 || showAction.indexOf('click') !== -1;\n      }\n    }, {\n      key: \"isContextMenuOnly\",\n      value: function isContextMenuOnly() {\n        var action = this.props.action;\n        return action === 'contextMenu' || action.length === 1 && action[0] === 'contextMenu';\n      }\n    }, {\n      key: \"isContextMenuToShow\",\n      value: function isContextMenuToShow() {\n        var _this$props5 = this.props,\n            action = _this$props5.action,\n            showAction = _this$props5.showAction;\n        return action.indexOf('contextMenu') !== -1 || showAction.indexOf('contextMenu') !== -1;\n      }\n    }, {\n      key: \"isClickToHide\",\n      value: function isClickToHide() {\n        var _this$props6 = this.props,\n            action = _this$props6.action,\n            hideAction = _this$props6.hideAction;\n        return action.indexOf('click') !== -1 || hideAction.indexOf('click') !== -1;\n      }\n    }, {\n      key: \"isMouseEnterToShow\",\n      value: function isMouseEnterToShow() {\n        var _this$props7 = this.props,\n            action = _this$props7.action,\n            showAction = _this$props7.showAction;\n        return action.indexOf('hover') !== -1 || showAction.indexOf('mouseEnter') !== -1;\n      }\n    }, {\n      key: \"isMouseLeaveToHide\",\n      value: function isMouseLeaveToHide() {\n        var _this$props8 = this.props,\n            action = _this$props8.action,\n            hideAction = _this$props8.hideAction;\n        return action.indexOf('hover') !== -1 || hideAction.indexOf('mouseLeave') !== -1;\n      }\n    }, {\n      key: \"isFocusToShow\",\n      value: function isFocusToShow() {\n        var _this$props9 = this.props,\n            action = _this$props9.action,\n            showAction = _this$props9.showAction;\n        return action.indexOf('focus') !== -1 || showAction.indexOf('focus') !== -1;\n      }\n    }, {\n      key: \"isBlurToHide\",\n      value: function isBlurToHide() {\n        var _this$props10 = this.props,\n            action = _this$props10.action,\n            hideAction = _this$props10.hideAction;\n        return action.indexOf('focus') !== -1 || hideAction.indexOf('blur') !== -1;\n      }\n    }, {\n      key: \"forcePopupAlign\",\n      value: function forcePopupAlign() {\n        if (this.state.popupVisible) {\n          var _this$popupRef$curren3;\n\n          (_this$popupRef$curren3 = this.popupRef.current) === null || _this$popupRef$curren3 === void 0 ? void 0 : _this$popupRef$curren3.forceAlign();\n        }\n      }\n    }, {\n      key: \"fireEvents\",\n      value: function fireEvents(type, e) {\n        var childCallback = this.props.children.props[type];\n\n        if (childCallback) {\n          childCallback(e);\n        }\n\n        var callback = this.props[type];\n\n        if (callback) {\n          callback(e);\n        }\n      }\n    }, {\n      key: \"close\",\n      value: function close() {\n        this.setPopupVisible(false);\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var popupVisible = this.state.popupVisible;\n        var _this$props11 = this.props,\n            children = _this$props11.children,\n            forceRender = _this$props11.forceRender,\n            alignPoint = _this$props11.alignPoint,\n            className = _this$props11.className,\n            autoDestroy = _this$props11.autoDestroy;\n        var child = React.Children.only(children);\n        var newChildProps = {\n          key: 'trigger'\n        }; // ============================== Visible Handlers ==============================\n        // >>> ContextMenu\n\n        if (this.isContextMenuToShow()) {\n          newChildProps.onContextMenu = this.onContextMenu;\n        } else {\n          newChildProps.onContextMenu = this.createTwoChains('onContextMenu');\n        } // >>> Click\n\n\n        if (this.isClickToHide() || this.isClickToShow()) {\n          newChildProps.onClick = this.onClick;\n          newChildProps.onMouseDown = this.onMouseDown;\n          newChildProps.onTouchStart = this.onTouchStart;\n        } else {\n          newChildProps.onClick = this.createTwoChains('onClick');\n          newChildProps.onMouseDown = this.createTwoChains('onMouseDown');\n          newChildProps.onTouchStart = this.createTwoChains('onTouchStart');\n        } // >>> Hover(enter)\n\n\n        if (this.isMouseEnterToShow()) {\n          newChildProps.onMouseEnter = this.onMouseEnter; // Point align\n\n          if (alignPoint) {\n            newChildProps.onMouseMove = this.onMouseMove;\n          }\n        } else {\n          newChildProps.onMouseEnter = this.createTwoChains('onMouseEnter');\n        } // >>> Hover(leave)\n\n\n        if (this.isMouseLeaveToHide()) {\n          newChildProps.onMouseLeave = this.onMouseLeave;\n        } else {\n          newChildProps.onMouseLeave = this.createTwoChains('onMouseLeave');\n        } // >>> Focus\n\n\n        if (this.isFocusToShow() || this.isBlurToHide()) {\n          newChildProps.onFocus = this.onFocus;\n          newChildProps.onBlur = this.onBlur;\n        } else {\n          newChildProps.onFocus = this.createTwoChains('onFocus');\n          newChildProps.onBlur = this.createTwoChains('onBlur');\n        } // =================================== Render ===================================\n\n\n        var childrenClassName = classNames(child && child.props && child.props.className, className);\n\n        if (childrenClassName) {\n          newChildProps.className = childrenClassName;\n        }\n\n        var cloneProps = _objectSpread({}, newChildProps);\n\n        if (supportRef(child)) {\n          cloneProps.ref = composeRef(this.triggerRef, child.ref);\n        }\n\n        var trigger = /*#__PURE__*/React.cloneElement(child, cloneProps);\n        var portal; // prevent unmounting after it's rendered\n\n        if (popupVisible || this.popupRef.current || forceRender) {\n          portal = /*#__PURE__*/React.createElement(PortalComponent, {\n            key: \"portal\",\n            getContainer: this.getContainer,\n            didUpdate: this.handlePortalUpdate\n          }, this.getComponent());\n        }\n\n        if (!popupVisible && autoDestroy) {\n          portal = null;\n        }\n\n        return /*#__PURE__*/React.createElement(TriggerContext.Provider, {\n          value: this.triggerContextValue\n        }, trigger, portal);\n      }\n    }], [{\n      key: \"getDerivedStateFromProps\",\n      value: function getDerivedStateFromProps(_ref, prevState) {\n        var popupVisible = _ref.popupVisible;\n        var newState = {};\n\n        if (popupVisible !== undefined && prevState.popupVisible !== popupVisible) {\n          newState.popupVisible = popupVisible;\n          newState.prevPopupVisible = prevState.popupVisible;\n        }\n\n        return newState;\n      }\n    }]);\n\n    return Trigger;\n  }(React.Component);\n\n  Trigger.contextType = TriggerContext;\n  Trigger.defaultProps = {\n    prefixCls: 'rc-trigger-popup',\n    getPopupClassNameFromAlign: returnEmptyString,\n    getDocument: returnDocument,\n    onPopupVisibleChange: noop,\n    afterPopupVisibleChange: noop,\n    onPopupAlign: noop,\n    popupClassName: '',\n    mouseEnterDelay: 0,\n    mouseLeaveDelay: 0.1,\n    focusDelay: 0,\n    blurDelay: 0.15,\n    popupStyle: {},\n    destroyPopupOnHide: false,\n    popupAlign: {},\n    defaultPopupVisible: false,\n    mask: false,\n    maskClosable: true,\n    action: [],\n    showAction: [],\n    hideAction: [],\n    autoDestroy: false\n  };\n  return Trigger;\n}\nexport default generateTrigger(Portal);","var autoAdjustOverflow = {\n  adjustX: 1,\n  adjustY: 1\n};\nvar targetOffset = [0, 0];\nexport var placements = {\n  left: {\n    points: ['cr', 'cl'],\n    overflow: autoAdjustOverflow,\n    offset: [-4, 0],\n    targetOffset: targetOffset\n  },\n  right: {\n    points: ['cl', 'cr'],\n    overflow: autoAdjustOverflow,\n    offset: [4, 0],\n    targetOffset: targetOffset\n  },\n  top: {\n    points: ['bc', 'tc'],\n    overflow: autoAdjustOverflow,\n    offset: [0, -4],\n    targetOffset: targetOffset\n  },\n  bottom: {\n    points: ['tc', 'bc'],\n    overflow: autoAdjustOverflow,\n    offset: [0, 4],\n    targetOffset: targetOffset\n  },\n  topLeft: {\n    points: ['bl', 'tl'],\n    overflow: autoAdjustOverflow,\n    offset: [0, -4],\n    targetOffset: targetOffset\n  },\n  leftTop: {\n    points: ['tr', 'tl'],\n    overflow: autoAdjustOverflow,\n    offset: [-4, 0],\n    targetOffset: targetOffset\n  },\n  topRight: {\n    points: ['br', 'tr'],\n    overflow: autoAdjustOverflow,\n    offset: [0, -4],\n    targetOffset: targetOffset\n  },\n  rightTop: {\n    points: ['tl', 'tr'],\n    overflow: autoAdjustOverflow,\n    offset: [4, 0],\n    targetOffset: targetOffset\n  },\n  bottomRight: {\n    points: ['tr', 'br'],\n    overflow: autoAdjustOverflow,\n    offset: [0, 4],\n    targetOffset: targetOffset\n  },\n  rightBottom: {\n    points: ['bl', 'br'],\n    overflow: autoAdjustOverflow,\n    offset: [4, 0],\n    targetOffset: targetOffset\n  },\n  bottomLeft: {\n    points: ['tl', 'bl'],\n    overflow: autoAdjustOverflow,\n    offset: [0, 4],\n    targetOffset: targetOffset\n  },\n  leftBottom: {\n    points: ['br', 'bl'],\n    overflow: autoAdjustOverflow,\n    offset: [-4, 0],\n    targetOffset: targetOffset\n  }\n};\nexport default placements;","import * as React from 'react';\n\nvar Content = function Content(props) {\n  var overlay = props.overlay,\n      prefixCls = props.prefixCls,\n      id = props.id,\n      overlayInnerStyle = props.overlayInnerStyle;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-inner\"),\n    id: id,\n    role: \"tooltip\",\n    style: overlayInnerStyle\n  }, typeof overlay === 'function' ? overlay() : overlay);\n};\n\nexport default Content;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport { useRef, useImperativeHandle, forwardRef } from 'react';\nimport Trigger from 'rc-trigger';\nimport { placements } from './placements';\nimport Content from './Content';\n\nvar Tooltip = function Tooltip(props, ref) {\n  var overlayClassName = props.overlayClassName,\n      _props$trigger = props.trigger,\n      trigger = _props$trigger === void 0 ? ['hover'] : _props$trigger,\n      _props$mouseEnterDela = props.mouseEnterDelay,\n      mouseEnterDelay = _props$mouseEnterDela === void 0 ? 0 : _props$mouseEnterDela,\n      _props$mouseLeaveDela = props.mouseLeaveDelay,\n      mouseLeaveDelay = _props$mouseLeaveDela === void 0 ? 0.1 : _props$mouseLeaveDela,\n      overlayStyle = props.overlayStyle,\n      _props$prefixCls = props.prefixCls,\n      prefixCls = _props$prefixCls === void 0 ? 'rc-tooltip' : _props$prefixCls,\n      children = props.children,\n      onVisibleChange = props.onVisibleChange,\n      afterVisibleChange = props.afterVisibleChange,\n      transitionName = props.transitionName,\n      animation = props.animation,\n      motion = props.motion,\n      _props$placement = props.placement,\n      placement = _props$placement === void 0 ? 'right' : _props$placement,\n      _props$align = props.align,\n      align = _props$align === void 0 ? {} : _props$align,\n      _props$destroyTooltip = props.destroyTooltipOnHide,\n      destroyTooltipOnHide = _props$destroyTooltip === void 0 ? false : _props$destroyTooltip,\n      defaultVisible = props.defaultVisible,\n      getTooltipContainer = props.getTooltipContainer,\n      overlayInnerStyle = props.overlayInnerStyle,\n      restProps = _objectWithoutProperties(props, [\"overlayClassName\", \"trigger\", \"mouseEnterDelay\", \"mouseLeaveDelay\", \"overlayStyle\", \"prefixCls\", \"children\", \"onVisibleChange\", \"afterVisibleChange\", \"transitionName\", \"animation\", \"motion\", \"placement\", \"align\", \"destroyTooltipOnHide\", \"defaultVisible\", \"getTooltipContainer\", \"overlayInnerStyle\"]);\n\n  var domRef = useRef(null);\n  useImperativeHandle(ref, function () {\n    return domRef.current;\n  });\n\n  var extraProps = _objectSpread({}, restProps);\n\n  if ('visible' in props) {\n    extraProps.popupVisible = props.visible;\n  }\n\n  var getPopupElement = function getPopupElement() {\n    var _props$arrowContent = props.arrowContent,\n        arrowContent = _props$arrowContent === void 0 ? null : _props$arrowContent,\n        overlay = props.overlay,\n        id = props.id;\n    return [/*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-arrow\"),\n      key: \"arrow\"\n    }, arrowContent), /*#__PURE__*/React.createElement(Content, {\n      key: \"content\",\n      prefixCls: prefixCls,\n      id: id,\n      overlay: overlay,\n      overlayInnerStyle: overlayInnerStyle\n    })];\n  };\n\n  var destroyTooltip = false;\n  var autoDestroy = false;\n\n  if (typeof destroyTooltipOnHide === 'boolean') {\n    destroyTooltip = destroyTooltipOnHide;\n  } else if (destroyTooltipOnHide && _typeof(destroyTooltipOnHide) === 'object') {\n    var keepParent = destroyTooltipOnHide.keepParent;\n    destroyTooltip = keepParent === true;\n    autoDestroy = keepParent === false;\n  }\n\n  return /*#__PURE__*/React.createElement(Trigger, _extends({\n    popupClassName: overlayClassName,\n    prefixCls: prefixCls,\n    popup: getPopupElement,\n    action: trigger,\n    builtinPlacements: placements,\n    popupPlacement: placement,\n    ref: domRef,\n    popupAlign: align,\n    getPopupContainer: getTooltipContainer,\n    onPopupVisibleChange: onVisibleChange,\n    afterPopupVisibleChange: afterVisibleChange,\n    popupTransitionName: transitionName,\n    popupAnimation: animation,\n    popupMotion: motion,\n    defaultPopupVisible: defaultVisible,\n    destroyPopupOnHide: destroyTooltip,\n    autoDestroy: autoDestroy,\n    mouseLeaveDelay: mouseLeaveDelay,\n    popupStyle: overlayStyle,\n    mouseEnterDelay: mouseEnterDelay\n  }, extraProps), children);\n};\n\nexport default /*#__PURE__*/forwardRef(Tooltip);","import Tooltip from './Tooltip';\nexport default Tooltip;","import {h,createRef} from 'preact';\nimport ToolTip from \"rc-tooltip\";\nimport './popover.less'\n\nexport default function Popover({message,children,inner=false,...props}) {\n  const ref = createRef();\n  return(\n    <ToolTip destroyTooltipOnHide={{ keepParent: false }}\n             // align={{\n             //   offset: [0, 10],\n             // }}\n             overlayStyle={{zIndex:9999999}}\n             prefixCls='rc-popover'\n             placement=\"bottom\"\n             trigger={['click']}\n             // offsetX={10}\n             overlay={<span>{message}</span>}\n             getTooltipContainer={function (a) {\n                 return inner? a.parentNode : document.body\n             }}\n             {...props}\n      >\n        {children}\n    </ToolTip>\n  )\n}\n","\n\nimport { h } from 'preact';\n\nexport default function (props) {\n    var styles = props.styles;\n    var rest = Object.assign({}, props);\n    delete rest.styles;\n\n    return h('svg', Object.assign({\"t\":\"1612099643041\",\"class\":[styles && styles[\"icon\"] || \"icon\"].join(' '),\"viewBox\":\"0 0 1024 1024\",\"version\":\"1.1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"p-id\":\"2342\",\"width\":\"16\",\"height\":\"16\"}, rest), [h('path', {\"d\":\"M937.472 102.4H91.136c-46.08 0-83.456 37.376-83.456 83.456V841.728c0 46.08 37.376 83.456 83.456 83.456h846.336c46.08 0 83.456-37.376 83.456-83.456V185.856c0-46.08-37.376-83.456-83.456-83.456zM91.136 163.84h846.336c12.288 0 22.016 9.728 22.016 22.016v437.248L762.88 448.512c-10.752-9.728-27.136-10.24-38.912-1.536l-244.224 183.296-129.536-92.16c-10.24-7.68-24.576-7.68-35.328 0l-245.76 174.08V185.856c0-12.288 9.728-22.016 22.016-22.016z m846.336 699.904H91.136c-12.288 0-22.016-9.728-22.016-22.016v-54.272L332.8 601.088l247.808 176.64c13.824 9.728 33.28 6.656 43.008-7.168 9.728-13.824 6.656-33.28-7.168-43.008l-84.48-59.904 208.896-156.672 211.456 187.904c2.048 2.048 4.608 3.072 7.168 4.608v138.24c0 12.288-9.728 22.016-22.016 22.016z\",\"fill\":\"#1296db\",\"p-id\":\"2343\"}, []), h('path', {\"d\":\"M312.32 471.04c70.656 0 128-57.344 128-128S382.976 215.04 312.32 215.04 184.32 272.384 184.32 343.04s57.344 128 128 128z m0-194.56c36.864 0 66.56 29.696 66.56 66.56s-29.696 66.56-66.56 66.56-66.56-29.696-66.56-66.56 29.696-66.56 66.56-66.56z\",\"fill\":\"#1296db\",\"p-id\":\"2344\"}, [])]);\n};\n\n        ","import {h} from 'preact';\nimport ToolTip from \"rc-tooltip\";\nimport './tip.less'\n\nexport default function Tip({message,children}) {\n  return(\n    <ToolTip destroyTooltipOnHide={{ keepParent: false }}\n             align={{\n               offset: [0, -10],\n             }}\n             overlayStyle={{zIndex:9999999}}\n             placement=\"top\"\n             trigger={['hover']}\n             offsetX={10} overlay={<span>{message}</span>}>\n      {children}\n    </ToolTip>\n  )\n}\n","import {h} from 'preact';\nimport Popover from '../tip/Popover';\nimport './LightRefAnotation.scss'\nimport ImageIcon from '../../assets/images/image.svg'\nimport i18n from '../../locale/i18n'\nimport Tip from '../tip/Tip'\nexport default  function LightRefAnotation({step,showTarget}) {\n  const text = step.text||'';\n  const notion = step.text!==step.tip?step.tip:'';\n  const imgs = step.images || [];\n  const hasRelated = step.relatedNode.length>0\n  return(\n      <pagenote-light-aside-ref\n          onClick={()=>step.gotoView()}\n          onDblClick={()=>step.toggle()}\n          data-founded={hasRelated?'1':'0'}\n          data-insign={step.isInview?'1':'0'}\n          data-active={step.isActive?'1':'0'}\n          style={{'--fill-color':step.bg}}>\n          <pagenote-light-highlight>\n              {\n                  !hasRelated &&\n                  <Tip message={i18n.t('not_found')}>\n                      <i style={{fontSize: '12px'}} className='iconfont iconinfo'></i>\n                  </Tip>\n              }\n              <pagenote-light-inner>\n                  {text.substring(0,28)}\n                  {imgs.length?<Popover trigger='hover' message={imgs.map((img)=>(\n                      <div>\n                          <img style='max-width:100px' src={img.url} alt={img.alt}/>\n                      </div>\n                  ))}>\n                      <ImageIcon style={{verticalAlign:'sub',margin:'0 4px'}} />\n                  </Popover>:''}\n              </pagenote-light-inner>\n          </pagenote-light-highlight>\n\n          {/*<pagenote-light-info>*/}\n          {/*    <pagenote-drawer>*/}\n          {/*        {step.time}*/}\n          {/*    </pagenote-drawer>*/}\n          {/*</pagenote-light-info>*/}\n          {/*<pagenote-light-anotation data-content={notion?'1':'0'}>*/}\n          {/*    <pagenote-drawer>*/}\n          {/*        <pagenote-block dangerouslySetInnerHTML={{__html: notion}}>*/}\n\n          {/*        </pagenote-block>*/}\n          {/*    </pagenote-drawer>*/}\n          {/*</pagenote-light-anotation>*/}\n      </pagenote-light-aside-ref>\n  )\n}\n","import {h, render, Component, Fragment} from 'preact';\nimport './scroll-progress.scss';\nimport {useEffect, useState} from \"preact/hooks\";\nimport {throttle} from \"../../utils\";\nimport {getScroll} from \"../../utils/document\";\nimport i18n from \"../../locale/i18n\";\nimport ToolTip from \"rc-tooltip\";\n\nexport default  function ScrollProgress({steps=[],useDot}) {\n\n  const [percent,setPercent] = useState(0);\n\n\n  const  handleScroll = throttle( (e)=> {\n    // 重新计算相对位置。\n    const {y}= getScroll();\n\n    const currentY = y;\n    const totalY = document.documentElement.scrollHeight - window.innerHeight;\n    setPercent(Math.min(Math.floor(currentY / totalY * 100),100));\n\n    steps.forEach((step)=>{\n      step.checkInSign();\n    })\n\n  },20);\n\n  useEffect(function () {\n    // TODO 使用observe监听\n    setTimeout(()=>{\n      steps.forEach((step)=>{\n        step.checkInSign();\n      })\n    },1000)\n    document.addEventListener(\"scroll\", handleScroll);\n\n    return componentWillUnmount;\n  },[]);\n\n  function componentWillUnmount() {\n    // 组件销毁时你要执行的代码\n    document.removeEventListener('scroll',handleScroll);\n  }\n\n\n  const positionPercent = Math.min(Math.max(percent,8),98);\n\n  const showProgress = !useDot;\n\n  return(\n      <></>\n      // <ToolTip\n      //   destroyTooltipOnHide={{ keepParent: false }}\n      //   align={{\n      //     offset: [10, 0],\n      //   }}\n      //   placement=\"rightTop\" trigger={['hover']}\n      //   offsetX={10} overlay={<span>{i18n.t('has_read_percent',[percent])}</span>}>\n      //   {/*{*/}\n      //   {/*  useDot ?*/}\n      //   {/*    <pagenote-scroll-sign style={{top: `${positionPercent}%`}}></pagenote-scroll-sign>:*/}\n      //   {/*    <pagenote-progress data-position='bottom'>*/}\n      //   {/*      <pagenote-progress-percent*/}\n      //   {/*        style={{width: `${percent}%`}} >*/}\n      //   {/*      </pagenote-progress-percent>*/}\n      //   {/*    </pagenote-progress>*/}\n      //   {/*}*/}\n      //   <pagenote-progress data-position='bottom'>\n      //     <pagenote-progress-percent\n      //         style={{width: `${percent}%`}} >\n      //     </pagenote-progress-percent>\n      //   </pagenote-progress>\n      // </ToolTip>\n  )\n}\n","import { h } from 'preact';\nimport './lightIcon.scss'\nexport default function LightIcon({colors,run}) {\n  const length = colors.length;\n  return(\n    <pagenote-toggle-all data-run={run?'1':''}>\n      <svg t=\"1619246738331\" className=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"\n           p-id=\"20138\" width=\"16\" height=\"16\">\n        <path\n            d=\"M48.9 729.5c0-208.8 179.9-353.6 352-394.7V260c0.1-39.7 25.7-75 64-88.2v-131c0-17.2 14.3-31.3 32-31.3s32 14.1 32 31.3v131c38.3 13.1 63.9 48.5 64 88.2v74.7c172.1 40.7 352 184.4 352 394.8h-896z m448 219.2c-88.4 0-160-70.1-160-156.5h320c0 86.4-71.7 156.5-160 156.5z\"\n            p-id=\"20139\" fill=\"#ffffff\"></path>\n      </svg>\n    </pagenote-toggle-all>\n\n  )\n}\n","\n\nimport { h } from 'preact';\n\nexport default function (props) {\n    var styles = props.styles;\n    var rest = Object.assign({}, props);\n    delete rest.styles;\n\n    return h('svg', Object.assign({\"t\":\"1619960814342\",\"class\":[styles && styles[\"icon\"] || \"icon\"].join(' '),\"viewBox\":\"0 0 1024 1024\",\"version\":\"1.1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"p-id\":\"3842\",\"width\":\"16\",\"height\":\"16\"}, rest), [h('path', {\"d\":\"M298.688 170.688c0-47.168 38.208-85.376 85.312-85.376h469.312c47.168 0 85.376 38.208 85.376 85.376V640c0 47.104-38.208 85.312-85.376 85.312h-42.624V298.688c0-42.688-42.688-85.376-85.376-85.376H298.688v-42.624z\",\"p-id\":\"3843\"}, []), h('path', {\"d\":\"M213.312 298.688C166.208 298.688 128 336.896 128 384v426.688C128 857.792 166.208 896 213.312 896H640c47.104 0 85.312-38.208 85.312-85.312V384c0-47.104-38.208-85.312-85.312-85.312H213.312z\",\"p-id\":\"3844\"}, [])]);\n};\n\n        ","\n\nimport { h } from 'preact';\n\nexport default function (props) {\n    var styles = props.styles;\n    var rest = Object.assign({}, props);\n    delete rest.styles;\n\n    return h('svg', Object.assign({\"t\":\"1619961165285\",\"class\":[styles && styles[\"icon\"] || \"icon\"].join(' '),\"viewBox\":\"0 0 1024 1024\",\"version\":\"1.1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"p-id\":\"7490\",\"width\":\"16\",\"height\":\"16\"}, rest), [h('path', {\"d\":\"M809.984 169.984V256H213.973333V169.984h148.010667L405.973333 128h212.010667l43.989333 41.984h148.010667zM256 809.984v-512h512v512C768 855.978667 727.978667 896 681.984 896H341.973333c-45.994667 0-86.016-40.021333-86.016-86.016z\",\"p-id\":\"7491\"}, [])]);\n};\n\n        ","\n\nimport { h } from 'preact';\n\nexport default function (props) {\n    var styles = props.styles;\n    var rest = Object.assign({}, props);\n    delete rest.styles;\n\n    return h('svg', Object.assign({\"t\":\"1598751268742\",\"class\":[styles && styles[\"icon\"] || \"icon\"].join(' '),\"viewBox\":\"0 0 1024 1024\",\"version\":\"1.1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"p-id\":\"45735\",\"width\":\"18\",\"height\":\"18\"}, rest), [h('defs', {}, [h('style', {\"type\":\"text/css\"}, [])]), h('path', {\"d\":\"M874.24 806.4c11.52 11.52 14.08 25.6 6.4 33.28l12.8 47.36-47.36-12.8c-7.68 7.68-23.04 3.84-33.28-6.4L561.92 615.68c-11.52-11.52-14.08-25.6-6.4-33.28l33.28-33.28c7.68-7.68 23.04-3.84 33.28 6.4L874.24 806.4z\",\"fill\":\"#E64C45\",\"p-id\":\"45736\"}, []), h('path', {\"d\":\"M894.72 899.84h-3.84l-40.96-11.52c-6.4 2.56-12.8 3.84-20.48 2.56-8.96-1.28-17.92-6.4-24.32-14.08L552.96 624.64c-7.68-7.68-11.52-15.36-14.08-24.32-2.56-10.24 0-20.48 7.68-26.88l33.28-33.28c6.4-6.4 16.64-8.96 26.88-7.68 8.96 1.28 17.92 6.4 24.32 14.08L883.2 797.44c14.08 14.08 17.92 32 11.52 44.8l11.52 40.96c1.28 3.84 0 8.96-3.84 12.8-1.28 2.56-5.12 3.84-7.68 3.84z m-47.36-38.4h3.84l24.32 7.68-7.68-24.32c-1.28-3.84 0-8.96 3.84-12.8 1.28-1.28 1.28-7.68-6.4-15.36L613.12 564.48c-3.84-3.84-7.68-6.4-11.52-6.4h-3.84l-33.28 33.28v3.84c1.28 3.84 3.84 7.68 6.4 11.52L823.04 857.6c3.84 3.84 7.68 6.4 11.52 6.4h3.84c2.56-1.28 5.12-2.56 8.96-2.56z\",\"fill\":\"#231C1C\",\"p-id\":\"45737\"}, []), h('path', {\"d\":\"M431.36 162.56L371.2 102.4c-11.52-11.52-29.44-11.52-39.68 0L108.8 323.84c-11.52 11.52-11.52 29.44 0 39.68l60.16 60.16c11.52 11.52 29.44 11.52 39.68 0l12.8-12.8c1.28 5.12 3.84 8.96 7.68 12.8L410.88 665.6c3.84 3.84 7.68 6.4 12.8 7.68-3.84 37.12 5.12 70.4 28.16 93.44l322.56-322.56c-23.04-23.04-56.32-32-93.44-28.16-1.28-5.12-3.84-8.96-7.68-12.8L431.36 222.72c-3.84-3.84-7.68-6.4-12.8-7.68l12.8-12.8c11.52-10.24 11.52-28.16 0-39.68z\",\"p-id\":\"45738\"}, []), h('path', {\"d\":\"M451.84 779.52c-3.84 0-6.4-1.28-8.96-3.84-23.04-23.04-34.56-55.04-32-94.72-2.56-1.28-5.12-3.84-7.68-6.4l-1.28-1.28-181.76-240.64-1.28 1.28c-7.68 7.68-17.92 11.52-29.44 11.52-11.52 0-21.76-3.84-29.44-11.52l-60.16-60.16c-16.64-16.64-16.64-42.24 0-58.88L321.28 93.44c16.64-16.64 42.24-16.64 58.88 0l60.16 60.16c7.68 7.68 11.52 17.92 11.52 29.44 0 11.52-3.84 21.76-11.52 29.44l-1.28 1.28 240.64 180.48 1.28 1.28c2.56 2.56 3.84 5.12 6.4 7.68 38.4-1.28 71.68 8.96 94.72 32 2.56 2.56 3.84 5.12 3.84 8.96 0 3.84-1.28 6.4-3.84 8.96L460.8 775.68c-2.56 2.56-6.4 3.84-8.96 3.84z m-30.72-122.88c1.28 1.28 3.84 2.56 6.4 3.84 6.4 1.28 10.24 7.68 8.96 14.08-2.56 21.76 0 49.92 15.36 72.96L755.2 445.44c-23.04-16.64-52.48-17.92-72.96-15.36-6.4 1.28-11.52-3.84-14.08-8.96-1.28-2.56-1.28-5.12-3.84-6.4L423.68 232.96l-1.28-1.28c-1.28-1.28-3.84-2.56-6.4-3.84-3.84-1.28-7.68-5.12-8.96-8.96-1.28-3.84 0-8.96 3.84-12.8l12.8-12.8c2.56-2.56 5.12-6.4 5.12-11.52 0-3.84-1.28-7.68-5.12-11.52l-60.16-60.16c-6.4-6.4-16.64-6.4-21.76 0L117.76 332.8c-6.4 6.4-6.4 16.64 0 21.76l60.16 60.16c2.56 2.56 6.4 5.12 11.52 5.12 3.84 0 7.68-1.28 11.52-5.12l12.8-12.8c3.84-3.84 7.68-5.12 12.8-3.84 3.84 1.28 7.68 5.12 8.96 8.96 1.28 2.56 2.56 5.12 3.84 6.4l1.28 1.28 180.48 241.92z\",\"fill\":\"#231C1C\",\"p-id\":\"45739\"}, []), h('path', {\"d\":\"M214.016 402.2528L412.2112 204.032l18.0992 18.112L232.1152 420.352z\",\"fill\":\"#231C1C\",\"p-id\":\"45740\"}, [])]);\n};\n\n        ","\n\nimport { h } from 'preact';\n\nexport default function (props) {\n    var styles = props.styles;\n    var rest = Object.assign({}, props);\n    delete rest.styles;\n\n    return h('svg', Object.assign({\"t\":\"1598750651203\",\"class\":[styles && styles[\"icon\"] || \"icon\"].join(' '),\"viewBox\":\"0 0 1024 1024\",\"version\":\"1.1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"p-id\":\"43825\",\"width\":\"18\",\"height\":\"18\"}, rest), [h('defs', {}, [h('style', {\"type\":\"text/css\"}, [])]), h('path', {\"d\":\"M102.6 576h690.8c8.8 0 16 7.2 16 16 0 4.2-1.6 8.4-4.6 11.4L459.2 948.6c-6.2 6.2-16.4 6.2-22.6 0L91.4 603.4c-6.2-6.2-6.2-16.4 0-22.6 3-3 7-4.8 11.2-4.8z\",\"p-id\":\"43826\"}, []), h('path', {\"d\":\"M448 973.4c-9.2 0-18.4-3.6-25.4-10.6L61.2 601.4c-14-14-14-36.8 0-51l14.2 14.2-14.2-14.2L422.6 189.2c6.8-6.8 15.8-10.6 25.4-10.6 9.6 0 18.6 3.8 25.4 10.6l361.4 361.4c14 14 14 36.8 0 51L473.4 962.8c-7 7-16.2 10.6-25.4 10.6zM92.2 576L448 931.8 803.8 576 448 220.2 92.2 576z m-2.8 2.8z\",\"fill\":\"#2660D0\",\"p-id\":\"43827\"}, []), h('path', {\"d\":\"M760.2 524c-5.2 0-10.2-2-14.2-5.8l-440.2-442c-7.8-7.8-7.8-20.4 0-28.2 7.8-7.8 20.4-7.8 28.2 0l440.2 442c7.8 7.8 7.8 20.4 0 28.2-3.8 3.8-8.8 5.8-14 5.8z\",\"fill\":\"#2660D0\",\"p-id\":\"43828\"}, []), h('path', {\"d\":\"M870 832c35.4 0 64-28.6 64-64 0-23.6-21.4-66.2-64-128-42.6 61.8-64 104.4-64 128 0 35.4 28.6 64 64 64z\",\"p-id\":\"43829\"}, []), h('path', {\"d\":\"M870 852c-46.4 0-84-37.6-84-84 0-17.8 7-51.8 67.6-139.4 3.8-5.4 9.8-8.6 16.4-8.6s12.8 3.2 16.4 8.6c60.6 87.6 67.6 121.6 67.6 139.4 0 46.4-37.6 84-84 84z m0-176.2c-20.8 32.2-44 72.4-44 92.2 0 24.2 19.8 44 44 44s44-19.8 44-44c0-9.6-6.2-33.8-44-92.2z\",\"fill\":\"#2660D0\",\"p-id\":\"43830\"}, [])]);\n};\n\n        ","\n\nimport { h } from 'preact';\n\nexport default function (props) {\n    var styles = props.styles;\n    var rest = Object.assign({}, props);\n    delete rest.styles;\n\n    return h('svg', Object.assign({\"t\":\"1600873269661\",\"class\":[styles && styles[\"icon\"] || \"icon\"].join(' '),\"viewBox\":\"0 0 1024 1024\",\"version\":\"1.1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"p-id\":\"9633\",\"width\":\"64\",\"height\":\"64\"}, rest), [h('path', {\"d\":\"M294.8096 102.4h434.3808C863.744 102.4 972.8 209.8176 972.8 342.3744v250.1632c0 132.5568-109.056 239.9744-243.6096 239.9744H356.3008c-32.6144 0-64.5632 9.216-92.0576 26.624l-76.8512 48.64a89.1904 89.1904 0 0 1-122.1632-26.2144A86.1184 86.1184 0 0 1 51.2 834.56V342.3744C51.2 209.8176 160.256 102.4 294.8096 102.4z m0 72.192c-94.0544 0-170.2912 75.1104-170.2912 167.7824v492.1344c0 2.8672 0.8192 5.632 2.4064 8.0384 4.5056 6.912 13.824 8.9088 20.8384 4.5056l76.8512-48.64a246.3744 246.3744 0 0 1 131.6864-38.0928h372.8896c94.0544 0 170.2912-75.1104 170.2912-167.7824V342.3744c0-92.672-76.288-167.7824-170.2912-167.7824H294.8096z m11.6224 340.1216a51.8144 51.8144 0 1 1 0.1024-103.6288 51.8144 51.8144 0 0 1-0.1024 103.6288z m206.9504 0a51.8144 51.8144 0 1 1 0.1024-103.6288 51.8144 51.8144 0 0 1-0.1024 103.6288z m207.0016 0a51.8144 51.8144 0 1 1 0.1024-103.6288 51.8144 51.8144 0 0 1-0.1024 103.6288z\",\"p-id\":\"9634\"}, [])]);\n};\n\n        ","\n\nimport { h } from 'preact';\n\nexport default function (props) {\n    var styles = props.styles;\n    var rest = Object.assign({}, props);\n    delete rest.styles;\n\n    return h('svg', Object.assign({\"t\":\"1598778123562\",\"viewBox\":\"0 0 1024 1024\",\"version\":\"1.1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"p-id\":\"48873\",\"width\":\"32\",\"height\":\"32\"}, rest), [h('defs', {}, [h('style', {\"type\":\"text/css\"}, [])]), h('path', {\"d\":\"M512 204.8m-102.4 0a102.4 102.4 0 1 0 204.8 0 102.4 102.4 0 1 0-204.8 0Z\",\"p-id\":\"48874\"}, []), h('path', {\"d\":\"M512 512m-102.4 0a102.4 102.4 0 1 0 204.8 0 102.4 102.4 0 1 0-204.8 0Z\",\"p-id\":\"48875\"}, []), h('path', {\"d\":\"M512 819.2m-102.4 0a102.4 102.4 0 1 0 204.8 0 102.4 102.4 0 1 0-204.8 0Z\",\"p-id\":\"48876\"}, [])]);\n};\n\n        ","import { h, render,Component, Fragment} from 'preact';\nimport { useState,useEffect,useRef } from 'preact/hooks';\nimport ContentEditable from \"react-contenteditable\";\nimport style from './light-node.scss';\nimport {writeTextToClipboard} from '../../utils/document';\nimport {moveable} from \"../../utils/document\";\nimport DeleteIcon from '../../assets/images/delete.svg';\nimport PinIcon from '../../assets/images/pin.svg'\nimport ColorIcon from '../../assets/images/color.svg';\nimport CommentIcon from '../../assets/images/comment.svg';\nimport CopyIcon from '../../assets/images/copy.svg';\nimport MoreIcon from '../../assets/images/more.svg';\nimport whatsPure from \"whats-element/pure\";\nimport Tip from '../tip/Tip'\nconst whats = new whatsPure();\nimport i18n from '../../locale/i18n';\n\nexport default class LightNode extends Component{\n  constructor(props){\n    super(props);\n    this.state={\n      showNote:false,\n      isPin: false,\n      showMore:false,\n      tip:''\n    }\n  }\n\n  componentDidMount() {\n    this.setState({\n      tip: this.props.light.tip,\n    })\n  }\n\n  deleteLight=()=>{\n    const light = this.props.light;\n    light.delete.call(light);\n  };\n\n  doEditor=()=>{\n    this.setState({\n      showNote: true,\n    },()=>{\n      this.ref.el.current.focus();\n    })\n  };\n\n  modifyTip = (e)=>{\n    const value = e.target.value;\n    this.setState({\n      tip:value,\n    });\n    this.props.light.tip = value;\n    this.props.light.save();\n  };\n\n  saveTip = ()=>{\n    this.setState({\n      showNote: false,\n    })\n  };\n\n  setRef = (dom) => this.ref = dom;\n\n  setDragAble =(dom) =>{\n    const light = this.props.light;\n    // 初始化 lightNode 的坐标\n    const relativeNode = light.relatedNode[0];\n    if(!relativeNode){\n      return;\n    }\n    const relatedNodePosition = whats.compute(relativeNode);\n    if(!relatedNodePosition){\n      return;\n    }\n    const offsetX = light.offsetX<1?light.offsetX * relativeNode.offsetWidth:light.offsetX;\n    const offsetY = light.offsetY<1?light.offsetY * relativeNode.offsetHeight: light.offsetY;\n    let origin = {\n      left: relatedNodePosition.left + (offsetX || 0),\n      top: relatedNodePosition.top + (offsetY || 0),\n    };\n    light._position = {\n      left: Math.max(origin.left,20),\n      top: Math.max(20,origin.top),\n    };\n    if(dom){\n      let saveTimer = null;\n      moveable(dom,(e)=>{\n        clearTimeout(saveTimer);\n        const position = {\n          left: Math.max(e.pageX-100,120),\n          top: Math.max(e.pageY-12,50),\n        };\n        light._position = position;\n        saveTimer = setTimeout(()=>{\n          // 移动在可视范围内\n          setValue(position,relatedNodePosition);\n        },600)\n      },false);\n\n      function setValue(after,before) {\n        const offsetX = after.left - before.left;\n        const offsetY = after.top - before.top;\n        light.offsetX = offsetX;\n        light.offsetY = offsetY;\n        light.save();\n      }\n    }\n  };\n\n\n\n\n  copyHightlight=(copyAll)=>{\n    const value =copyAll? (this.props.light.text + '\\n' + this.props.light.tip):this.props.light.text;\n    writeTextToClipboard(value);\n    this.props.pagenote.notification(i18n.t('copied')+(copyAll?(i18n.t('keywords')+'&'+i18n.t('annotation')):i18n.t('keywords')));\n  };\n\n  onChangeColor=(color)=>{\n    const {light} = this.props;\n    light.changeColor.call(light,color)\n  };\n\n  pinLight =(active)=>{\n    const {light} = this.props;\n    light.toggle.call(light,active,false);\n    this.setState({\n      isPin: active,\n    })\n  };\n\n  toggleShowMore =()=>{\n    this.setState({\n      showMore: !this.state.showMore,\n    })\n  };\n\n  render(props,state,) {\n    const {showNote,isPin,tip,showMore} = state;\n    const {light,pagenote} = props;\n    const hasTip = !!light.tip;\n\n    // 显示编辑器\n    const showNoteEditor = ((light.isActive || light.isFocus)&&hasTip) || showNote;\n    // 显示 操作icon\n    const showIcons = light.isFocus || showNoteEditor || isPin;\n    // 是否已pin\n    const hasPin = (light.isActive&&light.tip) || isPin;\n    // 限制 light-tag\n    const isShow = showIcons || showNoteEditor || hasPin;\n    return(\n      <Fragment>\n        {\n          (isShow&&light.relatedNode)?<pagenote-light-tag\n            className={`${style.lightAction} no-pagenote`}\n            style={{\n              position:'absolute',\n              top:light._position?light._position.top:0,\n              left:light._position? light._position.left:0,\n            }}>\n            {\n              <div className={`${style.actions} ${showIcons?style.show:''}`}\n                   ref={this.setDragAble}\n                   style={{\n                     borderColor: light.bg,\n                     color: light.bg,\n                   }}\n              >\n                <Tip message={hasPin?i18n.t('hide'):i18n.t('fixed')}>\n                  <pagenote-icon className={`${style.pinIcon} ${hasPin?style.pin:''}`} onClick={()=>this.pinLight(!hasPin)}>\n                    <PinIcon fill={hasPin?light.bg:'#eee'}  />\n                  </pagenote-icon>\n                </Tip>\n                <Tip message={i18n.t('copy_keyword_annotation')}>\n                  <pagenote-icon className={style.actionIcon}\n                                 onClick={()=>this.copyHightlight(false)}\n                                 onDblClick={()=>{this.copyHightlight(true)}}>\n                    <CopyIcon  fill={light.bg}  width={18} height={18}  />\n                  </pagenote-icon>\n                </Tip>\n                <Tip message={i18n.t('annotation')}>\n                  <pagenote-icon className={style.actionIcon} onClick={this.doEditor}>\n                    <CommentIcon  fill={light.bg}  width={18} height={18}  />\n                  </pagenote-icon>\n                </Tip>\n                <Tip message={i18n.t('change_color')}>\n                  <pagenote-icon className={style.actionIcon} >\n                    <Colors colors={pagenote.options.brushes.map((brush)=>{return brush.bg})} current={light.bg} selectColor={this.onChangeColor}></Colors>\n                  </pagenote-icon>\n                </Tip>\n                <Tip message={i18n.t('remove_marks')}>\n                  <pagenote-icon className={`${style.actionIcon} ${style.deleteIcon}`} onClick={this.deleteLight}>\n                    <DeleteIcon  width={18} height={18} fill={light.bg} />\n                  </pagenote-icon>\n                </Tip>\n                <Tip message={i18n.t('more')}>\n                  <pagenote-icon className={`${style.moreIcon}`} onClick={this.toggleShowMore}>\n                    <MoreIcon fill={showMore?light.bg:'#999'}  width={18} height={18}  />\n                  </pagenote-icon>\n                </Tip>\n                {\n                  showMore &&\n                  <div className={style.moreInfo}>\n                    <span>{new Date(light.time).toLocaleString()}</span>\n                  </div>\n                }\n              </div>\n            }\n            <ContentEditable\n              ref={this.setRef}\n              className={`${style.note} ${showNoteEditor?style.showNote:''}`}\n              html={tip} // innerHTML of the editable div\n              disabled={false} // use true to disable edition\n              onChange={this.modifyTip} // handle innerHTML change\n              onBlur={this.saveTip}\n              onKeyUp={(e)=>{e.stopPropagation();}}\n            />\n          </pagenote-light-tag>:\n           <pagenote-light-tag />\n          }\n      </Fragment>\n    )\n  }\n}\n\nexport const Colors = function ({colors,current,selectColor}) {\n  const setColor = function (color) {\n    selectColor(color);\n  };\n  return(\n    <div className={style.colors}>\n      <div className={style.colorOptions}>\n        {\n          colors.map((color)=>{\n            return <div onClick={() => { setColor(color)}}\n                        className={`${style.colorItem} ${color === current ? style.active : ''}`}\n                        style={{backgroundColor: color}}/>\n          })\n        }\n      </div>\n      <div className={style.currentColor}>\n        <ColorIcon width={16} height={16} fill={current}/>\n      </div>\n    </div>\n  )\n};\n","import {h} from 'preact';\nimport Tip from \"@/component/tip/Tip\";\nimport i18n from \"@/locale/i18n\";\nimport CopyIcon from \"@/assets/images/copy.svg\";\nimport DeleteIcon from \"@/assets/images/delete.svg\";\nimport {writeTextToClipboard} from \"@/utils/document\";\nimport {useState} from \"preact/hooks\";\nimport {Colors} from \"@/component/light/LightNode\";\nimport style from \"@/component/light/light-node.scss\";\n\nexport default function LightActionBar({step,colors}) {\n    const [copied,setCopy] = useState(false)\n    const copyHightlight=(copyAll)=>{\n        setCopy(true)\n        const value =copyAll? (step.text + '\\n' + step.tip):step.text;\n        writeTextToClipboard(value);\n        setTimeout(()=>{\n            setCopy(false)\n        },3000)\n    };\n\n    return(\n        <pagenote-light-actions>\n            <Tip message={i18n.t(copied?'copied':'copy_keyword_annotation')}>\n                <pagenote-icon onClick={()=>copyHightlight(false)}\n                               onDblClick={()=>{copyHightlight(true)}}>\n                    <CopyIcon fill={step.bg}  width={16} height={16}  />\n                </pagenote-icon>\n            </Tip>\n            <Tip message={i18n.t('remove_marks')}>\n                <pagenote-icon>\n                    <DeleteIcon  width={16} height={16} fill={step.bg}  onClick={()=>{step.delete.call(step)}} />\n                </pagenote-icon>\n            </Tip>\n            <Tip message={i18n.t('change_color')}>\n                <pagenote-icon className={style.actionIcon} >\n                    <Colors colors={colors} current={step.bg} selectColor={(color)=>{step.changeColor.call(step,color)}}></Colors>\n                </pagenote-icon>\n            </Tip>\n        </pagenote-light-actions>\n    )\n}","import {h, Component, Fragment} from 'preact';\nimport Modali, { useModali } from 'modali';\nimport {DraggableAreasGroup} from 'react-draggable-tags';\nimport {useEffect, useRef, useState} from \"preact/hooks\";\nimport './tags.less'\n\nconst group = new DraggableAreasGroup();\nconst DraggableArea1 = group.addArea();\n\nconst App = ({allTags=[],initTagSets,onchange}) => {\n    const inputRef = useRef(null);\n    const [recommendTags,setRecommend] = useState([]);\n\n    useEffect(()=>{\n        const meta = document.querySelector('meta[name=\"keywords\"]');\n        if(meta){\n            const keywords = meta.content || '';\n            keywords.replaceAll(',',' ').replaceAll('，',' ').replaceAll('、',' ');\n            const keys = keywords.split(/\\s/).filter((key)=>{\n                return !!key;\n            });\n            setRecommend(keys)\n        }\n    },[])\n\n    const [exampleModal, toggleExampleModal] = useModali({\n        animated: true,\n        title: '为当前页面添加标签',\n        message:\"当前\",\n    });\n\n    const currentArray = Array.from(initTagSets).filter((item)=>{\n        return !!item\n    }).map((item)=>{\n        return {\n            id: item,\n            content: item\n        }\n    })\n\n    function addTag(input) {\n        const value = typeof input === 'string' ? input : inputRef.current.value;\n        if(value){\n            initTagSets.add(value);\n            onchange(initTagSets)\n            inputRef.current.value = ''\n        }\n    }\n\n\n\n    const optionTags = allTags.map((item)=>{\n        if(typeof item === 'object'){\n            return item.label\n        }else{\n            return item\n        }\n    })\n\n    const displayRecommendTags = [...recommendTags,...optionTags].filter((tag)=>{\n        return !initTagSets.has(tag)\n    })\n\n    return (\n        <pagenote-block>\n            <pagenote-tags onClick={toggleExampleModal}>\n                {\n                    currentArray.length ?\n                    currentArray.map((tag)=>{\n                        return(\n                            <pagenote-tag>{tag.content}</pagenote-tag>\n                        )\n                    }):\n                    <pagenote-span>\n                        #\n                    </pagenote-span>\n                }\n            </pagenote-tags>\n            <Modali.Modal {...exampleModal}>\n                <pagenote-block className=\"CrossArea\">\n                    <pagenote-block className=\"area current\">\n                        <pagenote-p>\n                            已选标签\n                        </pagenote-p>\n\n                        <pagenote-block className='selected-area'>\n                            {/*<UserGeneratedPills />*/}\n                            <DraggableArea1\n                                tags={currentArray}\n                                render={({tag}) => (\n                                    <div className=\"tag\" key={tag.id}>\n                                        {tag.content}\n                                        <aside className='delete' onClick={()=>{\n                                            initTagSets.delete(tag.id);\n                                            onchange(initTagSets)\n                                        }}></aside>\n                                    </div>\n                                )}\n                                onChange={leftTags => {\n                                    // setCurrentArray(leftTags);\n                                    const tags = leftTags.map((item)=>{return item.content});\n                                    const newSet = new Set(tags)\n                                    onchange(newSet);\n                                }}\n                            />\n                        </pagenote-block>\n\n                    </pagenote-block>\n\n                    <pagenote-block className=\"area rest\">\n                        <pagenote-p>\n                            推荐标签\n                        </pagenote-p>\n                        {\n                            displayRecommendTags.map((tag)=>(\n                                <span onClick={()=>{addTag(tag)}} className='tag'>{tag}</span>\n                            ))\n                        }\n                        {/*<DraggableArea2*/}\n                        {/*    tags={leftTags}*/}\n                        {/*    render={({tag}) => (*/}\n                        {/*        <div className=\"tag\" onClick={()=>{*/}\n                        {/*            initTagSets.add(tag);*/}\n                        {/*            onchange(initTagSets)*/}\n                        {/*          }*/}\n                        {/*        }>*/}\n                        {/*            {tag.content}*/}\n                        {/*        </div>*/}\n                        {/*    )}*/}\n                        {/*    // onChange={rightTags => this.setState({rightTags})}*/}\n                        {/*/>*/}\n                        <pagenote-p style={{position:'relative'}}>\n                            <input ref={inputRef} type=\"text\" placeholder='添加新标签'\n                                   onKeyUp={(e)=>{console.log(e);if(e.key==='Enter'){addTag()}}} />\n                            <button onClick={addTag}>添加</button>\n                        </pagenote-p>\n                    </pagenote-block>\n                </pagenote-block>\n            </Modali.Modal>\n        </pagenote-block>\n    );\n};\n\nexport default App;","import {h, Component, Fragment} from 'preact';\nimport BigPicture from \"bigpicture\";\nimport i18n from '@/locale/i18n';\nimport { BAR_STATUS } from '@/const';\nimport {moveable} from \"@/utils/document\";\nimport RemoveIcon from '@/assets/images/remove.svg';\nimport Toggle from '@/assets/images/toggle.svg';\nimport ExpandIcon from '@/assets/images/expand.svg';\nimport LightRefAnotation from \"./LightRefAnotation\";\nimport ScrollProgress from \"./ScrollProgress\";\nimport sideStyle from './aside.scss';\nimport LightIcon from './LightIcon'\nimport Tip from \"../tip/Tip\";\nimport LightActionBar from \"@/component/LightActionBar\";\nimport Tags from \"./Tags\";\n\nlet lastTop = -1;\nlet pagenote = null;\nfunction computeTop(top) {\n    const containerHeight = window.innerHeight-30-16;\n    let result = top/document.documentElement.scrollHeight * containerHeight + 30+16;\n\n    result = Math.min(top,result,containerHeight);\n\n    if( lastTop>0 && Math.abs(result-lastTop)<24){ // 同一行最多可以展示同样y值的4个，否则会被覆盖\n        result = lastTop + 16;\n    }\n    lastTop = result;\n    return result\n}\nclass AsideBar extends Component{\n    constructor(props) {\n        super();\n        pagenote = this.pagenote = props.pagenote;\n        this.toggleAllLight = this.toggleAllLight.bind(this);\n        this.toggleAutoLight = this.toggleAutoLight.bind(this);\n        this.replay = this.replay.bind(this);\n        this.toggleSideBar = this.toggleSideBar.bind(this);\n        this.state={\n            barInfo:pagenote.runningSetting.barInfo,\n            steps: pagenote.recordedSteps,\n            snapshots: pagenote.snapshots || [],\n            categories: pagenote.categories,\n            note: pagenote.note,\n            autoLight: pagenote.runningSetting.autoLight,\n            highlightAll: pagenote.highlightAll,\n            runindex: pagenote.runindex,\n            capturing: false,\n\n            title: pagenote.plainData.title,\n\n            run: false,\n            lastFocus: '',\n        };\n        pagenote.addListener(this.refreshStatus.bind(this));\n    }\n\n    refreshStatus(){\n        this.setState({\n            barInfo:pagenote.runningSetting.barInfo,\n            steps: pagenote.recordedSteps || [],\n            categories: pagenote.categories,\n            note: pagenote.note || '',\n            snapshots: pagenote.snapshots || [],\n            autoLight: pagenote.runningSetting.autoLight || false,\n            highlightAll: pagenote.highlightAll || false,\n            runindex: pagenote.runindex,\n            status: pagenote.status,\n\n            title: pagenote.plainData.title,\n\n            run: [pagenote.CONSTANT.REPLAYING,pagenote.CONSTANT.START_SYNC].includes(pagenote.status)\n        })\n\n    }\n\n    toggleAllLight(){\n        const pagenote = this.pagenote;\n        pagenote.toggleAllLight();\n    };\n\n    toggleAutoLight(){\n        const pagenote = this.pagenote;\n        pagenote.runningSetting.autoLight = !pagenote.runningSetting.autoLight;\n        pagenote.makelink();\n    };\n\n\n    replay() {\n        this.pagenote.replay(...arguments);\n        this.refreshStatus();\n    }\n\n    changeLightStatus(index) {\n        this.pagenote.replay(index,true, true, false,true);\n        this.pagenote.recordedSteps[index].writing = true;\n        this.refreshStatus();\n    }\n\n    toggleSideBar() {\n        let newStatus = this.state.barInfo.status || '';\n        const barInfo = this.pagenote.runningSetting.barInfo;\n        if(newStatus===BAR_STATUS.expand){\n            newStatus = BAR_STATUS.fold\n        } else {\n            newStatus = BAR_STATUS.expand;\n        }\n        barInfo.status = newStatus;\n\n        this.pagenote.makelink();\n    }\n\n\n    setRef(dom){\n        const pagenote = this.pagenote;\n        if(this.sideEl){\n            return;\n        }\n        this.sideEl = dom;\n        let timer = null;\n        moveable(dom, (e)=> {\n                const x = e.clientX+50;\n                const y = e.clientY-10;\n                const origin = pagenote.runningSetting.barInfo;\n                origin.right = Math.max(1,(document.documentElement.clientWidth-x-10));\n                origin.right = Math.min(origin.right,document.documentElement.clientWidth-20);\n                origin.top = Math.max(Math.min(document.documentElement.clientHeight-200, y),0);\n                clearTimeout(timer);\n                timer = setTimeout(()=>{\n                    pagenote.makelink();\n                },600);\n                this.setState({\n                    barInfo:pagenote.runningSetting.barInfo,\n                })\n        },false)\n    }\n\n    confirmShare(){\n        this.pagenote.options.onShare(this.pagenote);\n    }\n\n    toggleHideSideBar(){\n        let newStatus = this.state.barInfo.status || '';\n        if(newStatus.indexOf(BAR_STATUS.expand)>-1){\n            newStatus= BAR_STATUS.fold\n        } else {\n            newStatus = BAR_STATUS.expand;\n        }\n        const barInfo = this.pagenote.runningSetting.barInfo;\n        barInfo.status = newStatus;\n        this.setState({\n            barInfo:barInfo,\n        });\n        this.pagenote.makelink();\n    }\n\n\n    setCategories = (categories)=>{\n        this.pagenote.categories = categories\n        this.pagenote.makelink();\n    };\n\n    bigPicture(e,snapshot,gallery=[],index=0){\n        BigPicture({\n            el: e.target,\n            // imgSrc: snapshot,\n            gallery: gallery,\n            position:index,\n            animationEnd: function() {\n            },\n        });\n    }\n\n    removeSnapshot=(index)=>{\n        this.pagenote.snapshots.splice(index,1);\n        this.pagenote.makelink()\n    };\n\n    capture =()=>{\n        this.pagenote.capture();\n        this.setState({\n            capturing: true,\n        },()=>{\n            setTimeout(()=>{\n                this.setState({\n                    capturing: false,\n                })\n            },3000)\n        })\n    };\n\n    setLastFocus =(info)=>{\n        this.setState({\n            lastFocus: info,\n        })\n    }\n\n    render() {\n        const {\n            status,barInfo,steps,runindex,categories,snapshots,run\n        } = this.state;\n        const barStatus = barInfo.status||'';\n        const isExpand = barStatus === BAR_STATUS.expand;\n        const showBar = steps.length > 0 || snapshots.length > 0;\n        const top = isExpand?0:barInfo.top;\n        barInfo.right = Math.min(document.documentElement.clientWidth-200,barInfo.right);\n        let right = Math.max(barInfo.right,0);\n\n        const actions = this.pagenote.options.sideBarActions;\n\n        let colorSet = new Set();\n        steps.forEach((step)=>{\n            colorSet.add(step.lightBg||step.bg);\n        });\n\n        const targets = document.querySelectorAll(`pagenote-light-aside-item[data-insign=\"1\"][data-focus=\"1\"]`);\n        const inViewTargets =  document.querySelectorAll(`pagenote-light-aside-item[data-insign=\"1\"]`);\n\n        const target = targets[Math.floor(targets.length/2)] || inViewTargets[Math.floor(inViewTargets.length/2)];\n\n        const topMask = target ? target.offsetTop : 0;\n        const heightMask = target ? 28 : 0;\n\n\n        return(\n            status===this.pagenote.CONSTANT.DESTROY ? '' :\n            <>\n                {\n                    showBar &&\n                    <pagenote-aside data-status={isExpand?'expand':'fold'} style={{right: right + 'px', top: top + 'px',position:'fixed'}}>\n                        <pagenote-actions ref={this.setRef.bind(this)}>\n                            <Tip message={i18n.t('toggle_marks')}>\n                                <pagenote-action onClick={this.toggleAllLight} >\n                                    <LightIcon run={run}  colors={steps.map((s)=>s.bg)} />\n                                </pagenote-action>\n                            </Tip>\n\n                            <pagenote-action-group>\n                                {\n                                    actions.map((action,index)=>\n                                      <Tip message={action.name}>\n                                          <pagenote-action\n                                              key={action.name+index}\n                                               onClick={action.onclick}\n                                               style={{ backgroundImage: `url(data:image/svg+xml;base64,${window.btoa(action.icon)})`, }}\n                                          />\n                                      </Tip>\n                                      )\n                                }\n                            </pagenote-action-group>\n\n                            <pagenote-action data-action='toggle' onClick={this.toggleHideSideBar.bind(this)}>\n                                {isExpand ? <ExpandIcon />:  <Toggle />}\n                            </pagenote-action>\n\n                        </pagenote-actions>\n\n                        <ScrollProgress useDot={isExpand} steps={steps} />\n\n                        {/*标记*/}\n                        <pagenote-lights>\n                            {/*{*/}\n                            {/*    isExpand ? '' : <pagenote-light-aside-mask style={{*/}\n                            {/*        height: heightMask,*/}\n                            {/*        top: topMask*/}\n                            {/*    }} />*/}\n                            {/*}*/}\n\n                            {\n                                steps.map((record, index) => (\n                                  <StepSign\n                                    key={record.lightId}\n                                    step={record}\n                                    index={index}\n                                    running={index === runindex}\n                                    dot={isExpand}\n                                    lastFocusId={this.state.lastFocus}\n                                    colors={this.pagenote.options.brushes.map((brush)=>{return brush.bg})}\n                                    onClick={(e)=>{\n                                      const target = e.currentTarget;\n                                      this.setLastFocus(record.lightId)\n                                      // setTimeout(()=>{\n                                      //     console.log(e.currentTarget,target)\n                                      //     this.setLastFocus({\n                                      //         lightId: record.lightId,\n                                      //         height: target.offsetHeight,\n                                      //         top: target.offsetTop,\n                                      //     })\n                                      // },1000)\n                                    }}\n                                  />\n                                ))\n                            }\n                        </pagenote-lights>\n\n                        <pagenote-infos>\n                            <Tags allTags={this.pagenote.options.categories}\n                                  initTagSets={categories}\n                                  onchange={(values)=>{this.setCategories(values)}} />\n                            <pagenote-snapshots>\n                                {\n                                    snapshots.map((img,index)=>(\n                                        <pagenote-snapshot>\n                                            <pagenote-icon>\n                                                <RemoveIcon onClick={()=>this.removeSnapshot(index)} className={sideStyle.removeIcon}/>\n                                            </pagenote-icon>\n                                            <img onClick={(e)=>{\n                                                this.bigPicture(e,img,snapshots.map((s)=>{\n                                                    return {\n                                                        src:s,\n                                                    }\n                                                }),index)\n                                            }} src={img} alt=\"\"/>\n                                        </pagenote-snapshot>\n                                    ))\n                                }\n                            </pagenote-snapshots>\n                        </pagenote-infos>\n                    </pagenote-aside>\n                }\n            </>\n        )\n    }\n}\n\n\nfunction StepSign({step,running=false,index,dot,lastFocusId,onClick,colors}) {\n    const changeLevel = function (level) {\n        step.level = level;\n        step.save.call(step)\n    }\n    return (\n        <pagenote-light-aside-item\n            data-active={step.isActive?'1':'0'}\n            data-insign={step.isInview?'1':''}\n            data-level={step.level}\n            data-dot={dot?'1':'0'}\n            data-running={running}\n            onClick={onClick}\n            data-focus={lastFocusId===step.lightId?'1':'0'}\n            style={{\n                top: dot? computeTop(step.y, index) + \"px\" : 'unset',\n                '--color': step.bg,\n                '--shadow-color': dot? '#d8d8d8' : (step.tip ? step.bg : ''),\n                position: dot ? 'absolute' : 'relative'\n            }}\n        >\n\n            <pagenote-light-aside-item-container>\n                <LightRefAnotation step={step} />\n            </pagenote-light-aside-item-container>\n            <pagenote-light-anotation>\n                {\n                    step.tip &&\n                    <pagenote-block dangerouslySetInnerHTML={{__html: step.tip}}>\n\n                    </pagenote-block>\n                }\n            </pagenote-light-anotation>\n            <pagenote-light-aside-item-sign data-level={step.level} onClick={()=>step.toggle()} />\n            <pagenote-light-actions-container>\n                <pagenote-light-aside-item-sign data-switch='1' data-level={step.level===1?2:1} onClick={()=>{changeLevel(step.level===1?2:1)}} />\n                <LightActionBar step={step} colors={colors} />\n            </pagenote-light-actions-container>\n        </pagenote-light-aside-item>\n    )\n}\n\nexport default AsideBar;\n","\n\nimport { h } from 'preact';\n\nexport default function (props) {\n    var styles = props.styles;\n    var rest = Object.assign({}, props);\n    delete rest.styles;\n\n    return h('svg', Object.assign({\"t\":\"1606536179078\",\"class\":[styles && styles[\"icon\"] || \"icon\"].join(' '),\"viewBox\":\"0 0 1024 1024\",\"version\":\"1.1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"p-id\":\"5142\",\"width\":\"30\",\"height\":\"30\"}, rest), [h('path', {\"d\":\"M876.425846 400.817231l-268.169846 268.130461-185.107692 99.958154-56.241231 56.201846a35.446154 35.446154 0 0 1-42.929231 5.553231l-177.309538-103.424a35.446154 35.446154 0 0 1-7.207385-55.689846l93.105231-93.065846 99.997538-185.225846 268.169846-268.169847a35.446154 35.446154 0 0 1 50.097231 0l225.595077 225.595077a35.446154 35.446154 0 0 1 0 50.136616z\",\"fill\":\"#FFFFFF\",\"p-id\":\"5143\"}, []), h('path', {\"d\":\"M876.425846 400.817231l-268.169846 268.130461-185.107692 99.958154-190.621539-190.424615 100.036923-185.225846 268.169846-268.169847a35.446154 35.446154 0 0 1 50.097231 0l225.595077 225.595077a35.446154 35.446154 0 0 1 0 50.136616z\",\"fill\":\"#FAD97F\",\"p-id\":\"5144\"}, []), h('path', {\"d\":\"M876.425846 400.817231l-268.169846 268.130461-275.692308-275.692307 268.169846-268.169847a35.446154 35.446154 0 0 1 50.097231 0l225.595077 225.595077a35.446154 35.446154 0 0 1 0 50.136616z\",\"fill\":\"#FAD97F\",\"p-id\":\"5145\"}, []), h('path', {\"d\":\"M888.950154 338.156308l-225.555692-225.595077a53.169231 53.169231 0 0 0-75.224616 0L320.039385 380.731077l-3.072 4.096-98.855385 183.020308-91.175385 91.175384a53.169231 53.169231 0 0 0 10.791385 83.534769L315.076923 845.981538l4.568615 2.363077a53.169231 53.169231 0 0 0 59.825231-10.712615l54.429539-54.390154 182.823384-98.697846 4.096-3.032615 268.209231-268.209231a53.169231 53.169231 0 0 0 0-75.145846z m-25.048616 25.048615l2.048 2.441846a17.723077 17.723077 0 0 1-2.048 22.606769l-266.24 266.24-182.980923 98.816-4.096 3.072-56.24123 56.201847a17.723077 17.723077 0 0 1-21.425231 2.756923L155.569231 711.995077a17.723077 17.723077 0 0 1-3.623385-27.844923l93.105231-93.105231 3.072-4.096 98.737231-182.941538 266.358154-266.358154a17.723077 17.723077 0 0 1 25.048615 0l225.595077 225.595077z\",\"fill\":\"#000000\",\"p-id\":\"5146\"}, []), h('path', {\"d\":\"M888.950154 338.156308l-225.555692-225.595077a53.169231 53.169231 0 0 0-75.224616 0L320.039385 380.731077l-3.072 4.096-106.299077 196.844308 209.250461 209.092923 196.765539-106.220308 4.096-3.032615 268.20923-268.209231a53.169231 53.169231 0 0 0 0-75.145846z m-25.048616 25.048615l2.048 2.441846a17.723077 17.723077 0 0 1-2.048 22.606769L597.464615 654.572308l-171.204923 92.435692-171.874461-171.716923 92.553846-171.441231 266.24-266.24a17.723077 17.723077 0 0 1 25.088 0l225.595077 225.595077z\",\"fill\":\"#000000\",\"p-id\":\"5147\"}, []), h('path', {\"d\":\"M888.950154 338.156308l-225.555692-225.595077a53.169231 53.169231 0 0 0-75.224616 0L307.475692 393.255385l300.780308 300.780307 280.694154-280.694154a53.169231 53.169231 0 0 0 0-75.224615z m-25.048616 25.048615l2.048 2.441846a17.723077 17.723077 0 0 1-2.048 22.606769l-255.645538 255.606154L357.612308 393.216l255.606154-255.606154a17.723077 17.723077 0 0 1 25.088 0l225.595076 225.595077z\",\"fill\":\"#000000\",\"p-id\":\"5148\"}, [])]);\n};\n\n        ","import { h } from 'preact';\nimport {computePosition, convertColor, isMobile} from \"@/utils\";\nimport Highlight from '@/assets/images/highlight.svg';\nimport i18n from '@/locale/i18n';\nimport Tip from '../tip/Tip'\nimport './action-bar.scss';\n\nexport default function ActionBars ({pagenote}) {\n  const recordButtonX = pagenote.target.x+'px';\n  const recordButtonY = pagenote.target.y + \"px\";\n  const functionColors = pagenote.options.functionColors;\n  const brushes = pagenote.options.brushes;\n  const showButton = (pagenote.status === pagenote.CONSTANT.WAITING ||\n                    pagenote.status === pagenote.CONSTANT.PLAYANDWAIT);\n\n  const canHighlight = pagenote.target && pagenote.target.canHighlight;\n\n  function recordNew(item,level) {\n    pagenote.record({\n      bg:item.bg,\n      level: level || item.level,\n    });\n  }\n\n  const showAnimation = pagenote.options.showIconAnimation;\n\n  return (\n    <pagenote-block style={{\n      position: \"absolute\",\n      zIndex: 2147483648,\n      left: recordButtonX,\n      top: recordButtonY,\n      transition: \".5s\",\n      userSelect: \"none\",\n      textAlign: 'left'\n    }}>\n      {\n        showButton\n        &&\n        <pagenote-block>\n          {\n            canHighlight &&\n            <pagenote-colors-container>\n              {\n                brushes.map((item, index) => {\n                  const {x:offsetX,y:offsetY} = (isMobile || index===0) ? {\n                    x: (index) * - 40,\n                    y: 0,\n                  } : computePosition(index-1);\n\n                  return(\n                    <pagenote-color-button\n                         data-pagenotecolor={item.bg}\n                         style={{\n                           '--color': item.bg,\n                           transform: `translate(${offsetX}px,${offsetY}px)`,\n                           top: (offsetY / -1) + 'px',\n                           left: (offsetX / -1) + 'px',\n                           color: convertColor(item.bg).textColor,\n                           textShadow: `1px 1px 0px ${convertColor(convertColor(item.bg).textColor).textColor}`,\n                           animation:`${(showAnimation&&index!==0)?'colorShow 3s ease-out':''}`,\n                           // animationDelay: index*0.1+'s',\n                           // transitionDelay: index*0.1+'s',\n                         }}\n                         onClick={()=>recordNew(item)}\n                    >{index!==0?item.shortcut:\n                      <span>\n                          <Highlight  data-pagenotecolor={item.bg} style={{userSelect:'none'}} fill={item.bg}/>\n                      </span> }\n                    </pagenote-color-button>\n                  )\n                })\n              }\n            </pagenote-colors-container>\n          }\n          {\n            functionColors.map((actionGroup,index)=> {\n              // actionGroup filter when\n              return (\n                <pagenote-plugin-group\n                  style={{\n                  left: ((index+1)*34+4) + 'px',\n                  animationDelay: (index+1) * 0.2 + 's',\n                }}>\n                  {\n                    actionGroup.map((action)=>{\n                      const image = /^<svg/.test(action.icon) ?  `data:image/svg+xml;base64,${window.btoa(action.icon)}` : action.icon;\n                      return (\n                        <Tip message={`${action.name}${action.shortcut?i18n.t('shortcut')+action.shortcut:''}`}>\n                          <pagenote-action-button\n                            key={action.name}\n                            data-eventid={action.eventid}\n                            style={{\n                              backgroundImage: `url(${image})`,\n                            }}\n                            onClick={action.onclick}\n                            onMouseOver={action.onmouseover}\n                            onDblclick={action.ondbclick}\n                          >\n                          </pagenote-action-button>\n                        </Tip>\n\n                      )\n                    })\n                  }\n                </pagenote-plugin-group>\n              )\n            })\n          }\n        </pagenote-block>\n      }\n    </pagenote-block>\n  )\n}\n","import { h, render,Component, Fragment} from 'preact';\nimport LightNode from \"./LightNode\";\n\nexport default class ActionBars extends Component{\n  constructor(props){\n    super(props);\n    this.state={\n      lights:[],\n      position:{},\n    }\n  }\n\n  componentDidMount() {\n    this.props.pagenote.addListener(()=>{\n      const lights = this.props.pagenote.recordedSteps;\n      this.setState({\n        lights: lights,\n      });\n    });\n\n\n    let actionRoot = null;\n    let lastFocusLight = [];\n    let timer = null;\n    const listenType = 'mousemove'; // 'mousemove'\n    document.addEventListener(listenType, (e)=> {\n      actionRoot =  actionRoot || document.querySelector('pagenote-tags');\n      const isLight = e.target && e.target.tagName.toLowerCase()==='light';\n      const isChild = (actionRoot && actionRoot.contains(e.target));\n\n      clearTimeout(timer);\n\n      if(isLight || isChild){\n        if(e.target._light){\n          lastFocusLight.forEach((item)=>{\n            item.isFocus = false;\n          });\n          lastFocusLight = [];\n          e.target._light.isFocus = true;\n          lastFocusLight.push(e.target._light);\n        }\n      }else {\n        timer = setTimeout(()=>{\n          lastFocusLight.forEach((item)=>{\n            item.isFocus = false;\n          });\n          lastFocusLight = [];\n        },100)\n      }\n      this.setState({\n        lights: this.props.pagenote.recordedSteps,\n      })\n    },{capture:true});\n\n    document.addEventListener('click',(e)=>{\n      const target = e.target;\n      const parentTarget = e.target.parentNode;\n      const light = target._light || ( parentTarget ? parentTarget._light : null );\n\n      if(light){\n        light.toggle(undefined,false)\n      }\n    },{capture:true});\n  }\n\n  render() {\n    const {lights} = this.state;\n    return(\n      <Fragment>\n        {\n          lights.map((item)=>(\n            item.relatedNode.length?\n            <LightNode key={item.lightId} pagenote={this.props.pagenote} light={item} />:null\n          ))\n        }\n      </Fragment>\n    )\n  }\n}\n","import PagenoteCore from './pagenote-core'\nimport { h, render } from 'preact';\nimport AsideBar from \"./component/aside/AsideBar\";\nimport ActionBars from \"./component/action/ActionBars\";\nimport LightActionBar from \"./component/light/LightActionBar\";\nimport {debounce} from './utils';\n\nfunction PageNote(id,options={}){\n    const pagenoteCore = new PagenoteCore(id,options);\n    const rootElement = document.documentElement || document.body || document.createElement('div');\n\n    // side-bar\n    const sidebar = document.createElement('pagenote-bar');\n    sidebar.dataset.pagenote='sidebar';\n    rootElement.appendChild(sidebar);\n    render(<AsideBar pagenote={pagenoteCore} /> , sidebar);\n\n    // action-bar\n    let actionBar = null;\n    pagenoteCore.addListener(debounce(function (status,before) {\n        if(status===before && status!==pagenoteCore.CONSTANT.WAITING){\n            return;\n        }\n        const showButton = (pagenoteCore.target && (status === pagenoteCore.CONSTANT.WAITING || status === pagenoteCore.CONSTANT.PLAYANDWAIT));\n        if(showButton) {\n            actionBar = actionBar || document.createElement('pagenote-action');\n            actionBar.dataset.pagenote = 'action';\n            render(<ActionBars pagenote={pagenoteCore} />, actionBar);\n            rootElement.appendChild(actionBar);\n        } else {\n            actionBar && actionBar.remove();\n        }\n    },16));\n\n    // lights\n    const stepBar = document.createElement('pagenote-tags');\n    stepBar.className='no-pagenote';\n    stepBar.dataset.pagenote = 'tags';\n    render(<LightActionBar pagenote={pagenoteCore}/>,stepBar);\n    rootElement.appendChild(stepBar);\n    return pagenoteCore;\n}\nexport default PageNote;\nwindow.PageNote = PageNote;\n","function getCoords(elem) {\n    var box = elem.getBoundingClientRect();\n    var body = document.body;\n    var docEl = document.documentElement;\n    var scrollTop = window.pageYOffset || docEl.scrollTop || body.scrollTop;\n    var scrollLeft = window.pageXOffset || docEl.scrollLeft || body.scrollLeft;\n    var clientTop = docEl.clientTop || body.clientTop || 0;\n    var clientLeft = docEl.clientLeft || body.clientLeft || 0;\n    var top  = box.top +  scrollTop - clientTop;\n    var left = box.left + scrollLeft - clientLeft;\n    return { top: Math.round(top), left: Math.round(left) };\n}\n\nfunction initFunction(){\n    var init =  function (argument) {\n        this.options = Object.assign({},{\n            draw:true,\n            /**尽可能短的wid*/\n            simpleId:true\n        },argument)\n        this.lastClick = document.body\n        var that = this\n        /**点击其他地方时，清除*/\n        document.addEventListener('mousedown', function(event){\n            that.lastClick = event.target\n            if(that.focusedElement!==that.lastClick){\n              init.prototype.clean()\n            }\n        })\n    }\n    return init;\n}\n\nfunction simpleFyId(wid) {\n    if(!wid){\n        return wid;\n    }\n    var result = wid;\n    // todo 递归二分法 衰减\n    try{\n        var classList = wid.split('.');\n        var newQuery = classList.slice(0,Math.fround(classList.length/2)).join('.');\n        if(!newQuery){\n            return wid;\n        }\n        if(document.querySelector(newQuery)===document.querySelector(wid)){\n            result = newQuery;\n        }\n    }catch (e) {\n        \n    }\n    return result;\n}\n\nexport {\n    simpleFyId,\n    getCoords,\n    initFunction\n}","/**\n * Created by rowthan on 2017/12/9.\n * 包含核心 api 获取id,获取元素，不含UI\n */\nimport {getCoords,initFunction,simpleFyId} from \"./helper\";\nvar document = window.document,noop = function(){},\nwhatsElementPure = initFunction(),\nprototype = whatsElementPure.prototype\n\nprototype.getUniqueId = function (element,parent) {\n    element = element ? element : this.lastClick;\n    if(!(element instanceof HTMLElement)){\n        console.error(\"input is not a HTML element\",element);\n        return {};\n    }\n    var result = {\n        wid:\"\",\n        type:\"\",\n    },\n    //construct data info of the element\n      id = element.id,\n      name = element.name,\n      tag = element.tagName.toLowerCase(),\n      type = element.type?element.type.toLowerCase():\"\",\n      className = \"\",\n      classList = element.classList || [];\n      classList.forEach(function (item) {\n        if(/^[a-zA-Z]/.test(item)){ // 过滤非法 class 名称\n            className += \".\"+item;\n        }\n      });\n    if(tag===\"body\" || tag=== \"html\"){\n        result.wid = tag;\n        result.type= tag;\n    }\n    //locate by id\n    if(id && document.getElementById(id) === element){\n        var regExp= new RegExp(\"^[a-zA-Z]+\") ;\n        /**当不为parent定位，且设置为简单结果时，直接返回id 否则使用完整路径标识符。注：两个if顺序不能更换，递归调用时 simpleId为undefined*/\n        if(!parent && this.options.simpleId){\n            result.wid = id;\n        }\n        /*如果为parent定位，或者设置为完整结果时候，返回tag#id*/\n        else if(regExp.test(id)){\n            result.wid = tag+\"#\"+id\n        }\n        result.type = \"document.getElementById()\"\n    }\n    //locate by name\n    if(!result.wid && name && document.getElementsByName(name)[0] === element){\n        result.wid = name;\n        result.type = \"document.getElementsByName()\"\n    }\n    //locate by class\n    if(!result.wid && className && document.querySelector(tag+className)===element){\n        result.wid = tag+className;\n        result.type = \"document.querySelector()\"\n    }\n    //for radio\n    if(!result.wid && type === \"radio\"){\n        var value = element.value,queryString = tag+\"[value='\"+value+\"']\"\n        if(name){\n            queryString += \"[name='\"+name+\"']\"\n        }\n        if(document.querySelector(queryString)===element){\n            result.wid = queryString\n            result.type = \"document.querySelector()\"\n        }\n    }\n    if(!result.wid && tag === 'a'){\n        var href = element.attributes.href.value;\n        if(href){\n            queryString = \"a[href='\"+href+\"']\";\n            var selectedEl = document.querySelector(queryString);\n            if(selectedEl===element){\n                result.wid = queryString\n                result.type = \"document.querySelector()\"\n            }\n        }\n    }\n    //locate by tag,class,name\n    if(!result.wid){\n        queryString = tag;\n        queryString = className ? queryString +className: queryString\n        queryString = name? queryString + \"[name='\"+name+\"']\": queryString\n        if(document.querySelector(queryString)===element){\n            result.wid = queryString\n            result.type = \"document.querySelector()\"\n        }\n    }\n    //locate by order\n    if(!result.wid){\n        queryString = tag\n        queryString = className ? queryString +className: queryString\n\n        var elements = document.querySelectorAll(queryString)\n        if(elements && elements.length>0){\n            var index = null\n            for(var i=0; i<elements.length; i++){\n                if(element===elements[i]){\n                    index = i+1;\n                    break;\n                }\n            }\n            if(index){\n                queryString = queryString + \":nth-child(\"+index+\")\"\n                if(document.querySelector(queryString) === element){\n                    result.wid = queryString\n                    result.type = \"document.querySelector()\"\n                }\n            }\n        }\n    }\n    if(result.wid){ // 通过本身已经定位到自己时，尝试简化ID长度\n        result.wid = simpleFyId(result.wid);\n    }\n    //location by parent\n    else {\n        // 没有父节点\n        if(!element.parentNode){\n            return {wid:null,type:'NO_LOCATION'}\n        }\n        var parentQueryResult = whatsElementPure.prototype.getUniqueId(element.parentNode,true);\n        var parentQueryString = parentQueryResult?parentQueryResult.wid:\"\";\n        parentQueryString = simpleFyId(parentQueryString);\n        if(!parentQueryString){\n            return{\n                wid: null,\n                type:\"NO_LOCATION\"\n            };\n        }\n        // 通过 name.class 来寻找子节点\n        var targetQuery = tag;\n        if(className){\n            targetQuery += className;\n        }\n          queryString = parentQueryString+\">\"+targetQuery\n          var queryElements = document.querySelectorAll(queryString);\n        if(queryElements.length>1){\n            queryString = null;\n            var index = null;\n            for(var j=0; j<element.parentNode.children.length; j++){\n                if(element.parentNode.children[j]===element){\n                    index = j+1;\n                    break;\n                }\n            }\n            if(index>=1){\n                queryString = parentQueryString+\">\"+ targetQuery + \":nth-child(\"+index+\")\";\n                var queryTarget = document.querySelector(queryString);\n                if(queryTarget!==element){\n                    queryString = null;\n                }\n            }\n        }\n        result.wid = queryString\n        result.type = \"document.querySelector()\"\n    }\n\n    this.focusedElement = prototype.getTarget(result.wid);\n    if(!parent && this.options.draw ){\n        this.__proto__.draw(result);\n    }\n    if(result.wid.length>'10'){\n        result.warn = true;\n    }\n    return result\n};\n\nprototype.getTarget = function (queryString,type) {\n    var result = null;\n    try{\n        switch (type) {\n            case 'document.getElementById()':\n                result = document.getElementById(queryString);\n                break;\n            case 'document.getElementsByName()':\n                result = document.getElementsByName(queryString)[0];\n                break;\n            case 'document.querySelector()':\n                result = document.querySelector(queryString);\n                break;\n            default:\n                result = document.getElementById(queryString) || document.getElementsByName(queryString)[0] || document.querySelector(queryString);\n        }\n    }catch (e) {\n        console.error(e);\n    }\n    return result;\n};\n\nprototype.compute = function(element){\n    element = element ? element : this.lastClick;\n    var uinque = this.getUniqueId(element);\n    var viewPosition = element.getBoundingClientRect();\n    var inView = viewPosition.left>0 && viewPosition.left < window.innerWidth && viewPosition.top>0 && viewPosition.top<window.innerHeight;\n\n    var result = {\n        wid: uinque.wid,\n        type: uinque.type,\n        top:getCoords(element).top,\n        left:getCoords(element).left,\n        viewLeft:viewPosition.left,\n        viewTop: viewPosition.top,\n        text: element.innerText,\n        visible: inView,\n    };\n    return result;\n};\n\nprototype.clean = noop\nprototype.draw = noop\nwindow.whatsElement = whatsElementPure;\nexport default whatsElementPure\n"],"sourceRoot":""}